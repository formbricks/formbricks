!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).formbricksSurveys={})}(this,(function(e){"use strict";function t(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var n,r,o,a,i,s,l,c,d,u,f={},b=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function m(e,t){for(var n in t)e[n]=t[n];return e}function g(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function v(e,t,r){var o,a,i,s={};for(i in t)"key"==i?o=t[i]:"ref"==i?a=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?n.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===s[i]&&(s[i]=e.defaultProps[i]);return y(e,s,o,a,null)}function y(e,t,n,a,i){var s={type:e,props:t,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++o:i,__i:-1,__u:0};return null==i&&null!=r.vnode&&r.vnode(s),s}function w(e){return e.children}function _(e,t){this.props=e,this.context=t}function x(e,t){if(null==t)return e.__?x(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?x(e):null}function k(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return k(e)}}function C(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!j.__r++||i!==r.debounceRendering)&&((i=r.debounceRendering)||s)(j)}function j(){var e,t,n,o,i,s,c,d;for(a.sort(l);e=a.shift();)e.__d&&(t=a.length,o=void 0,s=(i=(n=e).__v).__e,c=[],d=[],n.__P&&((o=m({},i)).__v=i.__v+1,r.vnode&&r.vnode(o),A(n.__P,o,i,n.__n,n.__P.namespaceURI,32&i.__u?[s]:null,c,null==s?x(i):s,!!(32&i.__u),d),o.__v=i.__v,o.__.__k[o.__i]=o,D(c,o,d),o.__e!=s&&k(o)),a.length>t&&a.sort(l));j.__r=0}function S(e,t,n,r,o,a,i,s,l,c,d){var u,p,m,g,v,_=r&&r.__k||b,k=t.length;for(n.__d=l,function(e,t,n){var r,o,a,i,s,l=t.length,c=n.length,d=c,u=0;for(e.__k=[],r=0;r<l;r++)null!=(o=t[r])&&"boolean"!=typeof o&&"function"!=typeof o?(i=r+u,(o=e.__k[r]="string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?y(null,o,null,null,null):h(o)?y(w,{children:o},null,null,null):void 0===o.constructor&&o.__b>0?y(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=e,o.__b=e.__b+1,a=null,-1!==(s=o.__i=I(o,n,i,d))&&(d--,(a=n[s])&&(a.__u|=131072)),null==a||null===a.__v?(-1==s&&u--,"function"!=typeof o.type&&(o.__u|=65536)):s!==i&&(s==i-1?u--:s==i+1?u++:(s>i?u--:u++,o.__u|=65536))):o=e.__k[r]=null;if(d)for(r=0;r<c;r++)null!=(a=n[r])&&!(131072&a.__u)&&(a.__e==e.__d&&(e.__d=x(a)),M(a,a))}(n,t,_),l=n.__d,u=0;u<k;u++)null!=(m=n.__k[u])&&(p=-1===m.__i?f:_[m.__i]||f,m.__i=u,A(e,m,p,o,a,i,s,l,c,d),g=m.__e,m.ref&&p.ref!=m.ref&&(p.ref&&q(p.ref,null,m),d.push(m.ref,m.__c||g,m)),null==v&&null!=g&&(v=g),65536&m.__u||p.__k===m.__k?l=N(m,l,e):"function"==typeof m.type&&void 0!==m.__d?l=m.__d:g&&(l=g.nextSibling),m.__d=void 0,m.__u&=-196609);n.__d=l,n.__e=v}function N(e,t,n){var r,o;if("function"==typeof e.type){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=N(r[o],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=x(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function L(e,t){return t=t||[],null==e||"boolean"==typeof e||(h(e)?e.some((function(e){L(e,t)})):t.push(e)),t}function I(e,t,n,r){var o=e.key,a=e.type,i=n-1,s=n+1,l=t[n];if(null===l||l&&o==l.key&&a===l.type&&!(131072&l.__u))return n;if(r>(null==l||131072&l.__u?0:1))for(;i>=0||s<t.length;){if(i>=0){if((l=t[i])&&!(131072&l.__u)&&o==l.key&&a===l.type)return i;i--}if(s<t.length){if((l=t[s])&&!(131072&l.__u)&&o==l.key&&a===l.type)return s;s++}}return-1}function O(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||p.test(t)?n:n+"px"}function T(e,t,n,r,o){var a;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||O(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||O(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r?n.u=r.u:(n.u=c,e.addEventListener(t,a?u:d,a)):e.removeEventListener(t,a?u:d,a);else{if("http://www.w3.org/2000/svg"==o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(i){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function E(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=c++;else if(t.t<n.u)return;return n(r.event?r.event(t):t)}}}function A(e,t,o,a,i,s,l,c,d,u){var b,p,v,y,k,C,j,N,L,I,O,E,A,D,q,M,P=t.type;if(void 0!==t.constructor)return null;128&o.__u&&(d=!!(32&o.__u),s=[c=t.__e=o.__e]),(b=r.__b)&&b(t);e:if("function"==typeof P)try{if(N=t.props,L="prototype"in P&&P.prototype.render,I=(b=P.contextType)&&a[b.__c],O=b?I?I.props.value:b.__:a,o.__c?j=(p=t.__c=o.__c).__=p.__E:(L?t.__c=p=new P(N,O):(t.__c=p=new _(N,O),p.constructor=P,p.render=$),I&&I.sub(p),p.props=N,p.state||(p.state={}),p.context=O,p.__n=a,v=p.__d=!0,p.__h=[],p._sb=[]),L&&null==p.__s&&(p.__s=p.state),L&&null!=P.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=m({},p.__s)),m(p.__s,P.getDerivedStateFromProps(N,p.__s))),y=p.props,k=p.state,p.__v=t,v)L&&null==P.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),L&&null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(L&&null==P.getDerivedStateFromProps&&N!==y&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(N,O),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(N,p.__s,O)||t.__v===o.__v)){for(t.__v!==o.__v&&(p.props=N,p.state=p.__s,p.__d=!1),t.__e=o.__e,t.__k=o.__k,t.__k.some((function(e){e&&(e.__=t)})),E=0;E<p._sb.length;E++)p.__h.push(p._sb[E]);p._sb=[],p.__h.length&&l.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(N,p.__s,O),L&&null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(y,k,C)}))}if(p.context=O,p.props=N,p.__P=e,p.__e=!1,A=r.__r,D=0,L){for(p.state=p.__s,p.__d=!1,A&&A(t),b=p.render(p.props,p.state,p.context),q=0;q<p._sb.length;q++)p.__h.push(p._sb[q]);p._sb=[]}else do{p.__d=!1,A&&A(t),b=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++D<25);p.state=p.__s,null!=p.getChildContext&&(a=m(m({},a),p.getChildContext())),L&&!v&&null!=p.getSnapshotBeforeUpdate&&(C=p.getSnapshotBeforeUpdate(y,k)),S(e,h(M=null!=b&&b.type===w&&null==b.key?b.props.children:b)?M:[M],t,o,a,i,s,l,c,d,u),p.base=t.__e,t.__u&=-161,p.__h.length&&l.push(p),j&&(p.__E=p.__=null)}catch(R){if(t.__v=null,d||null!=s){for(t.__u|=d?160:32;c&&8===c.nodeType&&c.nextSibling;)c=c.nextSibling;s[s.indexOf(c)]=null,t.__e=c}else t.__e=o.__e,t.__k=o.__k;r.__e(R,t,o)}else null==s&&t.__v===o.__v?(t.__k=o.__k,t.__e=o.__e):t.__e=function(e,t,o,a,i,s,l,c,d){var u,b,p,m,v,y,w,_=o.props,k=t.props,C=t.type;if("svg"===C?i="http://www.w3.org/2000/svg":"math"===C?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=s)for(u=0;u<s.length;u++)if((v=s[u])&&"setAttribute"in v==!!C&&(C?v.localName===C:3===v.nodeType)){e=v,s[u]=null;break}if(null==e){if(null===C)return document.createTextNode(k);e=document.createElementNS(i,C,k.is&&k),c&&(r.__m&&r.__m(t,s),c=!1),s=null}if(null===C)_===k||c&&e.data===k||(e.data=k);else{if(s=s&&n.call(e.childNodes),_=o.props||f,!c&&null!=s)for(_={},u=0;u<e.attributes.length;u++)_[(v=e.attributes[u]).name]=v.value;for(u in _)if(v=_[u],"children"==u);else if("dangerouslySetInnerHTML"==u)p=v;else if(!(u in k)){if("value"==u&&"defaultValue"in k||"checked"==u&&"defaultChecked"in k)continue;T(e,u,null,v,i)}for(u in k)v=k[u],"children"==u?m=v:"dangerouslySetInnerHTML"==u?b=v:"value"==u?y=v:"checked"==u?w=v:c&&"function"!=typeof v||_[u]===v||T(e,u,v,_[u],i);if(b)c||p&&(b.__html===p.__html||b.__html===e.innerHTML)||(e.innerHTML=b.__html),t.__k=[];else if(p&&(e.innerHTML=""),S(e,h(m)?m:[m],t,o,a,"foreignObject"===C?"http://www.w3.org/1999/xhtml":i,s,l,s?s[0]:o.__k&&x(o,0),c,d),null!=s)for(u=s.length;u--;)g(s[u]);c||(u="value","progress"===C&&null==y?e.removeAttribute("value"):void 0!==y&&(y!==e[u]||"progress"===C&&!y||"option"===C&&y!==_[u])&&T(e,u,y,_[u],i),u="checked",void 0!==w&&w!==e[u]&&T(e,u,w,_[u],i))}return e}(o.__e,t,o,a,i,s,l,d,u);(b=r.diffed)&&b(t)}function D(e,t,n){t.__d=void 0;for(var o=0;o<n.length;o++)q(n[o],n[++o],n[++o]);r.__c&&r.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(n){r.__e(n,t.__v)}}))}function q(e,t,n){try{if("function"==typeof e){var o="function"==typeof e.__u;o&&e.__u(),o&&null==t||(e.__u=e(t))}else e.current=t}catch(a){r.__e(a,n)}}function M(e,t,n){var o,a;if(r.unmount&&r.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||q(o,null,t)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(i){r.__e(i,t)}o.base=o.__P=null}if(o=e.__k)for(a=0;a<o.length;a++)o[a]&&M(o[a],t,n||"function"!=typeof e.type);n||g(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function $(e,t,n){return this.constructor(e,n)}function P(e,t,o){var a,i,s,l;r.__&&r.__(e,t),i=(a="function"==typeof o)?null:t.__k,s=[],l=[],A(t,e=(!a&&o||t).__k=v(w,null,[e]),i||f,f,t.namespaceURI,!a&&o?[o]:i?null:t.firstChild?n.call(t.childNodes):null,s,!a&&o?o:i?i.__e:t.firstChild,a,l),D(s,e,l)}function R(e,t,r){var o,a,i,s,l=m({},e.props);for(i in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)"key"==i?o=t[i]:"ref"==i?a=t[i]:l[i]=void 0===t[i]&&void 0!==s?s[i]:t[i];return arguments.length>2&&(l.children=arguments.length>3?n.call(arguments,2):r),y(e.type,l,o||e.key,a||e.ref,null)}n=b.slice,r={__e:function(e,t,n,r){for(var o,a,i;t=t.__;)if((o=t.__c)&&!o.__)try{if((a=o.constructor)&&null!=a.getDerivedStateFromError&&(o.setState(a.getDerivedStateFromError(e)),i=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),i=o.__d),i)return o.__E=o}catch(s){e=s}throw e}},o=0,_.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=m({},this.state),"function"==typeof e&&(e=e(m({},n),this.props)),e&&m(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),C(this))},_.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),C(this))},_.prototype.render=w,a=[],s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,l=function(e,t){return e.__v.__b-t.__v.__b},j.__r=0,c=0,d=E(!1),u=E(!0);var U=0;function B(e,t,n,o,a,i){t||(t={});var s,l,c=t;if("ref"in c)for(l in c={},t)"ref"==l?s=t[l]:c[l]=t[l];var d={type:e,props:c,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--U,__i:-1,__u:0,__source:a,__self:i};if("function"==typeof e&&(s=e.defaultProps))for(l in s)void 0===c[l]&&(c[l]=s[l]);return r.vnode&&r.vnode(d),d}var F,Z,z,W,H=0,Q=[],V=r,Y=V.__b,K=V.__r,G=V.diffed,X=V.__c,J=V.unmount,ee=V.__;function te(e,t){V.__h&&V.__h(Z,e,H||t),H=0;var n=Z.__H||(Z.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function ne(e){return H=1,function(e,t,n){var r=te(F++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):pe(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=Z,!Z.u)){var o=function(e,t,n){if(!r.__c.__H)return!0;var o=r.__c.__H.__.filter((function(e){return!!e.__c}));if(o.every((function(e){return!e.__N})))return!a||a.call(this,e,t,n);var i=!1;return o.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(i=!0)}})),!(!i&&r.__c.props===e)&&(!a||a.call(this,e,t,n))};Z.u=!0;var a=Z.shouldComponentUpdate,i=Z.componentWillUpdate;Z.componentWillUpdate=function(e,t,n){if(this.__e){var r=a;a=void 0,o(e,t,n),a=r}i&&i.call(this,e,t,n)},Z.shouldComponentUpdate=o}return r.__N||r.__}(pe,e)}function re(e,t){var n=te(F++,3);!V.__s&&be(n.__H,t)&&(n.__=e,n.i=t,Z.__H.__h.push(n))}function oe(e,t){var n=te(F++,4);!V.__s&&be(n.__H,t)&&(n.__=e,n.i=t,Z.__h.push(n))}function ae(e){return H=5,ie((function(){return{current:e}}),[])}function ie(e,t){var n=te(F++,7);return be(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function se(e,t){return H=8,ie((function(){return e}),t)}function le(){for(var e;e=Q.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ue),e.__H.__h.forEach(fe),e.__H.__h=[]}catch(t){e.__H.__h=[],V.__e(t,e.__v)}}V.__b=function(e){Z=null,Y&&Y(e)},V.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),ee&&ee(e,t)},V.__r=function(e){K&&K(e),F=0;var t=(Z=e.__c).__H;t&&(z===Z?(t.__h=[],Z.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.i=e.__N=void 0}))):(t.__h.forEach(ue),t.__h.forEach(fe),t.__h=[],F=0)),z=Z},V.diffed=function(e){G&&G(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Q.push(t)&&W===V.requestAnimationFrame||((W=V.requestAnimationFrame)||de)(le)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.i=void 0}))),z=Z=null},V.__c=function(e,t){t.some((function(e){try{e.__h.forEach(ue),e.__h=e.__h.filter((function(e){return!e.__||fe(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],V.__e(n,e.__v)}})),X&&X(e,t)},V.unmount=function(e){J&&J(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{ue(e)}catch(n){t=n}})),n.__H=void 0,t&&V.__e(t,n.__v))};var ce="function"==typeof requestAnimationFrame;function de(e){var t,n=function(){clearTimeout(r),ce&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);ce&&(t=requestAnimationFrame(n))}function ue(e){var t=Z,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),Z=t}function fe(e){var t=Z;e.__c=e.__(),Z=t}function be(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function pe(e,t){return"function"==typeof t?t(e):t}const he=({buttonLabel:e,isLastQuestion:t,tabIndex:n=1,focus:r=!1,onClick:o,disabled:a,type:i,...s})=>B("button",{...s,dir:"auto",ref:se((e=>{e&&r&&setTimeout((()=>{e.focus()}),200)}),[r]),type:i,tabIndex:n,autoFocus:r,className:"fb-bg-brand fb-border-submit-button-border fb-text-on-brand focus:fb-ring-focus fb-rounded-custom fb-flex fb-items-center fb-border fb-px-3 fb-py-3 fb-text-base fb-font-medium fb-leading-4 fb-shadow-sm hover:fb-opacity-90 focus:fb-outline-none focus:fb-ring-2 focus:fb-ring-offset-2",onClick:o,disabled:a,children:e||(t?"Finish":"Next")}),me=({headline:e,questionId:t,required:n=!0,alignTextCenter:r=!1})=>B("label",{htmlFor:t,className:"fb-text-heading fb-mb-1.5 fb-block fb-text-base fb-font-semibold fb-leading-6",children:B("div",{className:"fb-flex fb-items-center "+(r?"fb-justify-center":"fb-justify-between"),dir:"auto",children:[e,!n&&B("span",{className:"fb-text-heading fb-mx-2 fb-self-start fb-text-sm fb-font-normal fb-leading-7 fb-opacity-60",tabIndex:-1,children:"Optional"})]})}),ge=(...e)=>e.filter(Boolean).join(" "),ve=e=>{for(let t=0;t<e.length;t++){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}},ye=(e,t)=>{const n=e.find((e=>"other"===e.id)),r=n?[...e.filter((e=>"other"!==e.id))]:[...e];if("all"===t)ve(r);else if("exceptLast"===t)if(n)ve(r);else{const e=r.pop();e&&(ve(r),r.push(e))}return n&&r.push(n),r.map((e=>e.id))},we=(e,t)=>{const n=e.questions[t],r=e.questions.length,o=Math.floor(r/2),a=_e(n);let i=t||.5;const s=(()=>{const t=e.questions.filter((e=>a.includes(e.id))).sort(((t,n)=>e.questions.indexOf(t)-e.questions.indexOf(n))).pop();return e.questions.findIndex((e=>e.id===(null==t?void 0:t.id)))})();return s>0&&(i=Math.min(o,s-1)),a.includes("end")&&(i=o),i},_e=e=>{if(!e.logic)return[];const t=[];return e.logic.forEach((e=>{e.actions.forEach((e=>{"jumpToQuestion"===e.objective&&t.push(e.target)}))})),t},xe=({className:e})=>B("div",{"data-testid":"loading-spinner",className:ge("fb-flex fb-h-full fb-w-full fb-items-center fb-justify-center",e??""),children:B("svg",{className:"fb-m-2 fb-h-6 fb-w-6 fb-animate-spin fb-text-brand",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[B("circle",{className:"fb-opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),B("path",{className:"fb-opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),ke=e=>{try{const t=new URL(e);if("https:"!==t.protocol)return!1;const n=["www.youtube.com","www.youtu.be","www.youtube-nocookie.com","youtube.com","youtu.be","youtube-nocookie.com"],r=t.hostname;return n.includes(r)}catch(t){return!1}},Ce=e=>{try{const t=new URL(e);if("https:"!==t.protocol)return!1;const n=["www.vimeo.com","vimeo.com"],r=t.hostname;return n.includes(r)}catch(t){return!1}},je=e=>{try{const t=new URL(e);if("https:"!==t.protocol)return!1;const n=["www.loom.com","loom.com"],r=t.hostname;return n.includes(r)}catch(t){return!1}},Se=e=>{if(ke(e)){if(e.includes("/embed/")){return`https://www.youtube.com/watch?v=${e.split("/embed/")[1].split("?")[0]}`}{const t=(e=>{let t="";return[/youtu\.be\/([a-zA-Z0-9_-]+)/,/youtube\.com.*v=([a-zA-Z0-9_-]+)/,/youtube\.com.*embed\/([a-zA-Z0-9_-]+)/,/youtube-nocookie\.com\/embed\/([a-zA-Z0-9_-]+)/].some((n=>{const r=e.match(n);return!(!r||!r[1]||(t=r[1],0))})),t})(e);if(t)return`https://www.youtube.com/embed/${t}`}}else{if(Ce(e)){if(e.includes("/video/")){return`https://www.vimeo.com/${e.split("/video/")[1].split("?")[0]}`}{const t=(e=>{const t=e.match(/vimeo\.com\/(\d+)/);return t&&t[1]?t[1]:null})(e);return`https://player.vimeo.com/video/${t}`}}if(je(e)){if(e.includes("/embed/")){return`https://www.loom.com/share/${e.split("/embed/")[1].split("?")[0]}`}{const t=(e=>{const t=e.match(/loom\.com\/share\/([a-zA-Z0-9]+)/);return t&&t[1]?t[1]:null})(e);return`https://www.loom.com/embed/${t}`}}}},Ne=({imgUrl:e,videoUrl:t,altText:n="Image"})=>{const r=t?(e=>{const t=ke(e),n=Ce(e),r=je(e);return t?e.concat("?controls=0"):n?e.concat("?title=false&transcript=false&speed=false&quality_selector=false&progress_bar=false&pip=false&fullscreen=false&cc=false&chromecast=false"):r?e.concat("?hide_share=true&hideEmbedTopBar=true&hide_title=true"):e})(t):void 0,[o,a]=ne(!0);return B("div",{className:"fb-group/image fb-relative fb-mb-4 fb-block fb-min-h-40 fb-rounded-md",children:[o&&B("div",{className:"fb-absolute fb-inset-auto fb-flex fb-h-full fb-w-full fb-animate-pulse fb-items-center fb-justify-center fb-rounded-md fb-bg-slate-200"}),e&&B("img",{src:e,alt:n,className:"fb-rounded-custom",onLoad:()=>{a(!1)}},e),r&&B("div",{className:"fb-relative",children:B("div",{className:"fb-rounded-custom fb-bg-black",children:B("iframe",{src:r,title:"Question Video",frameborder:"0",className:"fb-rounded-custom fb-aspect-video fb-w-full",onLoad:()=>a(!1),allow:"accelerometer; autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin"})})}),B("a",{href:e||Se(t??""),target:"_blank",rel:"noreferrer",className:"fb-absolute fb-bottom-2 fb-right-2 fb-flex fb-items-center fb-gap-2 fb-rounded-md fb-bg-gray-800 fb-bg-opacity-40 fb-p-1.5 fb-text-white fb-opacity-0 fb-backdrop-blur-lg fb-transition fb-duration-300 fb-ease-in-out hover:fb-bg-opacity-65 group-hover/image:fb-opacity-100",children:B("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",class:"lucide lucide-expand",children:[B("path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8"}),B("path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6"}),B("path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6"}),B("path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6"})]})})]})},Le=({subheader:e,questionId:t})=>B("p",{htmlFor:t,className:"fb-text-subheading fb-block fb-break-words fb-text-sm fb-font-normal fb-leading-5",dir:"auto",children:e}),Ie=({children:e})=>{const[t,n]=ne(!0),[r,o]=ne(!1),[a,i]=ne(!1),s=ae(null),l=ae(null),c=!!document.getElementById("survey-preview"),d=()=>{if(!s.current)return;const{scrollTop:e,scrollHeight:t,clientHeight:n}=s.current;o(Math.round(e)+n>=t),i(0===e)},u=e=>{l.current&&clearTimeout(l.current),e?l.current=setTimeout((()=>n(!0)),1e3):(n(!1),d())};return re((()=>{const e=s.current;if(!e)return;const t=()=>d();return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}),[]),re((()=>{d()}),[e]),B("div",{className:"fb-relative",children:[!a&&B("div",{className:"fb-from-survey-bg fb-absolute fb-left-0 fb-right-2 fb-top-0 fb-z-10 fb-h-4 fb-bg-gradient-to-b fb-to-transparent"}),B("div",{ref:s,style:{scrollbarGutter:"stable both-edges",maxHeight:c?"40dvh":"60dvh"},className:ge("fb-overflow-auto fb-px-4 fb-pb-1",t?"fb-no-scrollbar":"fb-bg-survey-bg"),onMouseEnter:()=>u(!1),onMouseLeave:()=>u(!0),children:e}),!r&&B("div",{className:"fb-from-survey-bg fb-absolute -fb-bottom-2 fb-left-0 fb-right-2 fb-h-8 fb-bg-gradient-to-t fb-to-transparent"})]})},Oe="object"==typeof self?self:globalThis,Te=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=o=>{if(e.has(o))return e.get(o);const[a,i]=t[o];switch(a){case 0:case-1:return n(i,o);case 1:{const e=n([],o);for(const t of i)e.push(r(t));return e}case 2:{const e=n({},o);for(const[t,n]of i)e[r(t)]=r(n);return e}case 3:return n(new Date(i),o);case 4:{const{source:e,flags:t}=i;return n(new RegExp(e,t),o)}case 5:{const e=n(new Map,o);for(const[t,n]of i)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,o);for(const t of i)e.add(r(t));return e}case 7:{const{name:e,message:t}=i;return n(new Oe[e](t),o)}case 8:return n(BigInt(i),o);case"BigInt":return n(Object(BigInt(i)),o)}return n(new Oe[a](i),o)};return r})(new Map,e)(0),Ee="",{toString:Ae}={},{keys:De}=Object,qe=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=Ae.call(e).slice(8,-1);switch(n){case"Array":return[1,Ee];case"Object":return[2,Ee];case"Date":return[3,Ee];case"RegExp":return[4,Ee];case"Map":return[5,Ee];case"Set":return[6,Ee]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},Me=([e,t])=>0===e&&("function"===t||"symbol"===t),$e=(e,{json:t,lossy:n}={})=>{const r=[];return((e,t,n,r)=>{const o=(e,t)=>{const o=r.push(e)-1;return n.set(t,o),o},a=r=>{if(n.has(r))return n.get(r);let[i,s]=qe(r);switch(i){case 0:{let t=r;switch(s){case"bigint":i=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+s);t=null;break;case"undefined":return o([-1],r)}return o([i,t],r)}case 1:{if(s)return o([s,[...r]],r);const e=[],t=o([i,e],r);for(const n of r)e.push(a(n));return t}case 2:{if(s)switch(s){case"BigInt":return o([s,r.toString()],r);case"Boolean":case"Number":case"String":return o([s,r.valueOf()],r)}if(t&&"toJSON"in r)return a(r.toJSON());const n=[],l=o([i,n],r);for(const t of De(r))!e&&Me(qe(r[t]))||n.push([a(t),a(r[t])]);return l}case 3:return o([i,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return o([i,{source:e,flags:t}],r)}case 5:{const t=[],n=o([i,t],r);for(const[o,i]of r)(e||!Me(qe(o))&&!Me(qe(i)))&&t.push([a(o),a(i)]);return n}case 6:{const t=[],n=o([i,t],r);for(const o of r)!e&&Me(qe(o))||t.push(a(o));return n}}const{message:l}=r;return o([i,{name:s,message:l}],r)};return a})(!(t||n),!!t,new Map,r)(e),r},Pe="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?Te($e(e,t)):structuredClone(e):(e,t)=>Te($e(e,t));let Re;Re="undefined"==typeof structuredClone?Pe:structuredClone;const Ue=(e,t)=>{return e?"object"==typeof(n=e)&&null!==n&&Object.keys(n).includes("default")&&e[t]?e[t]:"":"";var n},Be=[{alpha2:"aa",english:"Afar"},{alpha2:"ab",english:"Abkhazian"},{alpha2:"ae",english:"Avestan"},{alpha2:"af",english:"Afrikaans"},{alpha2:"ak",english:"Akan"},{alpha2:"am",english:"Amharic"},{alpha2:"an",english:"Aragonese"},{alpha2:"ar",english:"Arabic"},{alpha2:"as",english:"Assamese"},{alpha2:"av",english:"Avaric"},{alpha2:"ay",english:"Aymara"},{alpha2:"az",english:"Azerbaijani"},{alpha2:"ba",english:"Bashkir"},{alpha2:"be",english:"Belarusian"},{alpha2:"bg",english:"Bulgarian"},{alpha2:"bh",english:"Bihari languages"},{alpha2:"bi",english:"Bislama"},{alpha2:"bm",english:"Bambara"},{alpha2:"bn",english:"Bengali"},{alpha2:"bo",english:"Tibetan"},{alpha2:"br",english:"Breton"},{alpha2:"bs",english:"Bosnian"},{alpha2:"ca",english:"Catalan; Valencian"},{alpha2:"ce",english:"Chechen"},{alpha2:"ch",english:"Chamorro"},{alpha2:"co",english:"Corsican"},{alpha2:"cr",english:"Cree"},{alpha2:"cs",english:"Czech"},{alpha2:"cu",english:"Church Slavic; Old Slavonic; Church Slavonic; Old Bulgarian; Old Church Slavonic"},{alpha2:"cv",english:"Chuvash"},{alpha2:"cy",english:"Welsh"},{alpha2:"da",english:"Danish"},{alpha2:"de",english:"German"},{alpha2:"dv",english:"Divehi; Dhivehi; Maldivian"},{alpha2:"dz",english:"Dzongkha"},{alpha2:"ee",english:"Ewe"},{alpha2:"el",english:"Greek, Modern (1453-)"},{alpha2:"en",english:"English"},{alpha2:"eo",english:"Esperanto"},{alpha2:"es",english:"Spanish; Castilian"},{alpha2:"et",english:"Estonian"},{alpha2:"eu",english:"Basque"},{alpha2:"fa",english:"Persian"},{alpha2:"ff",english:"Fulah"},{alpha2:"fi",english:"Finnish"},{alpha2:"fj",english:"Fijian"},{alpha2:"fo",english:"Faroese"},{alpha2:"fr",english:"French"},{alpha2:"fy",english:"Western Frisian"},{alpha2:"ga",english:"Irish"},{alpha2:"gd",english:"Gaelic; Scottish Gaelic"},{alpha2:"gl",english:"Galician"},{alpha2:"gn",english:"Guarani"},{alpha2:"gu",english:"Gujarati"},{alpha2:"gv",english:"Manx"},{alpha2:"ha",english:"Hausa"},{alpha2:"he",english:"Hebrew"},{alpha2:"hi",english:"Hindi"},{alpha2:"ho",english:"Hiri Motu"},{alpha2:"hr",english:"Croatian"},{alpha2:"ht",english:"Haitian; Haitian Creole"},{alpha2:"hu",english:"Hungarian"},{alpha2:"hy",english:"Armenian"},{alpha2:"hz",english:"Herero"},{alpha2:"ia",english:"Interlingua (International Auxiliary Language Association)"},{alpha2:"id",english:"Indonesian"},{alpha2:"ie",english:"Interlingue; Occidental"},{alpha2:"ig",english:"Igbo"},{alpha2:"ii",english:"Sichuan Yi; Nuosu"},{alpha2:"ik",english:"Inupiaq"},{alpha2:"io",english:"Ido"},{alpha2:"is",english:"Icelandic"},{alpha2:"it",english:"Italian"},{alpha2:"iu",english:"Inuktitut"},{alpha2:"ja",english:"Japanese"},{alpha2:"jv",english:"Javanese"},{alpha2:"ka",english:"Georgian"},{alpha2:"kg",english:"Kongo"},{alpha2:"ki",english:"Kikuyu; Gikuyu"},{alpha2:"kj",english:"Kuanyama; Kwanyama"},{alpha2:"kk",english:"Kazakh"},{alpha2:"kl",english:"Kalaallisut; Greenlandic"},{alpha2:"km",english:"Central Khmer"},{alpha2:"kn",english:"Kannada"},{alpha2:"ko",english:"Korean"},{alpha2:"kr",english:"Kanuri"},{alpha2:"ks",english:"Kashmiri"},{alpha2:"ku",english:"Kurdish"},{alpha2:"kv",english:"Komi"},{alpha2:"kw",english:"Cornish"},{alpha2:"ky",english:"Kirghiz; Kyrgyz"},{alpha2:"la",english:"Latin"},{alpha2:"lb",english:"Luxembourgish; Letzeburgesch"},{alpha2:"lg",english:"Ganda"},{alpha2:"li",english:"Limburgan; Limburger; Limburgish"},{alpha2:"ln",english:"Lingala"},{alpha2:"lo",english:"Lao"},{alpha2:"lt",english:"Lithuanian"},{alpha2:"lu",english:"Luba-Katanga"},{alpha2:"lv",english:"Latvian"},{alpha2:"mg",english:"Malagasy"},{alpha2:"mh",english:"Marshallese"},{alpha2:"mi",english:"Maori"},{alpha2:"mk",english:"Macedonian"},{alpha2:"ml",english:"Malayalam"},{alpha2:"mn",english:"Mongolian"},{alpha2:"mr",english:"Marathi"},{alpha2:"ms",english:"Malay"},{alpha2:"mt",english:"Maltese"},{alpha2:"my",english:"Burmese"},{alpha2:"na",english:"Nauru"},{alpha2:"nb",english:"Bokmål, Norwegian; Norwegian Bokmål"},{alpha2:"nd",english:"Ndebele, North; North Ndebele"},{alpha2:"ne",english:"Nepali"},{alpha2:"ng",english:"Ndonga"},{alpha2:"nl",english:"Dutch; Flemish"},{alpha2:"nn",english:"Norwegian Nynorsk; Nynorsk, Norwegian"},{alpha2:"no",english:"Norwegian"},{alpha2:"nr",english:"Ndebele, South; South Ndebele"},{alpha2:"nv",english:"Navajo; Navaho"},{alpha2:"ny",english:"Chichewa; Chewa; Nyanja"},{alpha2:"oc",english:"Occitan (post 1500)"},{alpha2:"oj",english:"Ojibwa"},{alpha2:"om",english:"Oromo"},{alpha2:"or",english:"Oriya"},{alpha2:"os",english:"Ossetian; Ossetic"},{alpha2:"pa",english:"Panjabi; Punjabi"},{alpha2:"pi",english:"Pali"},{alpha2:"pl",english:"Polish"},{alpha2:"ps",english:"Pushto; Pashto"},{alpha2:"pt",english:"Portuguese"},{alpha2:"qu",english:"Quechua"},{alpha2:"rm",english:"Romansh"},{alpha2:"rn",english:"Rundi"},{alpha2:"ro",english:"Romanian; Moldavian; Moldovan"},{alpha2:"ru",english:"Russian"},{alpha2:"rw",english:"Kinyarwanda"},{alpha2:"sa",english:"Sanskrit"},{alpha2:"sc",english:"Sardinian"},{alpha2:"sd",english:"Sindhi"},{alpha2:"se",english:"Northern Sami"},{alpha2:"sg",english:"Sango"},{alpha2:"si",english:"Sinhala; Sinhalese"},{alpha2:"sk",english:"Slovak"},{alpha2:"sl",english:"Slovenian"},{alpha2:"sm",english:"Samoan"},{alpha2:"sn",english:"Shona"},{alpha2:"so",english:"Somali"},{alpha2:"sq",english:"Albanian"},{alpha2:"sr",english:"Serbian"},{alpha2:"ss",english:"Swati"},{alpha2:"st",english:"Sotho, Southern"},{alpha2:"su",english:"Sundanese"},{alpha2:"sv",english:"Swedish"},{alpha2:"sw",english:"Swahili"},{alpha2:"ta",english:"Tamil"},{alpha2:"te",english:"Telugu"},{alpha2:"tg",english:"Tajik"},{alpha2:"th",english:"Thai"},{alpha2:"ti",english:"Tigrinya"},{alpha2:"tk",english:"Turkmen"},{alpha2:"tl",english:"Tagalog"},{alpha2:"tn",english:"Tswana"},{alpha2:"to",english:"Tonga (Tonga Islands)"},{alpha2:"tr",english:"Turkish"},{alpha2:"ts",english:"Tsonga"},{alpha2:"tt",english:"Tatar"},{alpha2:"tw",english:"Twi"},{alpha2:"ty",english:"Tahitian"},{alpha2:"ug",english:"Uighur; Uyghur"},{alpha2:"uk",english:"Ukrainian"},{alpha2:"ur",english:"Urdu"},{alpha2:"uz",english:"Uzbek"},{alpha2:"ve",english:"Venda"},{alpha2:"vi",english:"Vietnamese"},{alpha2:"vo",english:"Volapük"},{alpha2:"wa",english:"Walloon"},{alpha2:"wo",english:"Wolof"},{alpha2:"xh",english:"Xhosa"},{alpha2:"yi",english:"Yiddish"},{alpha2:"yo",english:"Yoruba"},{alpha2:"za",english:"Zhuang; Chuang"},{alpha2:"zh-Hans",english:"Chinese (Simplified)"},{alpha2:"zh-Hant",english:"Chinese (Traditional)"},{alpha2:"zu",english:"Zulu"}];Be.map((e=>e.alpha2));const Fe=e=>{const t=Be.find((t=>t.alpha2===e));return`${null==t?void 0:t.english}`},Ze=["January","February","March","April","May","June","July","August","September","October","November","December"],ze=e=>{const t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],n=e.getDate(),r=e.getMonth(),o=e.getFullYear();return`${t}, ${Ze[r]} ${n}${(e=>{const t=e<30?e%20:e%30;return["th","st","nd","rd"][t<=3?t:0]})(n)}, ${o}`},We=e=>{if(!/^(?:\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})$/.test(e))return!1;return new Date(e)},He=e=>{const t=e.match(/#recall:([A-Za-z0-9_-]+)/);return t&&t[1]?t[1]:null},Qe=e=>{const t=e.match(/fallback:(\S*)#/);return t&&t[1]?t[1]:""},Ve=(e,t)=>{const n=new RegExp("#recall:([A-Za-z0-9_-]+)\\/fallback:(\\S*)#"),r=e.match(n);return r?r[0]:null},Ye=(e,t,n)=>{let r=e;for(;r.includes("recall:");){const e=Ve(r);if(!e)break;const o=He(e);if(!o)return r;const a=Qe(e).replaceAll("nbsp"," ");let i=null;void 0!==n[o]&&(i=String(n[o])??a),t[o]&&(i=t[o]??a),i&&(We(i)?i=ze(new Date(i)):Array.isArray(i)&&(i=i.filter((e=>e)).join(", "))),r=r.replace(e,i||a)}return r},Ke=(e,t,n,r)=>{var o,a;const i=Re(e);return e.headline&&(null==(o=e.headline[t])?void 0:o.includes("recall:"))&&(i.headline[t]=Ye(Ue(i.headline,t),n,r)),e.subheader&&(null==(a=e.subheader[t])?void 0:a.includes("recall:"))&&i.subheader&&(i.subheader[t]=Ye(Ue(i.subheader,t),n,r)),i},Ge=({survey:e,endingCard:t,isRedirectDisabled:n,isResponseSendingFinished:r,autoFocusEnabled:o,isCurrent:a,languageCode:i,responseData:s,variablesData:l})=>{const c="endScreen"===t.type&&(t.imageUrl||t.videoUrl)?B(Ne,{imgUrl:t.imageUrl,videoUrl:t.videoUrl}):null,d=B("div",{className:"fb-text-brand fb-flex fb-flex-col fb-items-center fb-justify-center",children:[B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",class:"fb-h-24 fb-w-24",children:B("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),B("span",{className:"fb-bg-brand fb-mb-[10px] fb-inline-block fb-h-1 fb-w-16 fb-rounded-[100%]"})]}),u=()=>{var e;!n&&"endScreen"===t.type&&t.buttonLink&&(null==(e=window.top)||e.location.replace(t.buttonLink))};return re((()=>{var r;a&&!n&&"redirectToUrl"===t.type&&t.url&&(null==(r=window.top)||r.location.replace(t.url));const o=e=>{"Enter"===e.key&&u()};return a&&"link"===e.type?document.addEventListener("keydown",o):document.removeEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}}),[a]),B(Ie,{children:B("div",{className:"fb-text-center",children:B(w,r?{children:["endScreen"===t.type&&(c||d),B("div",{children:[B(me,{alignTextCenter:!0,headline:"endScreen"===t.type?Ye(Ue(t.headline,i),s,l):"Respondants will not see this card",questionId:"EndingCard"}),B(Le,{subheader:"endScreen"===t.type?Ye(Ue(t.subheader,i),s,l):"They will be forwarded immediately",questionId:"EndingCard"}),"endScreen"===t.type&&t.buttonLabel&&B("div",{className:"fb-mt-6 fb-flex fb-w-full fb-flex-col fb-items-center fb-justify-center fb-space-y-4",children:B(he,{buttonLabel:Ye(Ue(t.buttonLabel,i),s,l),isLastQuestion:!1,focus:o,onClick:u})})]})]}:{children:[B("div",{className:"fb-my-3",children:B(xe,{})}),B("h1",{className:"fb-text-brand",children:"Sending responses..."})]})})})},Xe=()=>B("a",{href:"https://formbricks.com?utm_source=survey_branding",target:"_blank",tabIndex:-1,className:"fb-my-2 fb-flex fb-justify-center",children:B("p",{className:"fb-text-signature fb-text-xs",children:["Powered by"," ",B("b",{children:B("span",{className:"fb-text-branding-text hover:fb-text-signature",children:"Formbricks"})})]})}),Je=({className:e})=>B("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-globe",children:[B("circle",{cx:"12",cy:"12",r:"10"}),B("path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}),B("path",{d:"M2 12h20"})]});function et(e,t){for(var n in t)e[n]=t[n];return e}function tt(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function nt(e,t){this.props=e,this.context=t}(nt.prototype=new _).isPureReactComponent=!0,nt.prototype.shouldComponentUpdate=function(e,t){return tt(this.props,e)||tt(this.state,t)};var rt=r.__b;r.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),rt&&rt(e)};var ot="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var at=function(e,t){return null==e?null:L(L(e).map(t))},it=at,st=function(e){var t=L(e);if(1!==t.length)throw"Children.only";return t[0]},lt=r.__e;r.__e=function(e,t,n,r){if(e.then)for(var o,a=t;a=a.__;)if((o=a.__c)&&o.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t);lt(e,t,n,r)};var ct=r.unmount;function dt(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=et({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return dt(e,t,n)}))),e}function ut(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return ut(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function ft(){this.__u=0,this.t=null,this.__b=null}function bt(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function pt(){this.u=null,this.o=null}r.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),ct&&ct(e)},(ft.prototype=new _).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=bt(r.__v),a=!1,i=function(){a||(a=!0,n.__R=null,o?o(s):s())};n.__R=i;var s=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=ut(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(i,i)},ft.prototype.componentWillUnmount=function(){this.t=[]},ft.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=dt(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&v(w,null,e.fallback);return o&&(o.__u&=-33),[v(w,null,t.__a?null:e.children),o]};var ht=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function mt(e){return this.getChildContext=function(){return e.context},e.children}function gt(e){var t=this,n=e.i;t.componentWillUnmount=function(){P(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],contains:function(){return!0},appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),P(v(mt,{context:t.context},e.__v),t.l)}(pt.prototype=new _).__a=function(e){var t=this,n=bt(t.__v),r=t.o.get(e);return r[0]++,function(o){var a=function(){t.props.revealOrder?(r.push(o),ht(t,e,r)):o()};n?n(a):a()}},pt.prototype.render=function(e){this.u=null,this.o=new Map;var t=L(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},pt.prototype.componentDidUpdate=pt.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){ht(e,n,t)}))};var vt="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,yt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,wt=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,_t=/[A-Z0-9]/g,xt="undefined"!=typeof document,kt=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};_.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(_.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var Ct=r.event;function jt(){}function St(){return this.cancelBubble}function Nt(){return this.defaultPrevented}r.event=function(e){return Ct&&(e=Ct(e)),e.persist=jt,e.isPropagationStopped=St,e.isDefaultPrevented=Nt,e.nativeEvent=e};var Lt={enumerable:!1,configurable:!0,get:function(){return this.class}},It=r.vnode;r.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,r={},o=-1===n.indexOf("-");for(var a in t){var i=t[a];if(!("value"===a&&"defaultValue"in t&&null==i||xt&&"children"===a&&"noscript"===n||"class"===a||"className"===a)){var s=a.toLowerCase();"defaultValue"===a&&"value"in t&&null==t.value?a="value":"download"===a&&!0===i?i="":"translate"===s&&"no"===i?i=!1:"o"===s[0]&&"n"===s[1]?"ondoubleclick"===s?a="ondblclick":"onchange"!==s||"input"!==n&&"textarea"!==n||kt(t.type)?"onfocus"===s?a="onfocusin":"onblur"===s?a="onfocusout":wt.test(a)&&(a=s):s=a="oninput":o&&yt.test(a)?a=a.replace(_t,"-$&").toLowerCase():null===i&&(i=void 0),"oninput"===s&&r[a=s]&&(a="oninputCapture"),r[a]=i}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=L(t.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==n&&null!=r.defaultValue&&(r.value=L(t.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),t.class&&!t.className?(r.class=t.class,Object.defineProperty(r,"className",Lt)):(t.className&&!t.class||t.class&&t.className)&&(r.class=r.className=t.className),e.props=r}(e),e.$$typeof=vt,It&&It(e)};var Ot=r.__r;r.__r=function(e){Ot&&Ot(e),e.__c};var Tt=r.diffed;function Et(e){return function(e){return!!e&&e.$$typeof===vt}(e)?R.apply(null,arguments):e}r.diffed=function(e){Tt&&Tt(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value)};const At=({surveyLanguages:e,setSelectedLanguageCode:t,setFirstRender:n})=>{var r;const[o,a]=ne(!1),i=ae(null),s=null==(r=e.find((e=>!0===e.default)))?void 0:r.language.code;var l,c;return re((()=>{let e=!1,t=!1;const n=n=>{!e&&t&&l.current&&!l.current.contains(n.target)&&c(n)},r=n=>{t=null!==l.current,e=null!==l.current&&l.current.contains(n.target)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),document.addEventListener("click",n),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r),document.removeEventListener("click",n)}}),[l=i,c=()=>a(!1)]),B("div",{class:"fb-z-[1001] fb-flex fb-w-fit fb-items-center even:fb-pr-1",children:[B("button",{title:"Language switch",type:"button",class:"fb-text-heading fb-relative fb-h-5 fb-w-5 fb-rounded-md hover:fb-bg-black/5 focus:fb-outline-none focus:fb-ring-2 focus:fb-ring-offset-2",onClick:()=>a((e=>!e)),tabIndex:-1,"aria-haspopup":"true","aria-expanded":o,children:B(Je,{className:"fb-text-heading fb-h-5 fb-w-5 fb-p-0.5"})}),o&&B("div",{className:"fb-bg-brand fb-text-on-brand fb-absolute fb-right-8 fb-top-10 fb-space-y-2 fb-rounded-md fb-p-2 fb-text-xs",ref:i,children:e.map((e=>{if(e.enabled)return B("button",{type:"button",className:"fb-block fb-w-full fb-p-1.5 fb-text-left hover:fb-opacity-80",onClick:()=>{return r=e.language.code,t(r===s?"default":r),n&&n(!0),void a(!1);var r},children:Fe(e.language.code)},e.language.id)}))})]})},Dt=({progress:e})=>B("div",{className:"fb-bg-accent-bg fb-h-2 fb-w-full fb-overflow-hidden fb-rounded-full",children:B("div",{className:"fb-transition-width fb-bg-brand fb-z-20 fb-h-2 fb-rounded-full fb-duration-500",style:{width:`${Math.floor(100*e)}%`}})}),qt=({survey:e,questionId:t})=>{const n=ie((()=>e.questions.findIndex((e=>e.id===t))),[e,t]),r=ie((()=>e.endings.map((e=>e.id))),[e.endings]),o=se(((t,n)=>{if(0===n)return 0;-1===t&&(t=0);return we(e,t)/n}),[e]),a=ie((()=>e.questions.map(((t,n)=>o(n,e.questions.length)))),[o,e]),i=ie((()=>"start"===t?0:r.includes(t)?1:a[n]),[t,r,a,n]);return B(Dt,{progress:i})},Mt=({onClick:e,backButtonLabel:t,tabIndex:n=2})=>B("button",{dir:"auto",tabIndex:n,type:"button",className:ge("fb-border-back-button-border fb-text-heading focus:fb-ring-focus fb-rounded-custom fb-flex fb-items-center fb-border fb-px-3 fb-py-3 fb-text-base fb-font-medium fb-leading-4 fb-shadow-sm hover:fb-opacity-90 focus:fb-outline-none focus:fb-ring-2 focus:fb-ring-offset-2"),onClick:e,children:t||"Back"}),$t=({className:e,...t})=>B("input",{...t,className:ge("focus:fb-border-brand fb-bg-input-bg fb-flex fb-w-full fb-border fb-border-border fb-rounded-custom fb-px-3 fb-py-2 fb-text-sm fb-text-subheading placeholder:fb-text-placeholder focus:fb-outline-none focus:fb-ring-2 focus:fb-ring-offset-2 disabled:fb-cursor-not-allowed disabled:fb-opacity-50 dark:fb-border-slate-500 dark:fb-text-slate-300",e??""),dir:"auto"}),Pt=(e,t,n)=>e.hasOwnProperty(t)?{...e,[t]:e[t]+n}:{...e,[t]:n},Rt=(e,t,n,r,o,a)=>{re((()=>{if(!a)return;const i=()=>{if("visible"===document.visibilityState)o(performance.now());else{const o=Pt(t,e,performance.now()-r);n(o)}};return document.addEventListener("visibilitychange",i),()=>{document.removeEventListener("visibilitychange",i)}}),[e,o,n,r,t,a]),re((()=>{a&&o(performance.now())}),[e,o,a])},Ut=({question:e,value:t,onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:l,setTtc:c,currentQuestionId:d})=>{const[u,f]=ne(performance.now()),b=e.imageUrl||e.videoUrl,p=ae(null);Rt(e.id,l,c,u,f,e.id===d);const h=ie((()=>Array.isArray(t)?t:["","","","","",""]),[t]),m=[{id:"addressLine1",placeholder:"Address Line 1",...e.addressLine1},{id:"addressLine2",placeholder:"Address Line 2",...e.addressLine2},{id:"city",placeholder:"City",...e.city},{id:"state",placeholder:"State",...e.state},{id:"zip",placeholder:"Zip",...e.zip},{id:"country",placeholder:"Country",...e.country}];return B("form",{onSubmit:t=>{t.preventDefault();const n=Pt(l,e.id,performance.now()-u);c(n);const o=6===(null==h?void 0:h.length)&&h.every((e=>""===e.trim()));r(o?{[e.id]:[]}:{[e.id]:h??[]},n)},className:"fb-w-full",ref:p,children:[B(Ie,{children:B("div",{children:[b&&B(Ne,{imgUrl:e.imageUrl,videoUrl:e.videoUrl}),B(me,{headline:Ue(e.headline,s),questionId:e.id,required:e.required}),B(Le,{subheader:e.subheader?Ue(e.subheader,s):"",questionId:e.id}),B("div",{className:"fb-flex fb-flex-col fb-space-y-2 fb-mt-4 fb-w-full",children:m.map(((t,r)=>{const o=()=>!!t.required||!(!m.filter((e=>e.show)).every((e=>!e.required))||!e.required);return t.show&&B($t,{placeholder:o()?`${t.placeholder}*`:t.placeholder,required:o(),value:(null==h?void 0:h[r])||"",className:"fb-py-3",type:"email"===t.id?"email":"text",onChange:r=>{var o;return((t,r)=>{const o=m.map((e=>{if(e.id===t)return r;const n=(null==h?void 0:h[m.findIndex((t=>t.id===e.id))])||"";return e.show?n:""}));n({[e.id]:o})})(t.id,(null==(o=null==r?void 0:r.currentTarget)?void 0:o.value)??"")}},t.id)}))})]})}),B("div",{className:"fb-flex fb-w-full fb-justify-between fb-px-6 fb-py-4",children:[!a&&B(Mt,{tabIndex:8,backButtonLabel:Ue(e.backButtonLabel,s),onClick:()=>{const t=Pt(l,e.id,performance.now()-u);c(t),o()}}),B("div",{}),B(he,{tabIndex:7,buttonLabel:Ue(e.buttonLabel,s),isLastQuestion:i,onClick:()=>{}})]})]},e.id)},Bt=({htmlString:e,questionId:t})=>{const[n,r]=ne("");return re((()=>{e&&Promise.resolve().then((()=>rp)).then((t=>{r(t.sanitize(e,{ADD_ATTR:["target"]}))}))}),[e]),e?'<p class="fb-editor-paragraph"><br></p>'===n?null:B("label",{htmlFor:t,className:ge("fb-htmlbody fb-break-words"),dangerouslySetInnerHTML:{__html:n},dir:"auto"}):null},Ft=({question:e,onSubmit:t,onChange:n,onBack:r,isFirstQuestion:o,isLastQuestion:a,languageCode:i,ttc:s,setTtc:l,autoFocusEnabled:c,currentQuestionId:d})=>{const[u,f]=ne(performance.now()),b=e.imageUrl||e.videoUrl;return Rt(e.id,s,l,u,f,e.id===d),B("div",{children:[B(Ie,{children:B("div",{children:[b&&B(Ne,{imgUrl:e.imageUrl,videoUrl:e.videoUrl}),B(me,{headline:Ue(e.headline,i),questionId:e.id,required:e.required}),B(Bt,{htmlString:Ue(e.html,i),questionId:e.id})]})}),B("div",{className:"fb-flex fb-w-full fb-justify-between fb-px-6 fb-py-4",children:[!o&&B(Mt,{backButtonLabel:Ue(e.backButtonLabel,i),onClick:()=>{const n=Pt(s,e.id,performance.now()-u);l(n),t({[e.id]:""},n),r()}}),B("div",{className:"fb-flex fb-w-full fb-justify-end",children:[!e.required&&B("button",{dir:"auto",tabIndex:0,type:"button",onClick:()=>{const r=Pt(s,e.id,performance.now()-u);l(r),t({[e.id]:""},r),n({[e.id]:""})},className:"fb-text-heading focus:fb-ring-focus fb-mr-4 fb-flex fb-items-center fb-rounded-md fb-px-3 fb-py-3 fb-text-base fb-font-medium fb-leading-4 hover:fb-opacity-90 focus:fb-outline-none focus:fb-ring-2 focus:fb-ring-offset-2",children:Ue(e.dismissButtonLabel,i)||"Skip"}),B(he,{buttonLabel:Ue(e.buttonLabel,i),isLastQuestion:a,focus:c,onClick:()=>{var r;e.buttonExternal&&e.buttonUrl&&(null==(r=null==window?void 0:window.open(e.buttonUrl,"_blank"))||r.focus());const o=Pt(s,e.id,performance.now()-u);l(o),t({[e.id]:"clicked"},o),n({[e.id]:"clicked"})},type:"button"})]})]})]},e.id)};function Zt(e="https://app.cal.com/embed/embed.js"){
/*!  Copying ends here. */
return function(e,t){let n=function(e,t){e.q.push(t)},r=e.document;e.Cal=e.Cal||function(){let o=e.Cal,a=arguments;if(o.loaded||(o.ns={},o.q=o.q||[],r.head.appendChild(r.createElement("script")).src=t,o.loaded=!0),"init"===a[0]){const e=function(){n(e,arguments)},t=a[1];return e.q=e.q||[],void("string"==typeof t?(o.ns[t]=o.ns[t]||e,n(o.ns[t],a),n(o,["initNamespace",t])):n(o,a))}n(o,a)}}(window,
//! Replace it with "https://cal.com/embed.js" or the URL where you have embed.js installed
e),window.Cal}Zt.toString();const zt=({question:e,onSuccessfulBooking:t})=>{const n=ie((()=>{const e=Zt("https://cal.com/embed.js"),n={"cal-border-subtle":"transparent","cal-border-booker":"transparent"};return e("ui",{theme:"light",cssVarsPerTheme:{light:{...n},dark:{"cal-bg-muted":"transparent","cal-bg":"transparent",...n}}}),e("on",{action:"bookingSuccessful",callback:()=>{t()}}),e}),[t]);return re((()=>{document.querySelectorAll("cal-inline").forEach((e=>e.remove())),n("init",{calOrigin:e.calHost?`https://${e.calHost}`:"https://cal.com"}),n("inline",{elementOrSelector:"#fb-cal-embed",calLink:e.calUserName})}),[n,e.calHost,e.calUserName]),B("div",{className:"fb-relative fb-mt-4 fb-overflow-auto",children:B("div",{id:"fb-cal-embed",className:ge("fb-border-border fb-rounded-lg fb-border")})})},Wt=({question:e,value:t,onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:l,setTtc:c,currentQuestionId:d})=>{const[u,f]=ne(performance.now()),b=e.imageUrl||e.videoUrl,[p,h]=ne("");Rt(e.id,l,c,u,f,e.id===d);const m=se((()=>{n({[e.id]:"booked"});const t=Pt(l,e.id,performance.now()-u);c(t),r({[e.id]:"booked"},t)}),[n,r,e.id,c,u,l]);return B("form",{onSubmit:o=>{if(o.preventDefault(),e.required&&!t)return void h("Please book an appointment");const a=Pt(l,e.id,performance.now()-u);c(a),n({[e.id]:t}),r({[e.id]:t},a)},className:"fb-w-full",children:[B(Ie,{children:B("div",{children:[b&&B(Ne,{imgUrl:e.imageUrl,videoUrl:e.videoUrl}),B(me,{headline:Ue(e.headline,s),questionId:e.id,required:e.required}),B(Le,{subheader:e.subheader?Ue(e.subheader,s):"",questionId:e.id}),B(w,{children:[p&&B("span",{className:"fb-text-red-500",children:p}),B(zt,{question:e,onSuccessfulBooking:m},e.id)]})]})}),B("div",{className:"fb-flex fb-w-full fb-justify-between fb-px-6 fb-py-4",children:[!a&&B(Mt,{backButtonLabel:Ue(e.backButtonLabel,s),onClick:()=>{o()}}),B("div",{}),!e.required&&B(he,{buttonLabel:Ue(e.buttonLabel,s),isLastQuestion:i})]})]},e.id)},Ht=({question:e,value:t,onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:l,setTtc:c,currentQuestionId:d})=>{const[u,f]=ne(performance.now()),b=e.imageUrl||e.videoUrl;return Rt(e.id,l,c,u,f,e.id===d),B("form",{onSubmit:n=>{n.preventDefault();const o=Pt(l,e.id,performance.now()-u);c(o),r({[e.id]:t},o)},children:[B(Ie,{children:B("div",{children:[b&&B(Ne,{imgUrl:e.imageUrl,videoUrl:e.videoUrl}),B(me,{headline:Ue(e.headline,s),questionId:e.id,required:e.required}),B(Bt,{htmlString:Ue(e.html,s)||"",questionId:e.id}),B("div",{className:"fb-bg-survey-bg fb-sticky -fb-bottom-2 fb-z-10 fb-w-full fb-px-1 fb-py-1",children:B("label",{dir:"auto",tabIndex:1,id:`${e.id}-label`,onKeyDown:t=>{var n,r;" "===t.key&&(t.preventDefault(),null==(n=document.getElementById(e.id))||n.click(),null==(r=document.getElementById(`${e.id}-label`))||r.focus())},className:"fb-border-border fb-bg-input-bg fb-text-heading hover:fb-bg-input-bg-selected focus:fb-bg-input-bg-selected focus:fb-ring-brand fb-rounded-custom fb-relative fb-z-10 fb-my-2 fb-flex fb-w-full fb-cursor-pointer fb-items-center fb-border fb-p-4 fb-text-sm focus:fb-outline-none focus:fb-ring-2 focus:fb-ring-offset-2",children:[B("input",{type:"checkbox",id:e.id,name:e.id,value:Ue(e.label,s),onChange:t=>{t.target instanceof HTMLInputElement&&t.target.checked?n({[e.id]:"accepted"}):n({[e.id]:""})},checked:"accepted"===t,className:"fb-border-brand fb-text-brand fb-h-4 fb-w-4 fb-border focus:fb-ring-0 focus:fb-ring-offset-0","aria-labelledby":`${e.id}-label`,required:e.required}),B("span",{id:`${e.id}-label`,className:"fb-ml-3 fb-mr-3 fb-font-medium",children:Ue(e.label,s)})]})})]})}),B("div",{className:"fb-flex fb-w-full fb-justify-between fb-px-6 fb-py-4",children:[!a&&B(Mt,{tabIndex:3,backButtonLabel:Ue(e.backButtonLabel,s),onClick:()=>{const n=Pt(l,e.id,performance.now()-u);c(n),r({[e.id]:t},n),o()}}),B("div",{}),B(he,{tabIndex:2,buttonLabel:Ue(e.buttonLabel,s),isLastQuestion:i})]})]},e.id)},Qt=({question:e,value:t,onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:l,setTtc:c,currentQuestionId:d})=>{const[u,f]=ne(performance.now()),b=e.imageUrl||e.videoUrl,p=ae(null);Rt(e.id,l,c,u,f,e.id===d);const h=ie((()=>Array.isArray(t)?t:["","","","",""]),[t]),m=[{id:"firstName",placeholder:"First Name",...e.firstName},{id:"lastName",placeholder:"Last Name",...e.lastName},{id:"email",placeholder:"Email",...e.email},{id:"phone",placeholder:"Phone",...e.phone},{id:"company",placeholder:"Company",...e.company}];return B("form",{onSubmit:t=>{t.preventDefault();const n=Pt(l,e.id,performance.now()-u);c(n);const o=5===(null==h?void 0:h.length)&&h.every((e=>""===e.trim()));r(o?{[e.id]:[]}:{[e.id]:h??[]},n)},className:"fb-w-full",ref:p,children:[B(Ie,{children:B("div",{children:[b&&B(Ne,{imgUrl:e.imageUrl,videoUrl:e.videoUrl}),B(me,{headline:Ue(e.headline,s),questionId:e.id,required:e.required}),B(Le,{subheader:e.subheader?Ue(e.subheader,s):"",questionId:e.id}),B("div",{className:"fb-flex fb-flex-col fb-space-y-2 fb-mt-4 fb-w-full",children:m.map(((t,r)=>{const o=()=>!!t.required||!(!m.filter((e=>e.show)).every((e=>!e.required))||!e.required);let a="text";return"email"===t.id?a="email":"phone"===t.id&&(a="number"),t.show&&B($t,{placeholder:o()?`${t.placeholder}*`:t.placeholder,required:o(),value:(null==h?void 0:h[r])||"",className:"fb-py-3",type:a,onChange:r=>{var o;return((t,r)=>{const o=m.map((e=>{if(e.id===t)return r;const n=(null==h?void 0:h[m.findIndex((t=>t.id===e.id))])||"";return e.show?n:""}));n({[e.id]:o})})(t.id,(null==(o=null==r?void 0:r.currentTarget)?void 0:o.value)??"")}},t.id)}))})]})}),B("div",{className:"fb-flex fb-w-full fb-justify-between fb-px-6 fb-py-4",children:[!a&&B(Mt,{tabIndex:8,backButtonLabel:Ue(e.backButtonLabel,s),onClick:()=>{const t=Pt(l,e.id,performance.now()-u);c(t),o()}}),B("div",{}),B(he,{tabIndex:7,buttonLabel:Ue(e.buttonLabel,s),isLastQuestion:i,onClick:()=>{}})]})]},e.id)};var Vt=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Yt=Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt([],["onCopy","onCut","onPaste"],!0),["onCompositionEnd","onCompositionStart","onCompositionUpdate"],!0),["onFocus","onBlur"],!0),["onInput","onInvalid","onReset","onSubmit"],!0),["onLoad","onError"],!0),["onKeyDown","onKeyPress","onKeyUp"],!0),["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],!0),["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],!0),["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],!0),["onSelect"],!0),["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],!0),["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],!0),["onScroll"],!0),["onWheel"],!0),["onAnimationStart","onAnimationEnd","onAnimationIteration"],!0),["onTransitionEnd"],!0),["onChange"],!0),["onToggle"],!0);function Kt(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Kt(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Gt(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Kt(e))&&(r&&(r+=" "),r+=t);return r}var Xt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Jt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const en=(e,t,n,r)=>{if("length"===n||"prototype"===n)return;if("arguments"===n||"caller"===n)return;const o=Object.getOwnPropertyDescriptor(e,n),a=Object.getOwnPropertyDescriptor(t,n);!tn(o,a)&&r||Object.defineProperty(e,n,a)},tn=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},nn=(e,t)=>`/* Wrapped ${e}*/\n${t}`,rn=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),on=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");var an=(e,t,{ignoreNonConfigurable:n=!1}={})=>{const{name:r}=e;for(const o of Reflect.ownKeys(t))en(e,t,o,n);return((e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)})(e,t),((e,t,n)=>{const r=""===n?"":`with ${n.trim()}() `,o=nn.bind(null,r,t.toString());Object.defineProperty(o,"name",on),Object.defineProperty(e,"toString",{...rn,value:o})})(e,t,r),e},sn={exports:{}},ln=()=>{const e={};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e};!function(e,t){var n=Xt&&Xt.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(i,s)}l((r=r.apply(e,t||[])).next())}))},r=Xt&&Xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(ln);function a(e,t="maxAge"){let r,a,i;const s=()=>n(this,void 0,void 0,(function*(){if(void 0!==r)return;const s=s=>n(this,void 0,void 0,(function*(){i=o.default();const n=s[1][t]-Date.now();return n<=0?(e.delete(s[0]),void i.resolve()):(r=s[0],a=setTimeout((()=>{e.delete(s[0]),i&&i.resolve()}),n),"function"==typeof a.unref&&a.unref(),i.promise)}));try{for(const t of e)yield s(t)}catch(l){}r=void 0})),l=e.set.bind(e);return e.set=(t,n)=>{e.has(t)&&e.delete(t);const o=l(t,n);return r&&r===t&&(r=void 0,void 0!==a&&(clearTimeout(a),a=void 0),void 0!==i&&(i.reject(void 0),i=void 0)),s(),o},s(),e}t.default=a,e.exports=a,e.exports.default=a}(sn,sn.exports);const cn=an,dn=sn.exports,un=new WeakMap,fn=new WeakMap,bn=(e,{cacheKey:t,cache:n=new Map,maxAge:r}={})=>{"number"==typeof r&&dn(n);const o=function(...o){const a=t?t(o):o[0],i=n.get(a);if(i)return i.data;const s=e.apply(this,o);return n.set(a,{data:s,maxAge:r?Date.now()+r:Number.POSITIVE_INFINITY}),s};return cn(o,e,{ignoreNonConfigurable:!0}),fn.set(o,n),o};bn.decorator=(e={})=>(t,n,r)=>{const o=t[n];if("function"!=typeof o)throw new TypeError("The decorated value must be a function");delete r.value,delete r.writable,r.get=function(){if(!un.has(this)){const t=bn(o,e);return un.set(this,t),t}return un.get(this)}},bn.clear=e=>{const t=fn.get(e);if(!t)throw new TypeError("Can't clear a function that was not memoized!");if("function"!=typeof t.clear)throw new TypeError("The cache Map can't be cleared!");t.clear()};const pn=Jt(bn);function hn(e){return"string"==typeof e}function mn(e,t,n){return n.indexOf(e)===t}function gn(e){return-1===e.indexOf(",")?e:e.split(",")}function vn(e){if(!e)return e;if("C"===e||"posix"===e||"POSIX"===e)return"en-US";if(-1!==e.indexOf(".")){var t=e.split(".")[0];return vn(void 0===t?"":t)}if(-1!==e.indexOf("@")){var n=e.split("@")[0];return vn(void 0===n?"":n)}if(-1===e.indexOf("-")||(r=e).toLowerCase()!==r)return e;var r,o=e.split("-"),a=o[0],i=o[1],s=void 0===i?"":i;return"".concat(a,"-").concat(s.toUpperCase())}var yn=pn((function(e){var t=void 0===e?{}:e,n=t.useFallbackLocale,r=void 0===n||n,o=t.fallbackLocale,a=void 0===o?"en-US":o,i=[];if("undefined"!=typeof navigator){for(var s=[],l=0,c=navigator.languages||[];l<c.length;l++){var d=c[l];s=s.concat(gn(d))}var u=navigator.language,f=u?gn(u):u;i=i.concat(s,f)}return r&&i.push(a),i.filter(hn).map(vn).filter(mn)}),{cacheKey:JSON.stringify});var wn=pn((function(e){return yn(e)[0]||null}),{cacheKey:JSON.stringify});function _n(e,t,n){return function(r,o){void 0===o&&(o=n);var a=e(r)+o;return t(a)}}function xn(e){return function(t){return new Date(e(t).getTime()-1)}}function kn(e,t){return function(n){return[e(n),t(n)]}}function Cn(e){if(e instanceof Date)return e.getFullYear();if("number"==typeof e)return e;var t=parseInt(e,10);if("string"==typeof e&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function jn(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function Sn(e){if(e instanceof Date)return e.getMonth()+1;throw new Error("Failed to get human-readable month from date: ".concat(e,"."))}function Nn(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function Ln(e){var t=Cn(e),n=t+(1-t)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var In=_n(Cn,Ln,-100),On=_n(Cn,Ln,100),Tn=xn(On),En=_n(Cn,Tn,-100),An=kn(Ln,Tn);function Dn(e){var t=Cn(e),n=t+(1-t)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var qn=_n(Cn,Dn,-10),Mn=_n(Cn,Dn,10),$n=xn(Mn),Pn=_n(Cn,$n,-10),Rn=kn(Dn,$n);function Un(e){var t=Cn(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var Bn=_n(Cn,Un,-1),Fn=_n(Cn,Un,1),Zn=xn(Fn),zn=_n(Cn,Zn,-1),Wn=kn(Un,Zn);function Hn(e,t){return function(n,r){void 0===r&&(r=t);var o=Cn(n),a=jn(n)+r,i=new Date;return i.setFullYear(o,a,1),i.setHours(0,0,0,0),e(i)}}function Qn(e){var t=Cn(e),n=jn(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var Vn=Hn(Qn,-1),Yn=Hn(Qn,1),Kn=xn(Yn),Gn=Hn(Kn,-1),Xn=kn(Qn,Kn);function Jn(e){var t=Cn(e),n=jn(e),r=Nn(e),o=new Date;return o.setFullYear(t,n,r),o.setHours(0,0,0,0),o}var er,tr,nr,rr=xn((er=Jn,tr=1,function(e,t){void 0===t&&(t=tr);var n=Cn(e),r=jn(e),o=Nn(e)+t,a=new Date;return a.setFullYear(n,r,o),a.setHours(0,0,0,0),er(a)})),or=kn(Jn,rr);function ar(e){return Nn(Kn(e))}function ir(e,t){void 0===t&&(t=2);var n="".concat(e);return n.length>=t?e:"0000".concat(n).slice(-t)}function sr(e){var t=ir(Cn(e),4),n=ir(Sn(e));return"".concat(t,"-").concat(n)}function lr(e){var t=ir(Cn(e),4),n=ir(Sn(e)),r=ir(Nn(e));return"".concat(t,"-").concat(n,"-").concat(r)}var cr="gregory",dr="hebrew",ur="islamic",fr="iso8601",br=((nr={})[cr]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],nr[dr]=["he","he-IL"],nr[ur]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],nr),pr=[0,1,2,3,4,5,6],hr=new Map;function mr(e){return function(t,n){return function(e){return function(t,n){var r=t||wn();hr.has(r)||hr.set(r,new Map);var o=hr.get(r);return o.has(e)||o.set(e,new Intl.DateTimeFormat(r||void 0,e).format),o.get(e)(n)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}var gr=mr({day:"numeric"}),vr=mr({day:"numeric",month:"long",year:"numeric"}),yr=mr({month:"long"}),wr=mr({month:"long",year:"numeric"}),_r=mr({weekday:"short"}),xr=mr({weekday:"long"}),kr=mr({year:"numeric"}),Cr=pr[0],jr=pr[5],Sr=pr[6];function Nr(e,t){void 0===t&&(t=fr);var n=e.getDay();switch(t){case fr:return(n+6)%7;case ur:return(n+1)%7;case dr:case cr:return n;default:throw new Error("Unsupported calendar type.")}}function Lr(e,t){void 0===t&&(t=fr);var n=Cn(e),r=jn(e),o=e.getDate()-Nr(e,t);return new Date(n,r,o)}function Ir(e,t){switch(e){case"century":return Ln(t);case"decade":return Dn(t);case"year":return Un(t);case"month":return Qn(t);case"day":return Jn(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Or(e,t){switch(e){case"century":return On(t);case"decade":return Mn(t);case"year":return Fn(t);case"month":return Yn(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Tr(e,t){switch(e){case"century":return Tn(t);case"decade":return $n(t);case"year":return Zn(t);case"month":return Kn(t);case"day":return rr(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Er(e,t){switch(e){case"century":return An(t);case"decade":return Rn(t);case"year":return Wn(t);case"month":return Xn(t);case"day":return or(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Ar(e,t,n){return void 0===t&&(t=kr),n.map((function(n){return t(e,n)})).join(" – ")}function Dr(e,t,n){return Ar(e,t,Rn(n))}function qr(e,t){void 0===t&&(t=fr);var n=e.getDay();switch(t){case ur:case dr:return n===jr||n===Sr;case fr:case cr:return n===Sr||n===Cr;default:throw new Error("Unsupported calendar type.")}}var Mr="react-calendar__navigation";function $r(e){var t,n=e.activeStartDate,r=e.drillUp,o=e.formatMonthYear,a=void 0===o?wr:o,i=e.formatYear,s=void 0===i?kr:i,l=e.locale,c=e.maxDate,d=e.minDate,u=e.navigationAriaLabel,f=void 0===u?"":u,b=e.navigationAriaLive,p=e.navigationLabel,h=e.next2AriaLabel,m=void 0===h?"":h,g=e.next2Label,v=void 0===g?"»":g,y=e.nextAriaLabel,_=void 0===y?"":y,x=e.nextLabel,k=void 0===x?"›":x,C=e.prev2AriaLabel,j=void 0===C?"":C,S=e.prev2Label,N=void 0===S?"«":S,L=e.prevAriaLabel,I=void 0===L?"":L,O=e.prevLabel,T=void 0===O?"‹":O,E=e.setActiveStartDate,A=e.showDoubleView,D=e.view,q=e.views.indexOf(D)>0,M="century"!==D,$=function(e,t){switch(e){case"century":return In(t);case"decade":return qn(t);case"year":return Bn(t);case"month":return Vn(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(D,n),P=M?function(e,t){switch(e){case"decade":return qn(t,-100);case"year":return Bn(t,-10);case"month":return Vn(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(D,n):void 0,R=Or(D,n),U=M?function(e,t){switch(e){case"decade":return Mn(t,100);case"year":return Fn(t,10);case"month":return Yn(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(D,n):void 0,F=function(){if($.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return En(t);case"decade":return Pn(t);case"year":return zn(t);case"month":return Gn(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(D,n);return d&&d>=e}(),Z=M&&function(){if(P.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return Pn(t,-100);case"year":return zn(t,-10);case"month":return Gn(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(D,n);return d&&d>=e}(),z=c&&c<R,W=M&&c&&c<U;function H(e){var t=function(){switch(D){case"century":return function(e,t,n){return Ar(e,t,An(n))}(l,s,e);case"decade":return Dr(l,s,e);case"year":return s(l,e);case"month":return a(l,e);default:throw new Error("Invalid view: ".concat(D,"."))}}();return p?p({date:e,label:t,locale:l||wn()||void 0,view:D}):t}return B("div",{className:Mr,children:[null!==N&&M?B("button",{"aria-label":j,className:"".concat(Mr,"__arrow ").concat(Mr,"__prev2-button"),disabled:Z,onClick:function(){E(P,"prev2")},type:"button",children:N}):null,null!==T&&B("button",{"aria-label":I,className:"".concat(Mr,"__arrow ").concat(Mr,"__prev-button"),disabled:F,onClick:function(){E($,"prev")},type:"button",children:T}),(t="".concat(Mr,"__label"),B("button",{"aria-label":f,"aria-live":b,className:t,disabled:!q,onClick:r,style:{flexGrow:1},type:"button",children:[B("span",{className:"".concat(t,"__labelText ").concat(t,"__labelText--from"),children:H(n)}),A?B(w,{children:[B("span",{className:"".concat(t,"__divider"),children:" – "}),B("span",{className:"".concat(t,"__labelText ").concat(t,"__labelText--to"),children:H(R)})]}):null]})),null!==k&&B("button",{"aria-label":_,className:"".concat(Mr,"__arrow ").concat(Mr,"__next-button"),disabled:z,onClick:function(){E(R,"next")},type:"button",children:k}),null!==v&&M?B("button",{"aria-label":m,className:"".concat(Mr,"__arrow ").concat(Mr,"__next2-button"),disabled:W,onClick:function(){E(U,"next2")},type:"button",children:v}):null]})}var Pr=function(){return Pr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Pr.apply(this,arguments)};function Rr(e){return"".concat(e,"%")}function Ur(e){var t=e.children,n=e.className,r=e.count,o=e.direction,a=e.offset,i=e.style,s=e.wrap,l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["children","className","count","direction","offset","style","wrap"]);return B("div",Pr({className:n,style:Pr({display:"flex",flexDirection:o,flexWrap:s?"wrap":"nowrap"},i)},l,{children:it(t,(function(e,t){var n=a&&0===t?Rr(100*a/r):null;return Et(e,Pr(Pr({},e.props),{style:{flexBasis:Rr(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:n,marginInlineStart:n,marginInlineEnd:0}}))}))}))}function Br(e,t){return t[0]<=e&&t[1]>=e}function Fr(e,t){return Br(e[0],t)||Br(e[1],t)}function Zr(e,t,n){var r=[];if(Fr(t,e)){r.push(n);var o=Br(e[0],t),a=Br(e[1],t);o&&r.push("".concat(n,"Start")),a&&r.push("".concat(n,"End")),o&&a&&r.push("".concat(n,"BothEnds"))}return r}function zr(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,r=e.hover,o="react-calendar__tile",a=[o];if(!n)return a;var i=new Date,s=function(){if(Array.isArray(n))return n;var t=e.dateType;if(!t)throw new Error("dateType is required when date is not an array of two dates");return Er(t,n)}();if(Br(i,s)&&a.push("".concat(o,"--now")),!t||!function(e){return Array.isArray(e)?null!==e[0]&&null!==e[1]:null!==e}(t))return a;var l,c,d=function(){if(Array.isArray(t))return t;var n=e.valueType;if(!n)throw new Error("valueType is required when value is not an array of two dates");return Er(n,t)}();c=s,(l=d)[0]<=c[0]&&l[1]>=c[1]?a.push("".concat(o,"--active")):Fr(d,s)&&a.push("".concat(o,"--hasActive"));var u=Zr(d,s,"".concat(o,"--range"));a.push.apply(a,u);var f=Array.isArray(t)?t:[t];if(r&&1===f.length){var b=Zr(r>d[0]?[d[0],r]:[r,d[0]],s,"".concat(o,"--hover"));a.push.apply(a,b)}return a}function Wr(e){for(var t=e.className,n=e.count,r=void 0===n?3:n,o=e.dateTransform,a=e.dateType,i=e.end,s=e.hover,l=e.offset,c=e.renderTile,d=e.start,u=e.step,f=void 0===u?1:u,b=e.value,p=e.valueType,h=[],m=d;m<=i;m+=f){var g=o(m);h.push(c({classes:zr({date:g,dateType:a,hover:s,value:b,valueType:p}),date:g}))}return B(Ur,{className:t,count:r,offset:l,wrap:!0,children:h})}function Hr(e){var t=e.activeStartDate,n=e.children,r=e.classes,o=e.date,a=e.formatAbbr,i=e.locale,s=e.maxDate,l=e.maxDateTransform,c=e.minDate,d=e.minDateTransform,u=e.onClick,f=e.onMouseOver,b=e.style,p=e.tileClassName,h=e.tileContent,m=e.tileDisabled,g=e.view,v=ie((function(){return"function"==typeof p?p({activeStartDate:t,date:o,view:g}):p}),[t,o,p,g]),y=ie((function(){return"function"==typeof h?h({activeStartDate:t,date:o,view:g}):h}),[t,o,h,g]);return B("button",{className:Gt(r,v),disabled:c&&d(c)>o||s&&l(s)<o||m&&m({activeStartDate:t,date:o,view:g}),onClick:u?function(e){return u(o,e)}:void 0,onFocus:f?function(){return f(o)}:void 0,onMouseOver:f?function(){return f(o)}:void 0,style:b,type:"button",children:[a?B("abbr",{"aria-label":a(i,o),children:n}):n,y]})}var Qr=function(){return Qr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Qr.apply(this,arguments)},Vr="react-calendar__century-view__decades__decade";function Yr(e){var t=e.classes,n=void 0===t?[]:t,r=e.currentCentury,o=e.formatYear,a=void 0===o?kr:o,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["classes","currentCentury","formatYear"]),s=i.date,l=i.locale,c=[];return n&&c.push.apply(c,n),c.push(Vr),Ln(s).getFullYear()!==r&&c.push("".concat(Vr,"--neighboringCentury")),B(Hr,Qr({},i,{classes:c,maxDateTransform:$n,minDateTransform:Dn,view:"century",children:Dr(l,a,s)}))}var Kr=function(){return Kr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Kr.apply(this,arguments)},Gr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function Xr(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringCentury,o=e.value,a=e.valueType,i=Gr(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),s=Cn(Ln(t));return B(Wr,{className:"react-calendar__century-view__decades",dateTransform:Dn,dateType:"decade",end:s+(r?119:99),hover:n,renderTile:function(e){var n=e.date,r=Gr(e,["date"]);return B(Yr,Kr({},i,r,{activeStartDate:t,currentCentury:s,date:n}),n.getTime())},start:s,step:10,value:o,valueType:a})}var Jr=function(){return Jr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Jr.apply(this,arguments)};function eo(e){return B("div",{className:"react-calendar__century-view",children:B(Xr,Jr({},e))})}var to=function(){return to=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},to.apply(this,arguments)},no="react-calendar__decade-view__years__year";function ro(e){var t=e.classes,n=void 0===t?[]:t,r=e.currentDecade,o=e.formatYear,a=void 0===o?kr:o,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["classes","currentDecade","formatYear"]),s=i.date,l=i.locale,c=[];return n&&c.push.apply(c,n),c.push(no),Dn(s).getFullYear()!==r&&c.push("".concat(no,"--neighboringDecade")),B(Hr,to({},i,{classes:c,maxDateTransform:Zn,minDateTransform:Un,view:"decade",children:a(l,s)}))}var oo=function(){return oo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},oo.apply(this,arguments)},ao=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function io(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringDecade,o=e.value,a=e.valueType,i=ao(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),s=Cn(Dn(t));return B(Wr,{className:"react-calendar__decade-view__years",dateTransform:Un,dateType:"year",end:s+(r?11:9),hover:n,renderTile:function(e){var n=e.date,r=ao(e,["date"]);return B(ro,oo({},i,r,{activeStartDate:t,currentDecade:s,date:n}),n.getTime())},start:s,value:o,valueType:a})}var so=function(){return so=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},so.apply(this,arguments)};function lo(e){return B("div",{className:"react-calendar__decade-view",children:B(io,so({},e))})}var co=function(){return co=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},co.apply(this,arguments)},uo=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function fo(e){var t=e.classes,n=void 0===t?[]:t,r=e.formatMonth,o=void 0===r?yr:r,a=e.formatMonthYear,i=void 0===a?wr:a,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["classes","formatMonth","formatMonthYear"]),l=s.date,c=s.locale;return B(Hr,co({},s,{classes:uo(uo([],n,!0),["react-calendar__year-view__months__month"],!1),formatAbbr:i,maxDateTransform:Kn,minDateTransform:Qn,view:"year",children:o(c,l)}))}var bo=function(){return bo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},bo.apply(this,arguments)},po=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function ho(e){var t=e.activeStartDate,n=e.hover,r=e.value,o=e.valueType,a=po(e,["activeStartDate","hover","value","valueType"]),i=Cn(t);return B(Wr,{className:"react-calendar__year-view__months",dateTransform:function(e){var t=new Date;return t.setFullYear(i,e,1),Qn(t)},dateType:"month",end:11,hover:n,renderTile:function(e){var n=e.date,r=po(e,["date"]);return B(fo,bo({},a,r,{activeStartDate:t,date:n}),n.getTime())},start:0,value:r,valueType:o})}var mo=function(){return mo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mo.apply(this,arguments)};function go(e){return B("div",{className:"react-calendar__year-view",children:B(ho,mo({},e))})}var vo=function(){return vo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},vo.apply(this,arguments)},yo="react-calendar__month-view__days__day";function wo(e){var t=e.calendarType,n=e.classes,r=void 0===n?[]:n,o=e.currentMonthIndex,a=e.formatDay,i=void 0===a?gr:a,s=e.formatLongDate,l=void 0===s?vr:s,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=c.date,u=c.locale,f=[];return r&&f.push.apply(f,r),f.push(yo),qr(d,t)&&f.push("".concat(yo,"--weekend")),d.getMonth()!==o&&f.push("".concat(yo,"--neighboringMonth")),B(Hr,vo({},c,{classes:f,formatAbbr:l,maxDateTransform:rr,minDateTransform:Jn,view:"month",children:i(u,d)}))}var _o=function(){return _o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_o.apply(this,arguments)},xo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function ko(e){var t=e.activeStartDate,n=e.calendarType,r=e.hover,o=e.showFixedNumberOfWeeks,a=e.showNeighboringMonth,i=e.value,s=e.valueType,l=xo(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=Cn(t),d=jn(t),u=o||a,f=Nr(t,n),b=u?0:f,p=1+(u?-f:0);return B(Wr,{className:"react-calendar__month-view__days",count:7,dateTransform:function(e){var t=new Date;return t.setFullYear(c,d,e),Jn(t)},dateType:"day",hover:r,end:function(){if(o)return p+42-1;var e=ar(t);if(a){var r=new Date;return r.setFullYear(c,d,e),r.setHours(0,0,0,0),e+(7-Nr(r,n)-1)}return e}(),renderTile:function(e){var r=e.date,o=xo(e,["date"]);return B(wo,_o({},l,o,{activeStartDate:t,calendarType:n,currentMonthIndex:d,date:r}),r.getTime())},offset:b,start:p,value:i,valueType:s})}var Co="react-calendar__month-view__weekdays",jo="".concat(Co,"__weekday");function So(e){for(var t,n=e.calendarType,r=e.formatShortWeekday,o=void 0===r?_r:r,a=e.formatWeekday,i=void 0===a?xr:a,s=e.locale,l=e.onMouseLeave,c=Qn(new Date),d=Cn(c),u=jn(c),f=[],b=1;b<=7;b+=1){var p=new Date(d,u,b-Nr(c,n)),h=i(s,p);f.push(B("div",{className:Gt(jo,(t=p,t.getDay()===(new Date).getDay()&&"".concat(jo,"--current")),qr(p,n)&&"".concat(jo,"--weekend")),children:B("abbr",{"aria-label":h,title:h,children:o(s,p).replace(".","")})},b))}return B(Ur,{className:Co,count:7,onFocus:l,onMouseOver:l,children:f})}var No=function(){return No=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},No.apply(this,arguments)},Lo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Io="react-calendar__tile";function Oo(e){var t=e.onClickWeekNumber,n=B("span",{children:e.weekNumber});if(t){var r=e.date,o=e.onClickWeekNumber,a=e.weekNumber,i=Lo(e,["date","onClickWeekNumber","weekNumber"]);return B("button",No({},i,{className:Io,onClick:function(e){return o(a,r,e)},type:"button",children:n}))}e.date,e.onClickWeekNumber,e.weekNumber;i=Lo(e,["date","onClickWeekNumber","weekNumber"]);return B("div",No({},i,{className:Io,children:n}))}function To(e){var t=e.activeStartDate,n=e.calendarType,r=e.onClickWeekNumber,o=e.onMouseLeave,a=e.showFixedNumberOfWeeks,i=function(){if(a)return 6;var e=ar(t)-(7-Nr(t,n));return 1+Math.ceil(e/7)}(),s=function(){for(var e=Cn(t),r=jn(t),o=Nn(t),a=[],s=0;s<i;s+=1)a.push(Lr(new Date(e,r,o+7*s),n));return a}(),l=s.map((function(e){return function(e,t){void 0===t&&(t=fr);var n,r=t===cr?cr:fr,o=Lr(e,t),a=Cn(e)+1;do{n=Lr(new Date(a,0,r===fr?4:1),t),a-=1}while(e<n);return Math.round((o.getTime()-n.getTime())/6048e5)+1}(e,n)}));return B(Ur,{className:"react-calendar__month-view__weekNumbers",count:i,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map((function(e,t){var n=s[t];if(!n)throw new Error("date is not defined");return B(Oo,{date:n,onClickWeekNumber:r,weekNumber:e},e)}))})}var Eo=function(){return Eo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Eo.apply(this,arguments)};function Ao(e){var t=e.activeStartDate,n=e.locale,r=e.onMouseLeave,o=e.showFixedNumberOfWeeks,a=e.calendarType,i=void 0===a?function(e){if(e)for(var t=0,n=Object.entries(br);t<n.length;t++){var r=n[t],o=r[0];if(r[1].includes(e))return o}return fr}(n):a,s=e.formatShortWeekday,l=e.formatWeekday,c=e.onClickWeekNumber,d=e.showWeekNumbers,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);var f="react-calendar__month-view";return B("div",{className:Gt(f,d?"".concat(f,"--weekNumbers"):""),children:B("div",{style:{display:"flex",alignItems:"flex-end"},children:[d?B(To,{activeStartDate:t,calendarType:i,onClickWeekNumber:c,onMouseLeave:r,showFixedNumberOfWeeks:o}):null,B("div",{style:{flexGrow:1,width:"100%"},children:[B(So,{calendarType:i,formatShortWeekday:s,formatWeekday:l,locale:n,onMouseLeave:r}),B(ko,Eo({calendarType:i},u))]})]})})}var Do=function(){return Do=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Do.apply(this,arguments)},qo="react-calendar",Mo=["century","decade","year","month"],$o=["decade","year","month","day"],Po=new Date;Po.setFullYear(1,0,1),Po.setHours(0,0,0,0);var Ro=new Date(864e13);function Uo(e){return e instanceof Date?e:new Date(e)}function Bo(e,t){return Mo.slice(Mo.indexOf(e),Mo.indexOf(t)+1)}function Fo(e,t,n){return e&&function(e,t,n){return-1!==Bo(t,n).indexOf(e)}(e,t,n)?e:n}function Zo(e){var t=Mo.indexOf(e);return $o[t]}function zo(e,t){var n=e.value,r=e.minDate,o=e.maxDate,a=e.maxDetail,i=function(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=Uo(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}(n,t);if(!i)return null;var s=Zo(a);return function(e,t,n){return t&&t>e?t:n&&n<e?n:e}(function(){switch(t){case 0:return Ir(s,i);case 1:return Tr(s,i);default:throw new Error("Invalid index value: ".concat(t))}}(),r,o)}var Wo=function(e){return zo(e,0)},Ho=function(e){return zo(e,1)},Qo=function(e){return[Wo,Ho].map((function(t){return t(e)}))};function Vo(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,o=e.minDetail,a=e.value;return Ir(Fo(e.view,o,n),Wo({value:a,minDate:r,maxDate:t,maxDetail:n})||new Date)}function Yo(e){return e&&(!Array.isArray(e)||1===e.length)}function Ko(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var Go=function(e){function t(t){var n=et({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=ot,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}((function(e,t){var n,r,o,a,i=e.activeStartDate,s=e.allowPartialRange,l=e.calendarType,c=e.className,d=e.defaultActiveStartDate,u=e.defaultValue,f=e.defaultView,b=e.formatDay,p=e.formatLongDate,h=e.formatMonth,m=e.formatMonthYear,g=e.formatShortWeekday,v=e.formatWeekday,y=e.formatYear,w=e.goToRangeStartOnSelect,_=void 0===w||w,x=e.inputRef,k=e.locale,C=e.maxDate,j=void 0===C?Ro:C,S=e.maxDetail,N=void 0===S?"month":S,L=e.minDate,I=void 0===L?Po:L,O=e.minDetail,T=void 0===O?"century":O,E=e.navigationAriaLabel,A=e.navigationAriaLive,D=e.navigationLabel,q=e.next2AriaLabel,M=e.next2Label,$=e.nextAriaLabel,P=e.nextLabel,R=e.onActiveStartDateChange,U=e.onChange,F=e.onClickDay,Z=e.onClickDecade,z=e.onClickMonth,W=e.onClickWeekNumber,Q=e.onClickYear,V=e.onDrillDown,Y=e.onDrillUp,K=e.onViewChange,G=e.prev2AriaLabel,X=e.prev2Label,J=e.prevAriaLabel,ee=e.prevLabel,te=e.returnValue,re=void 0===te?"start":te,ae=e.selectRange,ie=e.showDoubleView,le=e.showFixedNumberOfWeeks,ce=e.showNavigation,de=void 0===ce||ce,ue=e.showNeighboringCentury,fe=e.showNeighboringDecade,be=e.showNeighboringMonth,pe=void 0===be||be,he=e.showWeekNumbers,me=e.tileClassName,ge=e.tileContent,ve=e.tileDisabled,ye=e.value,we=e.view,_e=ne(d),xe=_e[0],ke=_e[1],Ce=ne(null),je=Ce[0],Se=Ce[1],Ne=ne(Array.isArray(u)?u.map((function(e){return null!==e?Uo(e):null})):null!=u?Uo(u):null),Le=Ne[0],Ie=Ne[1],Oe=ne(f),Te=Oe[0],Ee=Oe[1],Ae=i||xe||function(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,o=e.defaultView,a=e.maxDate,i=e.maxDetail,s=e.minDate,l=e.minDetail,c=e.value,d=e.view,u=Fo(d,l,i),f=t||n;return f?Ir(u,f):Vo({maxDate:a,maxDetail:i,minDate:s,minDetail:l,value:c||r,view:d||o})}({activeStartDate:i,defaultActiveStartDate:d,defaultValue:u,defaultView:f,maxDate:j,maxDetail:N,minDate:I,minDetail:T,value:ye,view:we}),De=(n=ae&&Yo(Le)?Le:void 0!==ye?ye:Le)?Array.isArray(n)?n.map((function(e){return null!==e?Uo(e):null})):null!==n?Uo(n):null:null,qe=Zo(N),Me=Fo(we||Te,T,N),$e=Bo(T,N),Pe=ae?je:null,Re=$e.indexOf(Me)<$e.length-1,Ue=$e.indexOf(Me)>0,Be=se((function(e){return function(){switch(re){case"start":return Wo;case"end":return Ho;case"range":return Qo;default:throw new Error("Invalid returnValue.")}}()({maxDate:j,maxDetail:N,minDate:I,value:e})}),[j,N,I,re]),Fe=se((function(e,t){ke(e);var n={action:t,activeStartDate:e,value:De,view:Me};R&&!Ko(Ae,e)&&R(n)}),[Ae,R,De,Me]),Ze=se((function(e,t){var n=function(){switch(Me){case"century":return Z;case"decade":return Q;case"year":return z;case"month":return F;default:throw new Error("Invalid view: ".concat(Me,"."))}}();n&&n(e,t)}),[F,Z,z,Q,Me]),ze=se((function(e,t){if(Re){Ze(e,t);var n=$e[$e.indexOf(Me)+1];if(!n)throw new Error("Attempted to drill down from the lowest view.");ke(e),Ee(n);var r={action:"drillDown",activeStartDate:e,value:De,view:n};R&&!Ko(Ae,e)&&R(r),K&&Me!==n&&K(r),V&&V(r)}}),[Ae,Re,R,Ze,V,K,De,Me,$e]),We=se((function(){if(Ue){var e=$e[$e.indexOf(Me)-1];if(!e)throw new Error("Attempted to drill up from the highest view.");var t=Ir(e,Ae);ke(t),Ee(e);var n={action:"drillUp",activeStartDate:t,value:De,view:e};R&&!Ko(Ae,t)&&R(n),K&&Me!==e&&K(n),Y&&Y(n)}}),[Ae,Ue,R,Y,K,De,Me,$e]),He=se((function(e,t){var n=De;Ze(e,t);var r,o=ae&&!Yo(n);if(ae)if(o)r=Ir(qe,e);else{if(!n)throw new Error("previousValue is required");if(Array.isArray(n))throw new Error("previousValue must not be an array");r=function(e,t,n){var r=[t,n].sort((function(e,t){return e.getTime()-t.getTime()}));return[Ir(e,r[0]),Tr(e,r[1])]}(qe,n,e)}else r=Be(e);var a=!ae||o||_?Vo({maxDate:j,maxDetail:N,minDate:I,minDetail:T,value:r,view:Me}):null;t.persist(),ke(a),Ie(r);var i={action:"onChange",activeStartDate:a,value:r,view:Me};if(R&&!Ko(Ae,a)&&R(i),U)if(ae)if(Yo(r)){if(s){if(Array.isArray(r))throw new Error("value must not be an array");U([r||null,null],t)}}else U(r||null,t);else U(r||null,t)}),[Ae,s,Be,_,j,N,I,T,R,U,Ze,ae,De,qe,Me]);function Qe(e){Se(e)}function Ve(){Se(null)}function Ye(e){var t={activeStartDate:e?Or(Me,Ae):Ir(Me,Ae),hover:Pe,locale:k,maxDate:j,minDate:I,onClick:Re?ze:He,onMouseOver:ae?Qe:void 0,tileClassName:me,tileContent:ge,tileDisabled:ve,value:De,valueType:qe};switch(Me){case"century":return B(eo,Do({formatYear:y,showNeighboringCentury:ue},t));case"decade":return B(lo,Do({formatYear:y,showNeighboringDecade:fe},t));case"year":return B(go,Do({formatMonth:h,formatMonthYear:m},t));case"month":return B(Ao,Do({calendarType:l,formatDay:b,formatLongDate:p,formatShortWeekday:g,formatWeekday:v,onClickWeekNumber:W,onMouseLeave:ae?Ve:void 0,showFixedNumberOfWeeks:void 0!==le?le:ie,showNeighboringMonth:pe,showWeekNumbers:he},t));default:throw new Error("Invalid view: ".concat(Me,"."))}}r=t,o=function(){return{activeStartDate:Ae,drillDown:ze,drillUp:We,onChange:He,setActiveStartDate:Fe,value:De,view:Me}},H=6,oe((function(){return"function"==typeof r?(r(o()),function(){return r(null)}):r?(r.current=o(),function(){return r.current=null}):void 0}),null==(a=[Ae,ze,We,He,Fe,De,Me])?a:a.concat(r));var Ke=Array.isArray(De)?De:[De];return B("div",{className:Gt(qo,ae&&1===Ke.length&&"".concat(qo,"--selectRange"),ie&&"".concat(qo,"--doubleView"),c),ref:x,children:[de?B($r,{activeStartDate:Ae,drillUp:We,formatMonthYear:m,formatYear:y,locale:k,maxDate:j,minDate:I,navigationAriaLabel:E,navigationAriaLive:A,navigationLabel:D,next2AriaLabel:q,next2Label:M,nextAriaLabel:$,nextLabel:P,prev2AriaLabel:G,prev2Label:X,prevAriaLabel:J,prevLabel:ee,setActiveStartDate:Fe,showDoubleView:ie,view:Me,views:$e}):null,B("div",{className:"".concat(qo,"__viewContainer"),onBlur:ae?Ve:void 0,onMouseLeave:ae?Ve:void 0,children:[Ye(),ie?Ye(!0):null]})]})}));function Xo(e){return e.getBoundingClientRect()}function Jo(e,t){return{get collidedTop(){return Xo(e).top<Xo(t).top},get collidedBottom(){return Xo(e).bottom>Xo(t).bottom},get collidedLeft(){return Xo(e).left<Xo(t).left},get collidedRight(){return Xo(e).right>Xo(t).right},get overflowTop(){return Xo(t).top-Xo(e).top},get overflowBottom(){return Xo(e).bottom-Xo(t).bottom},get overflowLeft(){return Xo(t).left-Xo(e).left},get overflowRight(){return Xo(e).right-Xo(t).right}}}const ea=Jt((function(){}));var ta=function(){return ta=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ta.apply(this,arguments)},na="undefined"!=typeof document&&"MutationObserver"in window;function ra(e){return e.charAt(0).toUpperCase()+e.slice(1)}function oa(e){var t=e.axis,n=e.container,r=e.element,o=e.invertAxis,a=e.scrollContainer,i=e.secondary,s=e.spacing,l=window.getComputedStyle(r),c=n.parentElement;if(c){var d=Jo(c,a),u=Jo(c,document.documentElement),f="x"===t,b=f?"left":"top",p=f?"right":"bottom",h=f?"width":"height",m="overflow".concat(ra(b)),g="overflow".concat(ra(p)),v="scroll".concat(ra(b)),y=ra(h),w="offset".concat(y),_="client".concat(y),x="min-".concat(h),k=a[w]-a[_],C="object"==typeof s?s[b]:s,j=-Math.max(d[m],u[m]+document.documentElement[v])-C,S="object"==typeof s?s[p]:s,N=-Math.max(d[g],u[g]-document.documentElement[v])-S-k;i&&(j+=c[_],N+=c[_]);var L=r[w];(o?E()||A():A()||E())||function(){var e=j>N,t=l.getPropertyValue(x),n=t?parseInt(t,10):null;function o(e){ea(!n||e>=n,"<Fit />'s child will not fit anywhere with its current ".concat(x," of ").concat(n,"px."));var t=Math.max(e,n||0);ea(!1,"<Fit />'s child needed to have its ".concat(h," decreased to ").concat(t,"px.")),r.style[h]="".concat(t,"px")}e?(o(j),I()):(o(N),O())}()}function I(){r.style[b]="auto",r.style[p]=i?"0":"100%"}function O(){r.style[b]=i?"0":"100%",r.style[p]="auto"}function T(e,t){var n=L<=e;return n&&t(),n}function E(){return T(j,I)}function A(){return T(N,O)}}function aa(e){var t=e.invertAxis,n=e.invertSecondaryAxis,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["invertAxis","invertSecondaryAxis"]);!function(e){oa(e)}(ta(ta({},r),{invertAxis:t})),function(e){oa(ta(ta({},e),{axis:"x"===e.axis?"y":"x",secondary:!0}))}(ta(ta({},r),{invertAxis:n}))}function ia(e){var t=e.children,n=e.invertAxis,r=e.invertSecondaryAxis,o=e.mainAxis,a=void 0===o?"y":o,i=e.spacing,s=void 0===i?8:i,l=ae(void 0),c=ae(void 0),d=ae(void 0),u=ae(void 0),f=ae(void 0),b=se((function(){if(f.current&&l.current&&c.current){var e=c.current.clientWidth,t=c.current.clientHeight;if(d.current!==e||u.current!==t){d.current=e,u.current=t;var o=l.current.parentElement;if(o){"absolute"!==window.getComputedStyle(c.current).position&&(c.current.style.position="absolute");var i=window.getComputedStyle(o).position;"relative"!==i&&"absolute"!==i&&(o.style.position="relative"),aa({axis:a,container:l.current,element:c.current,invertAxis:n,invertSecondaryAxis:r,scrollContainer:f.current,spacing:s})}}}}),[n,r,a,s]),p=st(t);function h(e){e&&e instanceof HTMLElement&&(c.current=e,f.current=function(e){for(var t=e.parentElement;t;){if(window.getComputedStyle(t).overflow.split(" ").every((function(e){return"auto"===e||"scroll"===e})))return t;t=t.parentElement}return document.documentElement}(e))}return re((function(){(b(),na&&c.current)&&new MutationObserver((function(){b()})).observe(c.current,{attributes:!0,attributeFilter:["class","style"]})}),[b]),B("span",{ref:function(e){e&&(l.current=e,h(null==e?void 0:e.firstElementChild))},style:{display:"contents"},children:p})}function sa(e){return B("span",{className:"react-date-picker__inputGroup__divider",children:e.children})}var la,ca=["normal","small-caps"];function da(e){if(!e)return"";var t=window.getComputedStyle(e);if(t.font)return t.font;if(!(""!==t.fontFamily))return"";var n=ca.includes(t.fontVariant)?t.fontVariant:"normal";return"".concat(t.fontStyle," ").concat(n," ").concat(t.fontWeight," ").concat(t.fontSize," / ").concat(t.lineHeight," ").concat(t.fontFamily)}function ua(e){if("undefined"==typeof document||!e)return null;var t=da(e),n=function(e,t){var n=(la||(la=document.createElement("canvas"))).getContext("2d");if(!n)return null;n.font=t;var r=n.measureText(e).width;return Math.ceil(r)}(e.value||e.placeholder,t);return null===n?null:(e.style.width="".concat(n,"px"),n)}var fa="undefined"!=typeof document,ba=fa?oe:re,pa=fa&&/(MSIE|Trident\/|Edge\/)/.test(navigator.userAgent),ha=fa&&/Firefox/.test(navigator.userAgent);function ma(e){var t=e.target;pa?requestAnimationFrame((function(){return t.select()})):t.select()}function ga(e){if(null!==e)return function(t){if(!ha){var n=t.key,r=t.target,o=r.value,a=1===n.length&&/\d/.test(n),i=function(e){if(e&&"selectionStart"in e&&null!==e.selectionStart&&"selectionEnd"in e&&null!==e.selectionEnd)return e.value.slice(e.selectionStart,e.selectionEnd);if("getSelection"in window){var t=window.getSelection();return t&&t.toString()}return null}(r);a&&(i||o.length<e)||t.preventDefault()}}}function va(e){var t=e.ariaLabel,n=e.autoFocus,r=e.className,o=e.disabled,a=e.inputRef,i=e.max,s=e.min,l=e.name,c=e.nameForClass,d=e.onChange,u=e.onKeyDown,f=e.onKeyUp,b=e.placeholder,p=void 0===b?"--":b,h=e.required,m=e.showLeadingZeros,g=e.step,v=e.value;ba((function(){var e;a&&a.current&&(ua(a.current),e=a.current,"complete"!==document.readyState&&window.addEventListener("load",(function(){ua(e)})),function(e){if(document.fonts){var t=da(e);t&&(document.fonts.check(t)||document.fonts.addEventListener("loadingdone",(function(){ua(e)})))}}(a.current))}),[a,v]);var y=m&&v&&Number(v)<10&&("0"===v||!v.toString().startsWith("0")),_=i?i.toString().length:null;return B(w,{children:[y?B("span",{className:"".concat(r,"__leadingZero"),children:"0"}):null,B("input",{"aria-label":t,autoComplete:"off",autoFocus:n,className:Gt("".concat(r,"__input"),"".concat(r,"__").concat(c||l),y&&"".concat(r,"__input--hasLeadingZero")),"data-input":"true",disabled:o,inputMode:"numeric",max:i,min:s,name:l,onChange:d,onFocus:ma,onKeyDown:u,onKeyPress:ga(_),onKeyUp:function(e){ua(e.target),f&&f(e)},placeholder:p,ref:a,required:h,step:g,type:"number",value:null!==v?v:""})]})}function ya(e){return null!==e&&!1!==e&&!Number.isNaN(Number(e))}function wa(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Math.min.apply(Math,e.filter(ya))}function _a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Math.max.apply(Math,e.filter(ya))}var xa=function(){return xa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xa.apply(this,arguments)};function ka(e){var t=e.maxDate,n=e.minDate,r=e.month,o=e.year,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["maxDate","minDate","month","year"]);function i(e){return o===Cn(e).toString()&&r===Sn(e).toString()}var s=wa(r?ar(new Date(Number(o),Number(r)-1,1)):31,t&&i(t)&&Nn(t)),l=_a(1,n&&i(n)&&Nn(n));return B(va,xa({max:s,min:l,name:"day"},a))}var Ca=function(){return Ca=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ca.apply(this,arguments)};function ja(e){var t=e.maxDate,n=e.minDate,r=e.year,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["maxDate","minDate","year"]);function a(e){return e&&r===Cn(e).toString()}var i=wa(12,t&&a(t)&&Sn(t)),s=_a(1,n&&a(n)&&Sn(n));return B(va,Ca({max:i,min:s,name:"month"},o))}var Sa=new Map;function Na(e){return function(t,n){var r=t||wn();Sa.has(r)||Sa.set(r,new Map);var o=Sa.get(r);return o.has(e)||o.set(e,new Intl.DateTimeFormat(r||void 0,e).format),o.get(e)(n)}}function La(e){return function(t,n){return Na(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}var Ia=La({month:"long"}),Oa=La({month:"short"});function Ta(e){var t=e.ariaLabel,n=e.autoFocus,r=e.className,o=e.disabled,a=e.inputRef,i=e.locale,s=e.maxDate,l=e.minDate,c=e.onChange,d=e.onKeyDown,u=e.placeholder,f=void 0===u?"--":u,b=e.required,p=e.short,h=e.value,m=e.year;function g(e){return e&&m===Cn(e).toString()}var v=wa(12,s&&g(s)&&Sn(s)),y=_a(1,l&&g(l)&&Sn(l)),w=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],Array(12),!0).map((function(e,t){return new Date(2019,t,1)})),_="month",x=p?Oa:Ia;return B("select",{"aria-label":t,autoFocus:n,className:Gt("".concat(r,"__input"),"".concat(r,"__").concat(_)),"data-input":"true","data-select":"true",disabled:o,name:_,onChange:c,onKeyDown:d,ref:a,required:b,value:null!==h?h:"",children:[!h&&B("option",{value:"",children:f}),w.map((function(e){var t=Sn(e);return B("option",{disabled:t<y||t>v,value:t,children:x(i,e)},t)}))]})}var Ea=function(){return Ea=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ea.apply(this,arguments)};function Aa(e){var t=e.maxDate,n=e.minDate,r=e.placeholder,o=void 0===r?"----":r,a=e.valueType,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["maxDate","minDate","placeholder","valueType"]),s=wa(275760,t&&Cn(t)),l=_a(1,n&&Cn(n));return B(va,Ea({max:s,min:l,name:"year",placeholder:o,step:"century"===a?10:1},i))}function Da(e){var t=e.ariaLabel,n=e.disabled,r=e.maxDate,o=e.minDate,a=e.name,i=e.onChange,s=e.required,l=e.value,c=e.valueType,d=function(){switch(c){case"decade":case"year":return"number";case"month":return"month";case"day":return"date";default:throw new Error("Invalid valueType")}}(),u=function(){switch(c){case"decade":case"year":return Cn;case"month":return sr;case"day":return lr;default:throw new Error("Invalid valueType")}}();return B("input",{"aria-label":t,disabled:n,hidden:!0,max:r?u(r):void 0,min:o?u(o):void 0,name:a,onChange:i,onFocus:function(e){e.stopPropagation()},required:s,style:{visibility:"hidden",position:"absolute",zIndex:"-999"},type:d,value:l?u(l):""})}var qa=function(){return qa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},qa.apply(this,arguments)},Ma=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},$a={},Pa=new Date;Pa.setFullYear(1,0,1),Pa.setHours(0,0,0,0);var Ra=new Date(864e13),Ua=["century","decade","year","month"],Ba=Ma(Ma([],Ua.slice(1),!0),["day"],!1);function Fa(e){var t=Ua.indexOf(e);return Ba[t]}function Za(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=function(e){return e instanceof Date?e:new Date(e)}(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}function za(e,t){var n=e.value,r=e.minDate,o=e.maxDate,a=e.maxDetail,i=Za(n,t);if(!i)return null;var s=Fa(a);return function(e,t,n){return t&&t>e?t:n&&n<e?n:e}(function(){switch(t){case 0:return function(e,t){switch(e){case"decade":return Dn(t);case"year":return Un(t);case"month":return Qn(t);case"day":return Jn(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(s,i);case 1:return function(e,t){switch(e){case"decade":return $n(t);case"year":return Zn(t);case"month":return Kn(t);case"day":return rr(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(s,i);default:throw new Error("Invalid index value: ".concat(t))}}(),r,o)}var Wa=function(e){return za(e,0)},Ha=function(e){return za(e,1)},Qa=function(e){return[Wa,Ha].map((function(t){return t(e)}))};function Va(e){return"true"===e.dataset.input}function Ya(e,t){var n=e;do{n=n[t]}while(n&&!Va(n));return n}function Ka(e){e&&e.focus()}function Ga(e){var t=e.autoFocus,n=e.className,r=e.dayAriaLabel,o=e.dayPlaceholder,a=e.disabled,i=e.format,s=e.isCalendarOpen,l=void 0===s?null:s,c=e.locale,d=e.maxDate,u=e.maxDetail,f=void 0===u?"month":u,b=e.minDate,p=e.monthAriaLabel,h=e.monthPlaceholder,m=e.name,g=void 0===m?"date":m,v=e.nativeInputAriaLabel,y=e.onChange,w=e.onInvalidChange,_=e.required,x=e.returnValue,k=void 0===x?"start":x,C=e.showLeadingZeros,j=e.value,S=e.yearAriaLabel,N=e.yearPlaceholder,L=ne(null),I=L[0],O=L[1],T=ne(null),E=T[0],A=T[1],D=ne(null),q=D[0],M=D[1],$=ne(null),P=$[0],R=$[1],U=ae(null),F=ae(null),Z=ae(null),z=ae(null),W=ne(l),H=W[0],Q=W[1],V=ae(void 0);re((function(){Q(l)}),[l]),re((function(){var e=Wa({value:j,minDate:b,maxDate:d,maxDetail:f});e?(O(Cn(e).toString()),A(Sn(e).toString()),M(Nn(e).toString()),R(e)):(O(null),A(null),M(null),R(null))}),[j,b,d,f,H]);var Y,K,G=Fa(f),X=(K=Ua.indexOf(f),Na($a[K]||(Y={year:"numeric"},K>=2&&(Y.month="numeric"),K>=3&&(Y.day="numeric"),$a[K]=Y,Y)));var J,ee,te,oe,ie,se=i||(J=new Date(2017,11,11),ee=X(c,J),te=["y","M","d"],oe=ee,["year","month","day"].forEach((function(e,t){var n,r,o,a=(r=J,o=$a[n=e]||function(){var e,t=((e={})[n]="numeric",e);return $a[n]=t,t}(),Na(o)(c,r).match(/\d{1,}/));if(a){var i=a[0],s=te[t];oe=oe.replace(i,s)}})),oe=oe.replace("17","y")),le=(ie=se.match(/[^0-9a-z]/i))?ie[0]:null;function ce(){if(y){var e=[z.current,F.current,Z.current,U.current].filter((function(e){return Boolean(e)})),t={};if(e.forEach((function(e){t[e.name]="valueAsNumber"in e?e.valueAsNumber:Number(e.value)})),e.every((function(e){return!e.value})))y(null,!1);else{var n=e.every((function(e){return e.value})),r=e.every((function(e){return e.validity.valid}));if(n&&r){var o=Number(t.year||(new Date).getFullYear()),a=Number(t.month||1)-1,i=Number(t.day||1),s=new Date;s.setFullYear(o,a,i),s.setHours(0,0,0,0);var l=(c=s,function(){switch(k){case"start":return Wa;case"end":return Ha;case"range":return Qa;default:throw new Error("Invalid returnValue.")}}()({value:c,minDate:b,maxDate:d,maxDetail:f}));y(l,!1)}else{var c;w&&w()}}}}function de(e){var t=e.target.value;if(y){var n=function(){if(!t)return null;var e=t.split("-"),n=e[0],r=e[1],o=e[2],a=Number(n),i=Number(r)-1||0,s=Number(o)||1,l=new Date;return l.setFullYear(a,i,s),l.setHours(0,0,0,0),l}();y(n,!1)}}var ue={className:n,disabled:a,maxDate:d||Ra,minDate:b||Pa,onChange:function(e){var t=e.target,n=t.name,r=t.value;switch(n){case"year":O(r);break;case"month":A(r);break;case"day":M(r)}ce()},onKeyDown:function(e){switch(V.current=e.key,e.key){case"ArrowLeft":case"ArrowRight":case le:e.preventDefault(),Ka(Ya(e.target,"ArrowLeft"===e.key?"previousElementSibling":"nextElementSibling"))}},onKeyUp:function(e){var t=e.key,n=e.target;if(V.current===t&&!isNaN(Number(t))){var r=n.getAttribute("max");if(r){var o=n.value;if(10*Number(o)>Number(r)||o.length>=r.length){Ka(Ya(n,"nextElementSibling"))}}}},required:Boolean(_||H)};function fe(e,n){if(e&&e.length>2)throw new Error("Unsupported token: ".concat(e));var a=e&&2===e.length;return B(ka,qa({},ue,{ariaLabel:r,autoFocus:0===n&&t,inputRef:z,month:E,placeholder:o,showLeadingZeros:a||C,value:q,year:I}),"day")}function be(e,n){if(e&&e.length>4)throw new Error("Unsupported token: ".concat(e));if(e.length>2)return B(Ta,qa({},ue,{ariaLabel:p,autoFocus:0===n&&t,inputRef:Z,locale:c,placeholder:h,short:3===e.length,value:E,year:I}),"month");var r=e&&2===e.length;return B(ja,qa({},ue,{ariaLabel:p,autoFocus:0===n&&t,inputRef:F,placeholder:h,showLeadingZeros:r||C,value:E,year:I}),"month")}function pe(e,n){return B(Aa,qa({},ue,{ariaLabel:S,autoFocus:0===n&&t,inputRef:U,placeholder:N,value:I,valueType:G}),"year")}return B("div",{className:n,onClick:function(e){e.target===e.currentTarget&&Ka(e.target.children[1])},children:[B(Da,{ariaLabel:v,disabled:a,maxDate:d||Ra,minDate:b||Pa,name:g,onChange:de,required:_,value:P,valueType:G},"date"),function(e,t,n){var r=[],o=new RegExp(Object.keys(t).map((function(e){return"".concat(e,"+")})).join("|"),"g"),a=e.match(o);return e.split(o).reduce((function(e,o,i){var s=o&&B(sa,{children:o},"separator_".concat(i));e.push(s);var l=a&&a[i];if(l){var c=t[l]||t[Object.keys(t).find((function(e){return l.match(e)}))];if(!c)return e;!n&&r.includes(c)?e.push(l):(e.push(c(l,i)),r.push(c))}return e}),[])}(se,{d:fe,M:be,y:pe},void 0!==i)]})}var Xa=function(){return Xa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xa.apply(this,arguments)},Ja="react-date-picker",ei=["mousedown","focusin","touchstart"],ti={xmlns:"http://www.w3.org/2000/svg",width:19,height:19,viewBox:"0 0 19 19",stroke:"black",strokeWidth:2},ni=B("svg",Xa({},ti,{className:"".concat(Ja,"__calendar-button__icon ").concat(Ja,"__button__icon"),children:[B("rect",{fill:"none",height:"15",width:"15",x:"2",y:"2"}),B("line",{x1:"6",x2:"6",y1:"0",y2:"4"}),B("line",{x1:"13",x2:"13",y1:"0",y2:"4"})]})),ri=B("svg",Xa({},ti,{className:"".concat(Ja,"__clear-button__icon ").concat(Ja,"__button__icon"),children:[B("line",{x1:"4",x2:"15",y1:"4",y2:"15"}),B("line",{x1:"15",x2:"4",y1:"4",y2:"15"})]}));function oi(e){var t=e.autoFocus,n=e.calendarAriaLabel,r=e.calendarIcon,o=void 0===r?ni:r,a=e.className,i=e.clearAriaLabel,s=e.clearIcon,l=void 0===s?ri:s,c=e.closeCalendar,d=void 0===c||c,u=e["data-testid"],f=e.dayAriaLabel,b=e.dayPlaceholder,p=e.disableCalendar,h=e.disabled,m=e.format,g=e.id,y=e.isOpen,w=void 0===y?null:y,_=e.locale,x=e.maxDate,k=e.maxDetail,C=void 0===k?"month":k,j=e.minDate,S=e.monthAriaLabel,N=e.monthPlaceholder,L=e.name,I=void 0===L?"date":L,O=e.nativeInputAriaLabel,T=e.onCalendarClose,E=e.onCalendarOpen,A=e.onChange,D=e.onFocus,q=e.onInvalidChange,M=e.openCalendarOnFocus,$=void 0===M||M,P=e.required,R=e.returnValue,U=void 0===R?"start":R,F=e.shouldCloseCalendar,Z=e.shouldOpenCalendar,z=e.showLeadingZeros,W=e.value,H=e.yearAriaLabel,Q=e.yearPlaceholder,V=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["autoFocus","calendarAriaLabel","calendarIcon","className","clearAriaLabel","clearIcon","closeCalendar","data-testid","dayAriaLabel","dayPlaceholder","disableCalendar","disabled","format","id","isOpen","locale","maxDate","maxDetail","minDate","monthAriaLabel","monthPlaceholder","name","nativeInputAriaLabel","onCalendarClose","onCalendarOpen","onChange","onFocus","onInvalidChange","openCalendarOnFocus","required","returnValue","shouldCloseCalendar","shouldOpenCalendar","showLeadingZeros","value","yearAriaLabel","yearPlaceholder"]),Y=ne(w),K=Y[0],G=Y[1],X=ae(null),J=ae(null);function ee(e){var t=e.reason;Z&&!Z({reason:t})||(G(!0),E&&E())}re((function(){G(w)}),[w]);var te=se((function(e){var t=e.reason;F&&!F({reason:t})||(G(!1),T&&T())}),[T,F]);function oe(){K?te({reason:"buttonClick"}):ee({reason:"buttonClick"})}function le(e,t){void 0===t&&(t=d),t&&te({reason:"select"}),A&&A(e)}var ce=se((function(e){"Escape"===e.key&&te({reason:"escape"})}),[te]);function de(){le(null)}function ue(e){e.stopPropagation()}var fe=se((function(e){var t=X.current,n=J.current,r="composedPath"in e?e.composedPath()[0]:e.target;!r||!t||t.contains(r)||n&&n.contains(r)||te({reason:"outsideAction"})}),[J,te,X]),be=se((function(e){void 0===e&&(e=K),ei.forEach((function(t){e?document.addEventListener(t,fe):document.removeEventListener(t,fe)})),e?document.addEventListener("keydown",ce):document.removeEventListener("keydown",ce)}),[K,fe,ce]);re((function(){return be(),function(){be(!1)}}),[be]);var pe,he,me,ge=ie((function(){return function(e){var t={};return Yt.forEach((function(n){var r=e[n];r&&(t[n]=r)})),t}(V)}),[V]);return B("div",Xa({className:Gt(Ja,"".concat(Ja,"--").concat(K?"open":"closed"),"".concat(Ja,"--").concat(h?"disabled":"enabled"),a),"data-testid":u,id:g},ge,{onFocus:function(e){D&&D(e),h||K||!$||"true"===e.target.dataset.select||ee({reason:"focus"})},ref:X,children:[(pe=(Array.isArray(W)?W:[W])[0],he={dayAriaLabel:f,monthAriaLabel:S,nativeInputAriaLabel:O,yearAriaLabel:H},me={dayPlaceholder:b,monthPlaceholder:N,yearPlaceholder:Q},B("div",{className:"".concat(Ja,"__wrapper"),children:[B(Ga,Xa({},he,me,{autoFocus:t,className:"".concat(Ja,"__inputGroup"),disabled:h,format:m,isCalendarOpen:K,locale:_,maxDate:x,maxDetail:C,minDate:j,name:I,onChange:le,onInvalidChange:q,required:P,returnValue:U,showLeadingZeros:z,value:pe})),null!==l&&B("button",{"aria-label":i,className:"".concat(Ja,"__clear-button ").concat(Ja,"__button"),disabled:h,onClick:de,onFocus:ue,type:"button",children:"function"==typeof l?v(l):l}),null!==o&&!p&&B("button",{"aria-expanded":K||!1,"aria-label":n,className:"".concat(Ja,"__calendar-button ").concat(Ja,"__button"),disabled:h,onClick:oe,onFocus:ue,type:"button",children:"function"==typeof o?v(o):o})]})),function(){if(null===K||p)return null;var t,n,r,o=e.calendarProps,a=e.portalContainer,i=e.value,s="".concat(Ja,"__calendar"),l=Gt(s,"".concat(s,"--").concat(K?"open":"closed")),c=B(Go,Xa({locale:_,maxDate:x,maxDetail:C,minDate:j,onChange:function(e){return le(e)},value:i},o));return a?(t=B("div",{ref:J,className:l,children:c}),(r=v(gt,{__v:t,i:n=a})).containerInfo=n,r):B(ia,{children:B("div",{ref:function(e){e&&!K&&e.removeAttribute("style")},className:l,children:c})})}()]}))}const ai=()=>B("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",class:"lucide lucide-calendar-days",children:[B("path",{d:"M8 2v4"}),B("path",{d:"M16 2v4"}),B("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}),B("path",{d:"M3 10h18"}),B("path",{d:"M8 14h.01"}),B("path",{d:"M12 14h.01"}),B("path",{d:"M16 14h.01"}),B("path",{d:"M8 18h.01"}),B("path",{d:"M12 18h.01"}),B("path",{d:"M16 18h.01"})]}),ii=()=>B("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",class:"lucide lucide-calendar-check",children:[B("path",{d:"M8 2v4"}),B("path",{d:"M16 2v4"}),B("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}),B("path",{d:"M3 10h18"}),B("path",{d:"m9 16 2 2 4-4"})]}),si=({question:e,value:t,onSubmit:n,onBack:r,isFirstQuestion:o,isLastQuestion:a,onChange:i,languageCode:s,setTtc:l,ttc:c,currentQuestionId:d})=>{const[u,f]=ne(performance.now()),[b,p]=ne(""),h=e.imageUrl||e.videoUrl;Rt(e.id,c,l,u,f,e.id===d);const[m,g]=ne(!1),[v,y]=ne(t?new Date(t):void 0),[w,_]=ne(!v);re((()=>{if(m){v||y(new Date);const e=document.querySelector(".react-date-picker__inputGroup__input");e&&e.focus()}}),[m,v]),re((()=>{v&&w&&_(!1)}),[v]);const x=ie((()=>{if(!v)return"";const e=v.getDate(),t=v.getMonth(),n=v.getFullYear();return`${(e=>{const t=e%10,n=e%100;return 1===t&&11!==n?e+"st":2===t&&12!==n?e+"nd":3===t&&13!==n?e+"rd":e+"th"})(e)} of ${(e=>Ze[e])(t)}, ${n}`}),[v]);return B("form",{onSubmit:r=>{if(r.preventDefault(),e.required&&!t)return void p("Please select a date.");const o=Pt(c,e.id,performance.now()-u);l(o),n({[e.id]:t},o)},className:"fb-w-full",children:[B(Ie,{children:B("div",{children:[h&&B(Ne,{imgUrl:e.imageUrl,videoUrl:e.videoUrl}),B(me,{headline:Ue(e.headline,s),questionId:e.id,required:e.required}),B(Le,{subheader:e.subheader?Ue(e.subheader,s):"",questionId:e.id}),B("div",{className:"fb-text-red-600",children:B("span",{children:b})}),B("div",{className:ge("fb-mt-4 fb-w-full",b&&"fb-rounded-lg fb-border-2 fb-border-red-500"),id:"date-picker-root",children:B("div",{className:"fb-relative",children:[!m&&B("div",{onClick:()=>g(!0),tabIndex:0,onKeyDown:e=>{" "===e.key&&g(!0)},className:"focus:fb-outline-brand fb-bg-input-bg hover:fb-bg-input-bg-selected fb-border-border fb-text-heading fb-rounded-custom fb-relative fb-flex fb-h-[12dvh] fb-w-full fb-cursor-pointer fb-appearance-none fb-items-center fb-justify-center fb-border fb-text-left fb-text-base fb-font-normal",children:B("div",{className:"fb-flex fb-items-center fb-gap-2",children:B("div",v?{className:"fb-flex fb-items-center fb-gap-2",children:[B(ii,{})," ",B("span",{children:x})]}:{className:"fb-flex fb-items-center fb-gap-2",children:[B(ai,{})," ",B("span",{children:"Select a date"})]})})}),B(oi,{value:v,isOpen:m,onChange:t=>{const n=t;y(n);const r=6e4*n.getTimezoneOffset(),o=new Date(n.getTime()-r).toISOString().split("T")[0];i({[e.id]:o})},minDate:new Date((new Date).getFullYear()-100,(new Date).getMonth(),(new Date).getDate()),maxDate:new Date("3000-12-31"),dayPlaceholder:"DD",monthPlaceholder:"MM",yearPlaceholder:"YYYY",format:e.format??"M-d-y",className:`dp-input-root fb-rounded-custom wrapper-hide ${m?"fb-h-[46dvh] sm:fb-h-[34dvh]":""} ${w?"hide-invalid":""} `,calendarClassName:"calendar-root !fb-bg-input-bg fb-border fb-border-border fb-rounded-custom fb-p-3 fb-h-[46dvh] sm:fb-h-[33dvh] fb-overflow-auto",clearIcon:null,onCalendarOpen:()=>{g(!0)},onCalendarClose:()=>{g(!1),y(v)},calendarIcon:B(ai,{}),tileClassName:({date:e})=>{const t="hover:fb-bg-input-bg-selected fb-rounded-custom fb-h-9 fb-p-0 fb-mt-1 fb-font-normal fb-text-heading aria-selected:fb-opacity-100 focus:fb-ring-2 focus:fb-bg-slate-200";return e.getDate()===(new Date).getDate()&&e.getMonth()===(new Date).getMonth()&&e.getFullYear()===(new Date).getFullYear()?`${t} !fb-bg-brand !fb-border-border-highlight !fb-text-heading focus:fb-ring-2 focus:fb-bg-slate-200`:e.getDate()===(null==v?void 0:v.getDate())&&e.getMonth()===(null==v?void 0:v.getMonth())&&e.getFullYear()===(null==v?void 0:v.getFullYear())?`${t} !fb-bg-brand !fb-border-border-highlight !fb-text-heading`:t},formatShortWeekday:(e,t)=>t.toLocaleDateString("en-US",{weekday:"short"}).slice(0,2),showNeighboringMonth:!1,showLeadingZeros:!1},m)]})})]})}),B("div",{className:"fb-flex fb-w-full fb-justify-between fb-px-6 fb-py-4",children:[B("div",{children:!o&&B(Mt,{backButtonLabel:Ue(e.backButtonLabel,s),onClick:()=>{const t=Pt(c,e.id,performance.now()-u);l(t),r()}})}),B(he,{isLastQuestion:a,buttonLabel:Ue(e.buttonLabel,s),tabIndex:0})]})]},e.id)},li=new Set,ci=new WeakMap,di=new WeakMap,ui=new WeakMap,fi=new WeakMap,bi=new WeakMap,pi=new WeakMap,hi=new WeakMap,mi=new WeakSet;let gi,vi=0,yi=0;const wi="__aa_tgt",_i="__aa_del",xi="__aa_new",ki=e=>{const t=function(e){const t=e.reduce(((e,t)=>[...e,...Array.from(t.addedNodes),...Array.from(t.removedNodes)]),[]);return!t.every((e=>"#comment"===e.nodeName))&&e.reduce(((e,t)=>{if(!1===e)return!1;if(t.target instanceof Element){if(Oi(t.target),!e.has(t.target)){e.add(t.target);for(let n=0;n<t.target.children.length;n++){const r=t.target.children.item(n);if(r){if(_i in r)return!1;Oi(t.target,r),e.add(r)}}}if(t.removedNodes.length)for(let n=0;n<t.removedNodes.length;n++){const r=t.removedNodes[n];if(_i in r)return!1;r instanceof Element&&(e.add(r),Oi(t.target,r),di.set(r,[t.previousSibling,t.nextSibling]))}}return e}),new Set)}(e);t&&t.forEach((e=>function(e){var t;const n=e.isConnected,r=ci.has(e);n&&di.has(e)&&di.delete(e);ui.has(e)&&(null===(t=ui.get(e))||void 0===t||t.cancel());xi in e?Ui(e):r&&n?function(e){const t=ci.get(e),n=Ei(e);if(!Mi(e))return ci.set(e,n);let r;if(!t)return;const o=Di(e);if("function"!=typeof o){const a=t.left-n.left,i=t.top-n.top,[s,l,c,d]=Ai(e,t,n),u={transform:`translate(${a}px, ${i}px)`},f={transform:"translate(0, 0)"};s!==l&&(u.width=`${s}px`,f.width=`${l}px`),c!==d&&(u.height=`${c}px`,f.height=`${d}px`),r=e.animate([u,f],{duration:o.duration,easing:o.easing})}else{const[a]=Pi(o(e,"remain",t,n));r=new Animation(a),r.play()}ui.set(e,r),ci.set(e,n),r.addEventListener("finish",ji.bind(null,e))}(e):r&&!n?function(e){var t;if(!di.has(e)||!ci.has(e))return;const[n,r]=di.get(e);Object.defineProperty(e,_i,{value:!0,configurable:!0});const o=window.scrollX,a=window.scrollY;r&&r.parentNode&&r.parentNode instanceof Element?r.parentNode.insertBefore(e,r):n&&n.parentNode?n.parentNode.appendChild(e):null===(t=qi(e))||void 0===t||t.appendChild(e);if(!Mi(e))return Bi(e);const[i,s,l,c]=function(e){const t=ci.get(e),[n,,r]=Ai(e,t,Ei(e));let o=e.parentElement;for(;o&&("static"===getComputedStyle(o).position||o instanceof HTMLBodyElement);)o=o.parentElement;o||(o=document.body);const a=getComputedStyle(o),i=ci.get(o)||Ei(o),s=Math.round(t.top-i.top)-Ti(a.borderTopWidth),l=Math.round(t.left-i.left)-Ti(a.borderLeftWidth);return[s,l,n,r]}(e),d=Di(e),u=ci.get(e);o===vi&&a===yi||function(e,t,n,r){const o=vi-t,a=yi-n,i=document.documentElement.style.scrollBehavior;"smooth"===getComputedStyle(gi).scrollBehavior&&(document.documentElement.style.scrollBehavior="auto");if(window.scrollTo(window.scrollX+o,window.scrollY+a),!e.parentElement)return;const s=e.parentElement;let l=s.clientHeight,c=s.clientWidth;const d=performance.now();function u(){requestAnimationFrame((()=>{if(!Ri(r)){const e=l-s.clientHeight,t=c-s.clientWidth;d+r.duration>performance.now()?(window.scrollTo({left:window.scrollX-t,top:window.scrollY-e}),l=s.clientHeight,c=s.clientWidth,u()):document.documentElement.style.scrollBehavior=i}}))}u()}(e,o,a,d);let f,b={position:"absolute",top:`${i}px`,left:`${s}px`,width:`${l}px`,height:`${c}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(Ri(d)){const[t,n]=Pi(d(e,"remove",u));!1!==(null==n?void 0:n.styleReset)&&(b=(null==n?void 0:n.styleReset)||b,Object.assign(e.style,b)),f=new Animation(t),f.play()}else Object.assign(e.style,b),f=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:d.duration,easing:"ease-out"});ui.set(e,f),f.addEventListener("finish",Bi.bind(null,e,b))}(e):Ui(e)}(e)))},Ci=e=>{e.forEach((e=>{e.target===gi&&(clearTimeout(hi.get(gi)),hi.set(gi,setTimeout((()=>{li.forEach((e=>$i(e,(e=>Ni((()=>ji(e)))))))}),100))),ci.has(e.target)&&ji(e.target)}))};function ji(e){clearTimeout(hi.get(e));const t=Di(e),n=Ri(t)?500:t.duration;hi.set(e,setTimeout((async()=>{const t=ui.get(e);try{await(null==t?void 0:t.finished),ci.set(e,Ei(e)),function(e){const t=fi.get(e);null==t||t.disconnect();let n=ci.get(e),r=0;n||(n=Ei(e),ci.set(e,n));const{offsetWidth:o,offsetHeight:a}=gi,i=[n.top-5,o-(n.left+5+n.width),a-(n.top+5+n.height),n.left-5].map((e=>-1*Math.floor(e)+"px")).join(" "),s=new IntersectionObserver((()=>{++r>1&&ji(e)}),{root:gi,threshold:1,rootMargin:i});s.observe(e),fi.set(e,s)}(e)}catch{}}),n))}function Si(e){setTimeout((()=>{bi.set(e,setInterval((()=>Ni(ji.bind(null,e))),2e3))}),Math.round(2e3*Math.random()))}function Ni(e){"function"==typeof requestIdleCallback?requestIdleCallback((()=>e())):requestAnimationFrame((()=>e()))}let Li,Ii;function Oi(e,t){t||wi in e?t&&!(wi in t)&&Object.defineProperty(t,wi,{value:e}):Object.defineProperty(e,wi,{value:e})}function Ti(e){return Number(e.replace(/[^0-9.\-]/g,""))}function Ei(e){const t=e.getBoundingClientRect(),{x:n,y:r}=function(e){let t=e.parentElement;for(;t;){if(t.scrollLeft||t.scrollTop)return{x:t.scrollLeft,y:t.scrollTop};t=t.parentElement}return{x:0,y:0}}(e);return{top:t.top+r,left:t.left+n,width:t.width,height:t.height}}function Ai(e,t,n){let r=t.width,o=t.height,a=n.width,i=n.height;const s=getComputedStyle(e);if("content-box"===s.getPropertyValue("box-sizing")){const e=Ti(s.paddingTop)+Ti(s.paddingBottom)+Ti(s.borderTopWidth)+Ti(s.borderBottomWidth),t=Ti(s.paddingLeft)+Ti(s.paddingRight)+Ti(s.borderRightWidth)+Ti(s.borderLeftWidth);r-=t,a-=t,o-=e,i-=e}return[r,a,o,i].map(Math.round)}function Di(e){return wi in e&&pi.has(e[wi])?pi.get(e[wi]):{duration:250,easing:"ease-in-out"}}function qi(e){if(wi in e)return e[wi]}function Mi(e){const t=qi(e);return!!t&&mi.has(t)}function $i(e,...t){t.forEach((t=>t(e,pi.has(e))));for(let n=0;n<e.children.length;n++){const r=e.children.item(n);r&&t.forEach((e=>e(r,pi.has(r))))}}function Pi(e){return Array.isArray(e)?e:[e]}function Ri(e){return"function"==typeof e}function Ui(e){xi in e&&delete e[xi];const t=Ei(e);ci.set(e,t);const n=Di(e);if(!Mi(e))return;let r;if("function"!=typeof n)r=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:1.5*n.duration,easing:"ease-in"});else{const[o]=Pi(n(e,"add",t));r=new Animation(o),r.play()}ui.set(e,r),r.addEventListener("finish",ji.bind(null,e))}function Bi(e,t){var n;e.remove(),ci.delete(e),di.delete(e),ui.delete(e),null===(n=fi.get(e))||void 0===n||n.disconnect(),setTimeout((()=>{if(_i in e&&delete e[_i],Object.defineProperty(e,xi,{value:!0,configurable:!0}),t&&e instanceof HTMLElement)for(const n in t)e.style[n]=""}),0)}function Fi(e){const[t,n]=ne(),r=ie((()=>e),[]);return[se((e=>{e instanceof HTMLElement?n(function(e,t={}){Li&&Ii&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!Ri(t)&&!t.disrespectUserMotionPreference||(mi.add(e),"static"===getComputedStyle(e).position&&Object.assign(e.style,{position:"relative"}),$i(e,ji,Si,(e=>null==Ii?void 0:Ii.observe(e))),Ri(t)?pi.set(e,t):pi.set(e,{duration:250,easing:"ease-in-out",...t}),Li.observe(e,{childList:!0}),li.add(e)));return Object.freeze({parent:e,enable:()=>{mi.add(e)},disable:()=>{mi.delete(e)},isEnabled:()=>mi.has(e)})}(e,r)):n(void 0)}),[r]),se((e=>{t&&(e?t.enable():t.disable())}),[t])]}"undefined"!=typeof window&&"ResizeObserver"in window&&(gi=document.documentElement,Li=new MutationObserver(ki),Ii=new ResizeObserver(Ci),window.addEventListener("scroll",(()=>{yi=window.scrollY,vi=window.scrollX})),Ii.observe(gi));const Zi=e=>"fulfilled"===e.status,zi=e=>"rejected"===e.status,Wi=({allowedFileExtensions:e,surveyId:t,onFileUpload:n,onUploadCallback:r,fileUrls:o,maxSizeInMB:a,allowMultipleFiles:i,htmlFor:s=""})=>{const[l,c]=ne([]),[d,u]=ne(!1),[f]=Fi(),b=async e=>{if(a){if((await e.arrayBuffer()).byteLength/1024>1024*a)return alert(`File should be less than ${a} MB`),!1}return!0},p=async a=>{var s;const d=Array.from(a);if(!i&&d.length>1)return void alert("Only one file can be uploaded at a time.");if(i&&l.length+d.length>25)return void alert("You can only upload a maximum of 25 files.");const f=Array.from(a).filter((t=>{const n=t.type.substring(t.type.lastIndexOf("/")+1);return!e||(null==e?void 0:e.includes(n))})),p=[];for(const e of f){await b(e)&&p.push(e)}try{u(!0);const a=e=>new Promise(((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=n})),i=p.map((async e=>{const t=await a(e);return{name:e.name,type:e.type,base64:t}})),l=(await Promise.all(i)).map((r=>n(r,{allowedFileExtensions:e,surveyId:t}))),d=await Promise.allSettled(l),f=d.filter(zi),b=d.filter(Zi).map((e=>e.value));c((e=>[...e,...p])),r(o?[...o,...b]:b),f.length>0&&"FileTooLargeError"===(null==(s=f[0].reason)?void 0:s.name)&&alert(f[0].reason.message)}catch(h){console.error("error in uploading file: ",h),alert("Upload failed! Please try again.")}finally{u(!1)}},h=ie((()=>!d&&(!!i||!(o&&o.length>0))),[i,o,d]),m=ie((()=>`selectedFile-${s}`),[s]);return B("div",{className:"fb-items-left fb-bg-input-bg hover:fb-bg-input-bg-selected fb-border-border fb-relative fb-mt-3 fb-flex fb-w-full fb-flex-col fb-justify-center fb-rounded-lg fb-border-2 fb-border-dashed dark:fb-border-slate-600 dark:fb-bg-slate-700 dark:hover:fb-border-slate-500 dark:hover:fb-bg-slate-800",children:[B("div",{ref:f,children:null==o?void 0:o.map(((e,t)=>{const n=(e=>{try{const t=e.startsWith("/storage/")?e.split("/").pop():new URL(e).pathname.split("/").pop(),n=(null==t?void 0:t.split(".").pop())??"",r=(null==t?void 0:t.split("--fid--")[0])??"";return(null==t?void 0:t.split("--fid--")[1])?r?decodeURIComponent(`${r}.${n}`||""):"":r?decodeURIComponent(r||""):""}catch(t){console.error(`Error parsing file URL: ${t}`)}})(e);return B("div",{className:"fb-bg-input-bg-selected fb-border-border fb-relative fb-m-2 fb-rounded-md fb-border",children:[B("div",{className:"fb-absolute fb-right-0 fb-top-0 fb-m-2",children:B("div",{className:"fb-bg-survey-bg fb-flex fb-h-5 fb-w-5 fb-cursor-pointer fb-items-center fb-justify-center fb-rounded-md",children:B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 26 26",strokeWidth:1,stroke:"currentColor",className:"fb-text-heading fb-h-5",onClick:e=>((e,t)=>{if(t.stopPropagation(),c((t=>{const n=[...t];return n.splice(e,1),n})),o){const t=[...o];t.splice(e,1),r(t)}})(t,e),children:B("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9l10 10m0-10L9 19"})})})}),B("div",{className:"fb-flex fb-flex-col fb-items-center fb-justify-center fb-p-2",children:[B("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"fb-text-heading fb-h-6",children:[B("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),B("polyline",{points:"14 2 14 8 20 8"})]}),B("p",{className:"fb-text-heading fb-mt-1 fb-w-full fb-overflow-hidden fb-overflow-ellipsis fb-whitespace-nowrap fb-px-2 fb-text-center fb-text-sm",children:n})]})]},t)}))}),B("div",{children:[d&&B("div",{className:"fb-inset-0 fb-flex fb-animate-pulse fb-items-center fb-justify-center fb-rounded-lg fb-py-4",children:B("label",{htmlFor:m,className:"fb-text-subheading fb-text-sm fb-font-medium",children:"Uploading..."})}),B("label",{htmlFor:m,onDragOver:e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},onDrop:e=>{e.preventDefault(),e.stopPropagation(),p(e.dataTransfer.files)},children:h&&B("div",{className:"focus:fb-outline-brand fb-flex fb-flex-col fb-items-center fb-justify-center fb-py-6 hover:fb-cursor-pointer",tabIndex:1,onKeyDown:e=>{var t,n;" "===e.key&&(e.preventDefault(),null==(t=document.getElementById(m))||t.click(),null==(n=document.getElementById(m))||n.focus())},children:[B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"fb-text-placeholder fb-h-6",children:B("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),B("p",{className:"fb-text-placeholder fb-mt-2 fb-text-sm dark:fb-text-slate-400",children:B("span",{className:"fb-font-medium",children:"Click or drag to upload files."})}),B("input",{type:"file",id:m,name:m,accept:null==e?void 0:e.map((e=>`.${e}`)).join(","),className:"fb-hidden",onChange:async e=>{const t=e.target;t.files&&p(t.files)},multiple:i})]})})]})]})},Hi=({question:e,value:t,onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,surveyId:s,onFileUpload:l,languageCode:c,ttc:d,setTtc:u,currentQuestionId:f})=>{const[b,p]=ne(performance.now()),h=e.imageUrl||e.videoUrl;return Rt(e.id,d,u,b,p,e.id===f),B("form",{onSubmit:n=>{n.preventDefault();const o=Pt(d,e.id,performance.now()-b);u(o),e.required?t&&t.length>0?r({[e.id]:t},o):alert("Please upload a file"):r(t?{[e.id]:t}:{[e.id]:"skipped"},o)},className:"fb-w-full",children:[B(Ie,{children:B("div",{children:[h&&B(Ne,{imgUrl:e.imageUrl,videoUrl:e.videoUrl}),B(me,{headline:Ue(e.headline,c),questionId:e.id,required:e.required}),B(Le,{subheader:e.subheader?Ue(e.subheader,c):"",questionId:e.id}),B(Wi,{htmlFor:e.id,surveyId:s,onFileUpload:l,onUploadCallback:t=>{n(t?{[e.id]:t}:{[e.id]:"skipped"})},fileUrls:t,allowMultipleFiles:e.allowMultipleFiles,...e.allowedFileExtensions?{allowedFileExtensions:e.allowedFileExtensions}:{},...e.maxSizeInMB?{maxSizeInMB:e.maxSizeInMB}:{}})]})}),B("div",{className:"fb-flex fb-w-full fb-justify-between fb-px-6 fb-py-4",children:[!a&&B(Mt,{backButtonLabel:Ue(e.backButtonLabel,c),onClick:()=>{o()}}),B("div",{}),B(he,{buttonLabel:Ue(e.buttonLabel,c),isLastQuestion:i})]})]},e.id)},Qi=({question:e,value:t,onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:l,setTtc:c,currentQuestionId:d})=>{const[u,f]=ne(performance.now()),b=e.imageUrl||e.videoUrl;Rt(e.id,l,c,u,f,e.id===d);const p=ie((()=>e.shuffleOption?((e,t)=>{let n=Array.from(Array(e).keys());if("all"===t)ve(n);else if("exceptLast"===t){const e=n.pop();e&&(ve(n),n.push(e))}return n})(e.rows.length,e.shuffleOption):e.rows.map(((e,t)=>t))),[e.shuffleOption,e.rows.length]),h=ie((()=>e.rows?"none"===e.shuffleOption||void 0===e.shuffleOption?e.rows:p.map((t=>e.rows[t])):[]),[e.shuffleOption,e.rows,p]),m=se(((r,o)=>{let a=0!==Object.entries(t).length?{...t}:e.rows.reduce(((e,t)=>(e[Ue(t,s)]="",e)),{});a[o]=a[o]===r?"":r,Object.values(a).every((e=>""===e))&&(a={}),n({[e.id]:a})}),[t,e.rows,e.id,n,s]),g=se((n=>{n.preventDefault();const o=Pt(l,e.id,performance.now()-u);c(o),r({[e.id]:t},o)}),[l,e.id,u,t,r,c]),v=se((()=>{const t=Pt(l,e.id,performance.now()-u);c(t),o()}),[l,e.id,u,o,c]),y=ie((()=>e.columns.map(((e,t)=>B("th",{className:"fb-text-heading fb-max-w-40 fb-break-words fb-px-4 fb-py-2 fb-font-normal",dir:"auto",children:Ue(e,s)},t)))),[e.columns,s]);return B("form",{onSubmit:g,className:"fb-w-full",children:[B(Ie,{children:B("div",{children:[b&&B(Ne,{imgUrl:e.imageUrl,videoUrl:e.videoUrl}),B(me,{headline:Ue(e.headline,s),questionId:e.id,required:e.required}),B(Le,{subheader:Ue(e.subheader,s),questionId:e.id}),B("div",{className:"fb-overflow-x-auto fb-py-4",children:B("table",{className:"fb-no-scrollbar fb-min-w-full fb-table-auto fb-border-collapse fb-text-sm",children:[B("thead",{children:B("tr",{children:[B("th",{className:"fb-px-4 fb-py-2"}),y]})}),B("tbody",{children:h.map(((n,r)=>B("tr",{className:""+(r%2==0?"bg-input-bg":""),children:[B("td",{className:"fb-text-heading fb-rounded-l-custom fb-max-w-40 fb-break-words fb-pr-4 fb-pl-2 fb-py-2",dir:"auto",children:Ue(n,s)}),e.columns.map(((r,o)=>B("td",{tabIndex:0,className:"fb-outline-brand fb-px-4 fb-py-2 fb-text-gray-800 "+(o===e.columns.length-1?"fb-rounded-r-custom":""),onClick:()=>m(Ue(r,s),Ue(n,s)),onKeyDown:e=>{" "===e.key&&(e.preventDefault(),m(Ue(r,s),Ue(n,s)))},dir:"auto",children:B("div",{className:"fb-flex fb-items-center fb-justify-center fb-p-2",children:B("input",{dir:"auto",type:"radio",tabIndex:-1,required:e.required,id:`${n}-${r}`,name:Ue(n,s),value:Ue(r,s),checked:"object"==typeof t&&!Array.isArray(t)&&t[Ue(n,s)]===Ue(r,s),className:"fb-border-brand fb-text-brand fb-h-5 fb-w-5 fb-border focus:fb-ring-0 focus:fb-ring-offset-0"})})},o)))]})))})]})})]})}),B("div",{className:"fb-flex fb-w-full fb-justify-between fb-px-6 fb-py-4",children:[!a&&B(Mt,{backButtonLabel:Ue(e.backButtonLabel,s),onClick:v,tabIndex:0}),B("div",{}),B(he,{buttonLabel:Ue(e.buttonLabel,s),isLastQuestion:i,onClick:()=>{},tabIndex:0})]})]},e.id)},Vi=({question:e,value:t,onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:l,setTtc:c,autoFocusEnabled:d,currentQuestionId:u})=>{const[f,b]=ne(performance.now()),p=e.imageUrl||e.videoUrl;Rt(e.id,l,c,f,b,e.id===u);const h=ie((()=>e.shuffleOption?ye(e.choices,e.shuffleOption):e.choices.map((e=>e.id))),[e.shuffleOption,e.choices.length,e.choices[e.choices.length-1].id]),m=se((()=>e.choices.filter((e=>"other"!==e.id)).map((e=>Ue(e.label,s)))),[e,s]),[g,v]=ne(!1),[y,w]=ne("");re((()=>{v(!!t&&(Array.isArray(t)?t:[t]).some((e=>!1===m().includes(e)))),w(Array.isArray(t)&&t.filter((t=>!e.choices.find((e=>e.label[s]===t))))[0]||"")}),[e.id,m,e.choices,t,s]);const _=ie((()=>e.choices?"none"===e.shuffleOption||void 0===e.shuffleOption?e.choices:h.map((t=>e.choices.find((e=>e.id===t)))):[]),[e.choices,e.shuffleOption,h]),x=_.map((e=>null==e?void 0:e.label[s])),k=ie((()=>e.choices.find((e=>"other"===e.id))),[e.choices]),C=ae(null),j=ae(null);re((()=>{g&&j.current&&C.current&&(j.current.scrollTop=j.current.scrollHeight,C.current.focus())}),[g]);const S=r=>{const o=!x.includes(r);if(Array.isArray(t)){if(o){const o=t.filter((e=>x.includes(e)));return n({[e.id]:[...o,r]})}return n({[e.id]:[...t,r]})}return n({[e.id]:[r]})},N=r=>Array.isArray(t)?n({[e.id]:t.filter((e=>e!==r))}):n({[e.id]:[]});return B("form",{onSubmit:o=>{o.preventDefault();const a=null==t?void 0:t.filter((e=>m().includes(e)||e===y));n({[e.id]:a});const i=Pt(l,e.id,performance.now()-f);c(i),r({[e.id]:t},i)},className:"fb-w-full",children:[B(Ie,{children:B("div",{children:[p&&B(Ne,{imgUrl:e.imageUrl,videoUrl:e.videoUrl}),B(me,{headline:Ue(e.headline,s),questionId:e.id,required:e.required}),B(Le,{subheader:e.subheader?Ue(e.subheader,s):"",questionId:e.id}),B("div",{className:"fb-mt-4",children:B("fieldset",{children:[B("legend",{className:"fb-sr-only",children:"Options"}),B("div",{className:"fb-bg-survey-bg fb-relative fb-space-y-2",ref:j,children:[_.map(((n,r)=>{if(n&&"other"!==n.id)return B("label",{tabIndex:r+1,className:ge(t.includes(Ue(n.label,s))?"fb-border-brand fb-bg-input-bg-selected fb-z-10":"fb-border-border fb-bg-input-bg","fb-text-heading focus-within:fb-border-brand hover:fb-bg-input-bg-selected focus:fb-bg-input-bg-selected fb-rounded-custom fb-relative fb-flex fb-cursor-pointer fb-flex-col fb-border fb-p-4 focus:fb-outline-none"),onKeyDown:e=>{var t,r;" "===e.key&&(e.preventDefault(),null==(t=document.getElementById(n.id))||t.click(),null==(r=document.getElementById(n.id))||r.focus())},autoFocus:0===r&&d,children:B("span",{className:"fb-flex fb-items-center fb-text-sm",dir:"auto",children:[B("input",{type:"checkbox",id:n.id,name:e.id,tabIndex:-1,value:Ue(n.label,s),className:"fb-border-brand fb-text-brand fb-h-4 fb-w-4 fb-border focus:fb-ring-0 focus:fb-ring-offset-0","aria-labelledby":`${n.id}-label`,onChange:e=>{var t;(null==(t=e.target)?void 0:t.checked)?S(Ue(n.label,s)):N(Ue(n.label,s))},checked:Array.isArray(t)&&t.includes(Ue(n.label,s)),required:!(e.required&&Array.isArray(t)&&t.length)&&e.required}),B("span",{id:`${n.id}-label`,className:"fb-ml-3 fb-mr-3 fb-grow fb-font-medium",children:Ue(n.label,s)})]})},n.id)})),k&&B("label",{tabIndex:_.length+1,className:ge(t.includes(Ue(k.label,s))?"fb-border-brand fb-bg-input-bg-selected fb-z-10":"fb-border-border","fb-text-heading focus-within:fb-border-brand fb-bg-input-bg focus-within:fb-bg-input-bg-selected hover:fb-bg-input-bg-selected fb-rounded-custom fb-relative fb-flex fb-cursor-pointer fb-flex-col fb-border fb-p-4 focus:fb-outline-none"),onKeyDown:e=>{var t,n;if(" "===e.key){if(g)return;null==(t=document.getElementById(k.id))||t.click(),null==(n=document.getElementById(k.id))||n.focus()}},children:[B("span",{className:"fb-flex fb-items-center fb-text-sm",dir:"auto",children:[B("input",{type:"checkbox",tabIndex:-1,id:k.id,name:e.id,value:Ue(k.label,s),className:"fb-border-brand fb-text-brand fb-h-4 fb-w-4 fb-border focus:fb-ring-0 focus:fb-ring-offset-0","aria-labelledby":`${k.id}-label`,onChange:()=>{v(!g),t.includes(y)?N(y):S(y)},checked:g}),B("span",{id:`${k.id}-label`,className:"fb-ml-3 fb-mr-3 fb-grow fb-font-medium",children:Ue(k.label,s)})]}),g&&B("input",{ref:C,dir:"auto",id:`${k.id}-label`,name:e.id,tabIndex:_.length+1,value:y,onChange:e=>{w(e.currentTarget.value),S(e.currentTarget.value)},className:"placeholder:fb-text-placeholder fb-border-border fb-bg-survey-bg fb-text-heading focus:fb-ring-focus fb-rounded-custom fb-mt-3 fb-flex fb-h-10 fb-w-full fb-border fb-px-3 fb-py-2 fb-text-sm focus:fb-outline-none focus:fb-ring-2 focus:fb-ring-offset-2 disabled:fb-cursor-not-allowed disabled:fb-opacity-50",placeholder:Ue(e.otherOptionPlaceholder,s)??"Please specify",required:e.required,"aria-labelledby":`${k.id}-label`})]})]})]})})]})}),B("div",{className:"fb-flex fb-w-full fb-justify-between fb-px-6 fb-py-4",children:[!a&&B(Mt,{tabIndex:_.length+3,backButtonLabel:Ue(e.backButtonLabel,s),onClick:()=>{const t=Pt(l,e.id,performance.now()-f);c(t),o()}}),B("div",{}),B(he,{tabIndex:_.length+2,buttonLabel:Ue(e.buttonLabel,s),isLastQuestion:i})]})]},e.id)},Yi=({question:e,value:t,onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:l,setTtc:c,autoFocusEnabled:d,currentQuestionId:u})=>{const[f,b]=ne(performance.now()),[p,h]=ne(!1),m=ae(null),g=ae(null),v=e.imageUrl||e.videoUrl,y=ie((()=>e.shuffleOption?ye(e.choices,e.shuffleOption):e.choices.map((e=>e.id))),[e.shuffleOption,e.choices.length,e.choices[e.choices.length-1].id]);Rt(e.id,l,c,f,b,e.id===u);const w=ie((()=>e.choices?"none"===e.shuffleOption||void 0===e.shuffleOption?e.choices:y.map((t=>e.choices.find((e=>e.id===t)))):[]),[e.choices,e.shuffleOption,y]),_=ie((()=>e.choices.find((e=>"other"===e.id))),[e.choices]);return re((()=>{if(a&&!t){const t=new URLSearchParams(window.location.search).get(e.id);if(t&&_&&t===Ue(_.label,s))return void h(!0)}const n=void 0!==t&&!w.some((e=>(null==e?void 0:e.label[s])===t));h(n)}),[a,s,_,e.id,w,t]),re((()=>{p&&g.current&&m.current&&(g.current.scrollTop=g.current.scrollHeight,m.current.focus())}),[p]),B("form",{onSubmit:n=>{n.preventDefault();const o=Pt(l,e.id,performance.now()-f);c(o),r({[e.id]:t??""},o)},className:"fb-w-full",children:[B(Ie,{children:B("div",{children:[v&&B(Ne,{imgUrl:e.imageUrl,videoUrl:e.videoUrl}),B(me,{headline:Ue(e.headline,s),questionId:e.id,required:e.required}),B(Le,{subheader:e.subheader?Ue(e.subheader,s):"",questionId:e.id}),B("div",{className:"fb-mt-4",children:B("fieldset",{children:[B("legend",{className:"fb-sr-only",children:"Options"}),B("div",{className:"fb-bg-survey-bg fb-relative fb-space-y-2",role:"radiogroup",ref:g,children:[w.map(((r,o)=>{if(r&&"other"!==r.id)return B("label",{dir:"auto",tabIndex:o+1,className:ge(t===Ue(r.label,s)?"fb-border-brand fb-bg-input-bg-selected fb-z-10":"fb-border-border","fb-text-heading fb-bg-input-bg focus-within:fb-border-brand focus-within:fb-bg-input-bg-selected hover:fb-bg-input-bg-selected fb-rounded-custom fb-relative fb-flex fb-cursor-pointer fb-flex-col fb-border fb-p-4 focus:fb-outline-none"),onKeyDown:e=>{var t,n;" "===e.key&&(e.preventDefault(),null==(t=document.getElementById(r.id))||t.click(),null==(n=document.getElementById(r.id))||n.focus())},autoFocus:0===o&&d,children:B("span",{className:"fb-flex fb-items-center fb-text-sm",children:[B("input",{tabIndex:-1,type:"radio",id:r.id,name:e.id,value:Ue(r.label,s),dir:"auto",className:"fb-border-brand fb-text-brand fb-h-4 fb-w-4 fb-border focus:fb-ring-0 focus:fb-ring-offset-0","aria-labelledby":`${r.id}-label`,onChange:()=>{h(!1),n({[e.id]:Ue(r.label,s)})},checked:t===Ue(r.label,s),required:e.required&&0===o}),B("span",{id:`${r.id}-label`,className:"fb-ml-3 fb-mr-3 fb-grow fb-font-medium",children:Ue(r.label,s)})]})},r.id)})),_&&B("label",{dir:"auto",tabIndex:w.length+1,className:ge(t===Ue(_.label,s)?"fb-border-brand fb-bg-input-bg-selected fb-z-10":"fb-border-border","fb-text-heading focus-within:fb-border-brand fb-bg-input-bg focus-within:fb-bg-input-bg-selected hover:fb-bg-input-bg-selected fb-rounded-custom fb-relative fb-flex fb-cursor-pointer fb-flex-col fb-border fb-p-4 focus:fb-outline-none"),onKeyDown:e=>{var t,n;if(" "===e.key){if(p)return;null==(t=document.getElementById(_.id))||t.click(),null==(n=document.getElementById(_.id))||n.focus()}},children:[B("span",{className:"fb-flex fb-items-center fb-text-sm",children:[B("input",{dir:"auto",type:"radio",id:_.id,tabIndex:-1,name:e.id,value:Ue(_.label,s),className:"fb-border-brand fb-text-brand fb-h-4 fb-w-4 fb-border focus:fb-ring-0 focus:fb-ring-offset-0","aria-labelledby":`${_.id}-label`,onChange:()=>{h(!p),n({[e.id]:""})},checked:p}),B("span",{id:`${_.id}-label`,className:"fb-ml-3 fb-mr-3 fb-grow fb-font-medium",dir:"auto",children:Ue(_.label,s)})]}),p&&B("input",{ref:m,tabIndex:w.length+1,id:`${_.id}-label`,dir:"auto",name:e.id,value:t,onChange:t=>{n({[e.id]:t.currentTarget.value})},className:"placeholder:fb-text-placeholder fb-border-border fb-bg-survey-bg fb-text-heading focus:fb-ring-focus fb-rounded-custom fb-mt-3 fb-flex fb-h-10 fb-w-full fb-border fb-px-3 fb-py-2 fb-text-sm focus:fb-outline-none focus:fb-ring-2 focus:fb-ring-offset-2 disabled:fb-cursor-not-allowed disabled:fb-opacity-50",placeholder:Ue(e.otherOptionPlaceholder,s)??"Please specify",required:e.required,"aria-labelledby":`${_.id}-label`})]})]})]})})]})}),B("div",{className:"fb-flex fb-w-full fb-justify-between fb-px-6 fb-py-4",children:[!a&&B(Mt,{backButtonLabel:Ue(e.backButtonLabel,s),tabIndex:w.length+3,onClick:()=>{const t=Pt(l,e.id,performance.now()-f);c(t),o()}}),B("div",{}),B(he,{tabIndex:w.length+2,buttonLabel:Ue(e.buttonLabel,s),isLastQuestion:i})]})]},e.id)},Ki=({question:e,value:t,onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:l,setTtc:c,currentQuestionId:d})=>{const[u,f]=ne(performance.now()),[b,p]=ne(-1),h=e.imageUrl||e.videoUrl;Rt(e.id,l,c,u,f,e.id===d);const m=e=>e>8?"fb-bg-emerald-100":e>6?"fb-bg-orange-100":"fb-bg-rose-100";return B("form",{onSubmit:n=>{n.preventDefault();const o=Pt(l,e.id,performance.now()-u);c(o),r({[e.id]:t??""},o)},children:[B(Ie,{children:B("div",{children:[h&&B(Ne,{imgUrl:e.imageUrl,videoUrl:e.videoUrl}),B(me,{headline:Ue(e.headline,s),questionId:e.id,required:e.required}),B(Le,{subheader:e.subheader?Ue(e.subheader,s):"",questionId:e.id}),B("div",{className:"fb-my-4",children:B("fieldset",{children:[B("legend",{className:"fb-sr-only",children:"Options"}),B("div",{className:"fb-flex",children:Array.from({length:11},((e,t)=>t)).map(((o,a)=>B("label",{tabIndex:a+1,onMouseOver:()=>p(o),onMouseLeave:()=>p(-1),onKeyDown:e=>{var t,n;" "===e.key&&(e.preventDefault(),null==(t=document.getElementById(o.toString()))||t.click(),null==(n=document.getElementById(o.toString()))||n.focus())},className:ge(t===o?"fb-border-border-highlight fb-bg-accent-selected-bg fb-z-10 fb-border":"fb-border-border","fb-text-heading first:fb-rounded-l-custom last:fb-rounded-r-custom focus:fb-border-brand fb-relative fb-h-10 fb-flex-1 fb-cursor-pointer fb-overflow-hidden fb-border-b fb-border-l fb-border-t fb-text-center fb-text-sm last:fb-border-r focus:fb-border-2 focus:fb-outline-none",e.isColorCodingEnabled?"fb-h-[46px] fb-leading-[3.5em]":"fb-h fb-leading-10",b===o?"fb-bg-accent-bg":""),children:[e.isColorCodingEnabled&&B("div",{className:`fb-absolute fb-left-0 fb-top-0 fb-h-[6px] fb-w-full ${m(a)}`}),B("input",{type:"radio",id:o.toString(),name:"nps",value:o,checked:t===o,className:"fb-absolute fb-left-0 fb-h-full fb-w-full fb-cursor-pointer fb-opacity-0",onClick:()=>(t=>{n({[e.id]:t});const o=Pt(l,e.id,performance.now()-u);c(o),setTimeout((()=>{r({[e.id]:t},o)}),250)})(o),required:e.required}),o]},o)))}),B("div",{className:"fb-text-subheading fb-mt-2 fb-flex fb-justify-between fb-px-1.5 fb-text-xs fb-leading-6",children:[B("p",{dir:"auto",children:Ue(e.lowerLabel,s)}),B("p",{dir:"auto",children:Ue(e.upperLabel,s)})]})]})})]})}),B("div",{className:"fb-flex fb-w-full fb-justify-between fb-px-6 fb-py-4",children:[!a&&B(Mt,{tabIndex:i?12:13,backButtonLabel:Ue(e.backButtonLabel,s),onClick:()=>{const t=Pt(l,e.id,performance.now()-u);c(t),o()}}),B("div",{}),!e.required&&B(he,{tabIndex:12,buttonLabel:Ue(e.buttonLabel,s),isLastQuestion:i})]})]},e.id)},Gi=({question:e,value:t,onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:l,setTtc:c,autoFocusEnabled:d,currentQuestionId:u})=>{const[f,b]=ne(performance.now()),p=e.imageUrl||e.videoUrl;Rt(e.id,l,c,f,b,e.id===u);const h=t=>{n({[e.id]:t})},m=se((t=>{e.id&&t&&d&&e.id===u&&t.focus()}),[e.id,d,u]);return B("form",{onSubmit:n=>{n.preventDefault();const o=Pt(l,e.id,performance.now()-f);c(o),r({[e.id]:t},o)},className:"fb-w-full",children:[B(Ie,{children:B("div",{children:[p&&B(Ne,{imgUrl:e.imageUrl,videoUrl:e.videoUrl}),B(me,{headline:Ue(e.headline,s),questionId:e.id,required:e.required}),B(Le,{subheader:e.subheader?Ue(e.subheader,s):"",questionId:e.id}),B("div",{className:"fb-mt-4",children:!1===e.longAnswer?B("input",{ref:m,tabIndex:1,name:e.id,id:e.id,placeholder:Ue(e.placeholder,s),dir:"auto",step:"any",required:e.required,value:t||"",type:e.inputType,onInput:e=>h(e.currentTarget.value),autoFocus:d,className:"fb-border-border placeholder:fb-text-placeholder fb-text-subheading focus:fb-border-brand fb-bg-input-bg fb-rounded-custom fb-block fb-w-full fb-border fb-p-2 fb-shadow-sm focus:fb-outline-none focus:fb-ring-0 sm:fb-text-sm",pattern:"phone"===e.inputType?"[0-9+ ]+":".*",title:"phone"===e.inputType?"Enter a valid phone number":void 0}):B("textarea",{ref:m,rows:3,name:e.id,tabIndex:1,"aria-label":"textarea",id:e.id,placeholder:Ue(e.placeholder,s),dir:"auto",required:e.required,value:t,type:e.inputType,onInput:e=>{h(e.currentTarget.value),(e=>{const t=e.target;t.style.height="auto";const n=Math.min(t.scrollHeight,160);t.style.height=`${n}px`,t.style.overflow=n>=160?"auto":"hidden"})(e)},autoFocus:d,className:"fb-border-border placeholder:fb-text-placeholder fb-bg-input-bg fb-text-subheading focus:fb-border-brand fb-rounded-custom fb-block fb-w-full fb-border fb-p-2 fb-shadow-sm focus:fb-ring-0 sm:fb-text-sm",pattern:"phone"===e.inputType?"[+][0-9 ]+":".*",title:"phone"===e.inputType?"Please enter a valid phone number":void 0})})]})}),B("div",{className:"fb-flex fb-w-full fb-justify-between fb-px-6 fb-py-4",children:[!a&&B(Mt,{backButtonLabel:Ue(e.backButtonLabel,s),onClick:()=>{const t=Pt(l,e.id,performance.now()-f);c(t),o()}}),B("div",{}),B(he,{buttonLabel:Ue(e.buttonLabel,s),isLastQuestion:i,onClick:()=>{}})]})]},e.id)},Xi=({question:e,value:t,onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:l,setTtc:c,currentQuestionId:d})=>{const[u,f]=ne(performance.now()),b=e.imageUrl||e.videoUrl;Rt(e.id,l,c,u,f,e.id===d);const p=r=>{t.includes(r)?(r=>{let o=[];o=e.allowMulti?t.filter((e=>e!==r)):[],n({[e.id]:o})})(r):(r=>{let o=[];o=e.allowMulti?[...t,r]:[r],n({[e.id]:o})})(r)};re((()=>{!e.allowMulti&&t.length>1&&n({[e.id]:[]})}),[e.allowMulti]);const h=e.choices;return B("form",{onSubmit:n=>{n.preventDefault();const o=Pt(l,e.id,performance.now()-u);c(o),r({[e.id]:t},o)},className:"fb-w-full",children:[B(Ie,{children:B("div",{children:[b&&B(Ne,{imgUrl:e.imageUrl,videoUrl:e.videoUrl}),B(me,{headline:Ue(e.headline,s),questionId:e.id,required:e.required}),B(Le,{subheader:e.subheader?Ue(e.subheader,s):"",questionId:e.id}),B("div",{className:"fb-mt-4",children:B("fieldset",{children:[B("legend",{className:"fb-sr-only",children:"Options"}),B("div",{className:"fb-bg-survey-bg fb-relative fb-grid fb-grid-cols-2 fb-gap-4",children:h.map(((n,r)=>B("label",{tabIndex:r+1,htmlFor:n.id,onKeyDown:e=>{var t,r;" "===e.key&&(e.preventDefault(),null==(t=document.getElementById(n.id))||t.click(),null==(r=document.getElementById(n.id))||r.focus())},onClick:()=>p(n.id),className:ge("fb-relative fb-w-full fb-cursor-pointer fb-overflow-hidden fb-border fb-rounded-custom focus:fb-outline-none fb-aspect-[4/3] fb-min-h-[7rem] fb-max-h-[50vh] focus:fb-border-brand focus:fb-border-4 group/image",Array.isArray(t)&&t.includes(n.id)?"fb-border-brand fb-text-brand fb-z-10 fb-border-4 fb-shadow-sm":""),children:[B("img",{src:n.imageUrl,id:n.id,alt:n.imageUrl.split("/").pop(),className:"fb-h-full fb-w-full fb-object-cover"}),B("a",{tabIndex:-1,href:n.imageUrl,target:"_blank",title:"Open in new tab",rel:"noreferrer",onClick:e=>e.stopPropagation(),className:"fb-absolute fb-bottom-2 fb-right-2 fb-flex fb-items-center fb-gap-2 fb-whitespace-nowrap fb-rounded-md fb-bg-gray-800 fb-bg-opacity-40 fb-p-1.5 fb-text-white fb-opacity-0 fb-backdrop-blur-lg fb-transition fb-duration-300 fb-ease-in-out hover:fb-bg-opacity-65 group-hover/image:fb-opacity-100",children:B("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-expand",children:[B("path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8"}),B("path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6"}),B("path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6"}),B("path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6"})]})}),e.allowMulti?B("input",{id:`${n.id}-checked`,name:`${n.id}-checkbox`,type:"checkbox",tabIndex:-1,checked:t.includes(n.id),className:ge("fb-border-border fb-rounded-custom fb-pointer-events-none fb-absolute fb-right-2 fb-top-2 fb-z-20 fb-h-5 fb-w-5 fb-border",t.includes(n.id)?"fb-border-brand fb-text-brand":""),required:(!e.required||!t.length)&&e.required}):B("input",{id:`${n.id}-radio`,name:`${n.id}-radio`,type:"radio",tabIndex:-1,checked:t.includes(n.id),className:ge("fb-border-border fb-pointer-events-none fb-absolute fb-right-2 fb-top-2 fb-z-20 fb-h-5 fb-w-5 fb-rounded-full fb-border",t.includes(n.id)?"fb-border-brand fb-text-brand":""),required:(!e.required||!t.length)&&e.required})]},n.id)))})]})})]})}),B("div",{className:"fb-flex fb-w-full fb-justify-between fb-px-6 fb-py-4",children:[!a&&B(Mt,{tabIndex:h.length+3,backButtonLabel:Ue(e.backButtonLabel,s),onClick:()=>{const t=Pt(l,e.id,performance.now()-u);c(t),o()}}),B("div",{}),B(he,{tabIndex:h.length+2,buttonLabel:Ue(e.buttonLabel,s),isLastQuestion:i})]})]},e.id)},Ji=({question:e,value:t,onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:l,setTtc:c,autoFocusEnabled:d,currentQuestionId:u})=>{const[f,b]=ne(performance.now()),p=ie((()=>e.shuffleOption?ye(e.choices,e.shuffleOption):e.choices.map((e=>e.id))),[e.shuffleOption,e.choices.length]),[h]=Fi(),[m,g]=ne(null),v=e.imageUrl||e.videoUrl;Rt(e.id,l,c,f,b,e.id===u);const y=ie((()=>t.map((t=>e.choices.find((e=>e.id===t)))).filter((e=>void 0!==e))),[t,e.choices]),w=ie((()=>"all"===e.shuffleOption&&0===y.length?p.map((t=>e.choices.find((e=>e.id===t)))):e.choices.filter((e=>!t.includes(e.id)))),[e.choices,t,e.shuffleOption]),_=se((t=>{const r=y.some((e=>e.id===t.id))?y.filter((e=>e.id!==t.id)):[...y,t];n({[e.id]:r.map((e=>Ue(e.label,s)))}),g(null)}),[n,e.id,y]),x=se(((t,r)=>{const o=y.findIndex((e=>e.id===t));if(-1===o)return;const a=[...y],[i]=a.splice(o,1),l="up"===r?Math.max(0,o-1):Math.min(a.length,o+1);a.splice(l,0,i),n({[e.id]:a.map((e=>Ue(e.label,s)))}),g(null)}),[y,n,e.id]);return B("form",{onSubmit:t=>{t.preventDefault();if(e.required&&y.length!==e.choices.length||!e.required&&y.length>0&&y.length<e.choices.length)return void g("Please rank all items before submitting.");const n=Pt(l,e.id,performance.now()-f);c(n),r({[e.id]:y.map((e=>Ue(e.label,s)))},n)},className:"fb-w-full",children:[B(Ie,{children:B("div",{children:[v&&B(Ne,{imgUrl:e.imageUrl,videoUrl:e.videoUrl}),B(me,{headline:Ue(e.headline,s),questionId:e.id,required:e.required}),B(Le,{subheader:e.subheader?Ue(e.subheader,s):"",questionId:e.id}),B("div",{className:"fb-mt-4",children:B("fieldset",{children:[B("legend",{className:"fb-sr-only",children:"Ranking Items"}),B("div",{className:"fb-relative",ref:h,children:[...y,...w].map(((e,t)=>{if(!e)return;const n=y.includes(e),r=n&&0===t,o=n&&t===y.length-1;return B("div",{tabIndex:t+1,className:ge("fb-flex fb-h-12 fb-items-center fb-mb-2 fb-border fb-border-border fb-transition-all fb-text-heading focus-within:fb-border-brand hover:fb-bg-input-bg-selected focus:fb-bg-input-bg-selected fb-rounded-custom fb-relative fb-cursor-pointer focus:fb-outline-none fb-transform fb-duration-500 fb-ease-in-out",n?"fb-bg-input-bg-selected":"fb-bg-input-bg"),autoFocus:0===t&&d,children:[B("div",{className:"fb-flex fb-gap-x-4 fb-px-4 fb-items-center fb-grow fb-h-full group",onClick:()=>_(e),children:[B("span",{className:ge("fb-w-6 fb-grow-0 fb-h-6 fb-flex fb-items-center fb-justify-center fb-rounded-full fb-text-xs fb-font-semibold fb-border-brand fb-border",n?"fb-bg-brand fb-text-white fb-border":"fb-border-dashed group-hover:fb-bg-white fb-text-transparent group-hover:fb-text-heading"),children:(t+1).toString()}),B("div",{className:"fb-grow fb-shrink fb-font-medium fb-text-sm",children:Ue(e.label,s)})]}),n&&B("div",{className:"fb-flex fb-flex-col fb-h-full fb-grow-0 fb-border-l fb-border-border",children:[B("button",{type:"button",onClick:()=>x(e.id,"up"),className:ge("fb-px-2 fb-flex fb-flex-1 fb-items-center fb-justify-center",r?"fb-opacity-30 fb-cursor-not-allowed":"hover:fb-bg-black/5 fb-rounded-tr-custom fb-transition-colors"),disabled:r,children:B("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-up",children:B("path",{d:"m18 15-6-6-6 6"})})}),B("button",{type:"button",onClick:()=>x(e.id,"down"),className:ge("fb-px-2 fb-flex-1 fb-border-t fb-border-border fb-flex fb-items-center fb-justify-center",o?"fb-opacity-30 fb-cursor-not-allowed":"hover:fb-bg-black/5 fb-rounded-br-custom fb-transition-colors"),disabled:o,children:B("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-down",children:B("path",{d:"m6 9 6 6 6-6"})})})]})]},e.id)}))})]})}),m&&B("div",{className:"fb-text-red-500 fb-mt-2 fb-text-sm",children:m})]})}),B("div",{className:"fb-flex fb-w-full fb-justify-between fb-px-6 fb-py-4",children:[!a&&B(Mt,{backButtonLabel:Ue(e.backButtonLabel,s),tabIndex:e.choices.length+3,onClick:()=>{const t=Pt(l,e.id,performance.now()-f);c(t),o()}}),B("div",{}),B(he,{tabIndex:e.choices.length+2,buttonLabel:Ue(e.buttonLabel,s),isLastQuestion:i})]})]})},es=e=>B("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",children:B("g",{id:"line",children:[B("circle",{cx:"36",cy:"36",r:"23",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2",...e}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"m21.88 23.92c5.102-0.06134 7.273-1.882 8.383-3.346"}),B("path",{stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2",d:"m46.24 47.56c0-2.592-2.867-7.121-10.25-6.93-6.974 0.1812-10.22 4.518-10.22 7.111s4.271-1.611 10.05-1.492c6.317 0.13 10.43 3.903 10.43 1.311z"}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"m23.16 28.47c5.215 1.438 5.603 0.9096 8.204 1.207 1.068 0.1221-2.03 2.67-7.282 4.397"}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"m50.12 23.92c-5.102-0.06134-7.273-1.882-8.383-3.346"}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"m48.84 28.47c-5.215 1.438-5.603 0.9096-8.204 1.207-1.068 0.1221 2.03 2.67 7.282 4.397"})]})}),ts=e=>B("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",children:B("g",{id:"line",children:[B("circle",{cx:"36",cy:"36",r:"23",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2",...e}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"m22.88 23.92c5.102-0.06134 7.273-1.882 8.383-3.346"}),B("path",{stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2",d:"m46.24 47.56c0-2.592-2.867-7.121-10.25-6.93-6.974 0.1812-10.22 4.518-10.22 7.111s4.271-1.611 10.05-1.492c6.317 0.13 10.43 3.903 10.43 1.311z"}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"m49.12 23.92c-5.102-0.06134-7.273-1.882-8.383-3.346"}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"m48.24 30.51c-6.199 1.47-7.079 1.059-8.868-1.961"}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"m23.76 30.51c6.199 1.47 7.079 1.059 8.868-1.961"})]})}),ns=e=>B("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",children:B("g",{id:"line",children:[B("circle",{cx:"36",cy:"36",r:"23",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2",...e}),B("line",{x1:"44.5361",x2:"50.9214",y1:"21.4389",y2:"24.7158",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2"}),B("line",{x1:"26.9214",x2:"20.5361",y1:"21.4389",y2:"24.7158",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2"}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M24,28c2.3334,1.3333,4.6666,2.6667,7,4c-2.3334,1.3333-4.6666,2.6667-7,4"}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M48,28c-2.3334,1.3333-4.6666,2.6667-7,4c2.3334,1.3333,4.6666,2.6667,7,4"}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M28,51c0.2704-0.3562,1-8,8.4211-8.0038C43,42.9929,43.6499,50.5372,44,51C38.6667,51,33.3333,51,28,51z"})]})}),rs=e=>B("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",children:B("g",{id:"line",children:[B("circle",{cx:"36",cy:"36",r:"23",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2",...e}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M26.5,48c1.8768-3.8326,5.8239-6.1965,10-6c3.8343,0.1804,7.2926,2.4926,9,6"}),B("path",{d:"M30,31c0,1.6568-1.3448,3-3,3c-1.6553,0-3-1.3433-3-3c0-1.6552,1.3447-3,3-3C28.6552,28,30,29.3448,30,31"}),B("path",{d:"M48,31c0,1.6568-1.3447,3-3,3s-3-1.3433-3-3c0-1.6552,1.3447-3,3-3S48,29.3448,48,31"})]})}),os=e=>B("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",children:B("g",{id:"line",children:[B("circle",{cx:"36",cy:"36",r:"23",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2",...e}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m44.7 43.92c-6.328-1.736-11.41-0.906-17.4 1.902"}),B("path",{d:"M30,31c0,1.6568-1.3448,3-3,3c-1.6553,0-3-1.3433-3-3c0-1.6552,1.3447-3,3-3C28.6552,28,30,29.3448,30,31"}),B("path",{d:"M48,31c0,1.6568-1.3447,3-3,3s-3-1.3433-3-3c0-1.6552,1.3447-3,3-3S48,29.3448,48,31"})]})}),as=e=>B("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",children:B("g",{id:"line",children:[B("circle",{cx:"36",cy:"36",r:"23",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2",...e}),B("line",{x1:"27",x2:"45",y1:"43",y2:"43",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2"}),B("path",{d:"M30,31c0,1.6568-1.3448,3-3,3c-1.6553,0-3-1.3433-3-3c0-1.6552,1.3447-3,3-3C28.6552,28,30,29.3448,30,31"}),B("path",{d:"M48,31c0,1.6568-1.3447,3-3,3s-3-1.3433-3-3c0-1.6552,1.3447-3,3-3S48,29.3448,48,31"})]})}),is=e=>B("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",children:B("g",{id:"line",children:[B("circle",{cx:"36",cy:"36",r:"23",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",...e}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M45.8149,44.9293 c-2.8995,1.6362-6.2482,2.5699-9.8149,2.5699s-6.9153-0.9336-9.8149-2.5699"}),B("path",{d:"M30,31c0,1.6568-1.3448,3-3,3c-1.6553,0-3-1.3433-3-3c0-1.6552,1.3447-3,3-3C28.6552,28,30,29.3448,30,31"}),B("path",{d:"M48,31c0,1.6568-1.3447,3-3,3s-3-1.3433-3-3c0-1.6552,1.3447-3,3-3S48,29.3448,48,31"})]})}),ss=e=>B("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",children:B("g",{id:"line",children:[B("circle",{cx:"36",cy:"36",r:"23",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",...e}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M45.8147,45.2268a15.4294,15.4294,0,0,1-19.6294,0"}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M31.6941,33.4036a4.7262,4.7262,0,0,0-8.6382,0"}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M48.9441,33.4036a4.7262,4.7262,0,0,0-8.6382,0"})]})}),ls=e=>B("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",children:B("g",{id:"line",children:[B("circle",{cx:"36",cy:"36",r:"23",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",...e}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M50.595,41.64a11.5554,11.5554,0,0,1-.87,4.49c-12.49,3.03-25.43.34-27.49-.13a11.4347,11.4347,0,0,1-.83-4.36h.11s14.8,3.59,28.89.07Z"}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M49.7251,46.13c-1.79,4.27-6.35,7.23-13.69,7.23-7.41,0-12.03-3.03-13.8-7.36C24.2951,46.47,37.235,49.16,49.7251,46.13Z"}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M31.6941,32.4036a4.7262,4.7262,0,0,0-8.6382,0"}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M48.9441,32.4036a4.7262,4.7262,0,0,0-8.6382,0"})]})}),cs=e=>B("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",children:B("g",{id:"line",children:[B("circle",{cx:"36",cy:"36",r:"23",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",...e}),B("polyline",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",points:"25.168 27.413 31.755 31.427 25.168 35.165"}),B("polyline",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",points:"46.832 27.413 40.245 31.427 46.832 35.165"}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M50.595,41.64a11.5554,11.5554,0,0,1-.87,4.49c-12.49,3.03-25.43.34-27.49-.13a11.4347,11.4347,0,0,1-.83-4.36h.11s14.8,3.59,28.89.07Z"}),B("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M49.7251,46.13c-1.79,4.27-6.35,7.23-13.69,7.23-7.41,0-12.03-3.03-13.8-7.36C24.2951,46.47,37.235,49.16,49.7251,46.13Z"})]})}),ds=({question:e,value:t,onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:l,setTtc:c,currentQuestionId:d})=>{const[u,f]=ne(0),[b,p]=ne(performance.now()),h=e.imageUrl||e.videoUrl;Rt(e.id,l,c,b,p,e.id===d);const m=({number:o,id:a})=>B("input",{type:"radio",id:a,name:"rating",value:o,className:"fb-invisible fb-absolute fb-left-0 fb-h-full fb-w-full fb-cursor-pointer fb-opacity-0",onClick:()=>(t=>{n({[e.id]:t});const o=Pt(l,e.id,performance.now()-b);c(o),setTimeout((()=>{r({[e.id]:t},o)}),250)})(o),required:e.required,checked:t===o});re((()=>{f(0)}),[e.id,f]);return B("form",{onSubmit:n=>{n.preventDefault();const o=Pt(l,e.id,performance.now()-b);c(o),r({[e.id]:t??""},o)},className:"fb-w-full",children:[B(Ie,{children:B("div",{children:[h&&B(Ne,{imgUrl:e.imageUrl,videoUrl:e.videoUrl}),B(me,{headline:Ue(e.headline,s),questionId:e.id,required:e.required}),B(Le,{subheader:e.subheader?Ue(e.subheader,s):"",questionId:e.id}),B("div",{className:"fb-mb-4 fb-mt-6 fb-flex fb-items-center fb-justify-center",children:B("fieldset",{className:"fb-w-full",children:[B("legend",{className:"fb-sr-only",children:"Choices"}),B("div",{className:"fb-flex fb-w-full",children:Array.from({length:e.range},((e,t)=>t+1)).map(((n,r,o)=>{return B("span",{onMouseOver:()=>f(n),onMouseLeave:()=>f(0),className:"fb-bg-survey-bg fb-flex-1 fb-text-center fb-text-sm",children:"number"===e.scale?B("label",{tabIndex:r+1,onKeyDown:e=>{var t,r;" "===e.key&&(e.preventDefault(),null==(t=document.getElementById(n.toString()))||t.click(),null==(r=document.getElementById(n.toString()))||r.focus())},className:ge(t===n?"fb-bg-accent-selected-bg fb-border-border-highlight fb-z-10 fb-border":"fb-border-border",o.length===n?"fb-rounded-r-custom fb-border-r":"",1===n?"fb-rounded-l-custom":"",u===n?"fb-bg-accent-bg":"",e.isColorCodingEnabled?"fb-min-h-[47px]":"fb-min-h-[41px]","fb-text-heading focus:fb-border-brand fb-relative fb-flex fb-w-full fb-cursor-pointer fb-items-center fb-justify-center fb-overflow-hidden fb-border-b fb-border-l fb-border-t focus:fb-border-2 focus:fb-outline-none"),children:[e.isColorCodingEnabled&&B("div",{className:"fb-absolute fb-left-0 fb-top-0 fb-h-[6px] fb-w-full "+(a=e.range,i=n,a>5?a-i<2?"fb-bg-emerald-100":a-i<4?"fb-bg-orange-100":"fb-bg-rose-100":a<5?a-i<1?"fb-bg-emerald-100":a-i<2?"fb-bg-orange-100":"fb-bg-rose-100":a-i<2?"fb-bg-emerald-100":a-i<3?"fb-bg-orange-100":"fb-bg-rose-100")}),B(m,{number:n,id:n.toString()}),n]}):"star"===e.scale?B("label",{tabIndex:r+1,onKeyDown:e=>{var t,r;" "===e.key&&(e.preventDefault(),null==(t=document.getElementById(n.toString()))||t.click(),null==(r=document.getElementById(n.toString()))||r.focus())},className:ge(n<=u||n<=t?"fb-text-amber-400":"fb-text-[#8696AC]",u===n?"fb-text-amber-400":"","fb-relative fb-flex fb-max-h-16 fb-min-h-9 fb-cursor-pointer fb-justify-center focus:fb-outline-none"),onFocus:()=>f(n),onBlur:()=>f(0),children:[B(m,{number:n,id:n.toString()}),B("div",{className:"fb-h-full fb-w-full fb-max-w-[74px] fb-object-contain",children:B("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:B("path",{fillRule:"evenodd",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})})})]}):B("label",{className:ge("fb-relative fb-flex fb-max-h-16 fb-min-h-9 fb-w-full fb-cursor-pointer fb-justify-center",t===n||u===n?"fb-stroke-rating-selected fb-text-rating-selected":"fb-stroke-heading fb-text-heading focus:fb-border-accent-bg focus:fb-border-2 focus:fb-outline-none"),tabIndex:r+1,onKeyDown:e=>{var t,r;" "===e.key&&(e.preventDefault(),null==(t=document.getElementById(n.toString()))||t.click(),null==(r=document.getElementById(n.toString()))||r.focus())},onFocus:()=>f(n),onBlur:()=>f(0),children:[B(m,{number:n,id:n.toString()}),B("div",{className:ge("fb-h-full fb-w-full fb-max-w-[74px] fb-object-contain"),children:B(us,{active:t===n||u===n,idx:r,range:e.range,addColors:e.isColorCodingEnabled})})]})},n);var a,i}))}),B("div",{className:"fb-text-subheading fb-mt-4 fb-flex fb-justify-between fb-px-1.5 fb-text-xs fb-leading-6",children:[B("p",{className:"fb-w-1/2 fb-text-left",dir:"auto",children:Ue(e.lowerLabel,s)}),B("p",{className:"fb-w-1/2 fb-text-right",dir:"auto",children:Ue(e.upperLabel,s)})]})]})})]})}),B("div",{className:"fb-flex fb-w-full fb-justify-between fb-px-6 fb-py-4",children:[!a&&B(Mt,{tabIndex:!e.required||t?e.range+2:e.range+1,backButtonLabel:Ue(e.backButtonLabel,s),onClick:()=>{const t=Pt(l,e.id,performance.now()-b);c(t),o()}}),B("div",{}),!e.required&&B(he,{tabIndex:e.range+1,buttonLabel:Ue(e.buttonLabel,s),isLastQuestion:i})]})]},e.id)},us=({active:e,idx:t,range:n,addColors:r=!1})=>{let o=[];return 10===n?o=[0,1,2,3,4,5,6,7,8,9]:7===n?o=[1,3,4,5,6,8,9]:5===n?o=[3,4,5,6,7]:4===n?o=[4,5,6,7]:3===n&&(o=[4,5,7]),((e,t,n,r,o)=>{const a=o?((e,t)=>e>5?e-t<3?"fb-fill-emerald-300":e-t<5?"fb-fill-orange-300":"fb-fill-rose-300":e<5?e-t<2?"fb-fill-emerald-300":e-t<3?"fb-fill-orange-300":"fb-fill-rose-300":e-t<3?"fb-fill-emerald-300":e-t<4?"fb-fill-orange-300":"fb-fill-rose-300")(n,t):"fb-fill-rating-fill",i=o?((e,t)=>e>5?e-t<3?"fb-fill-emerald-100":e-t<5?"fb-fill-orange-100":"fb-fill-rose-100":e<5?e-t<2?"fb-fill-emerald-100":e-t<3?"fb-fill-orange-100":"fb-fill-rose-100":e-t<3?"fb-fill-emerald-100":e-t<4?"fb-fill-orange-100":"fb-fill-rose-100")(n,t):"fb-fill-none";return[B(es,{className:r?a:i}),B(ts,{className:r?a:i}),B(ns,{className:r?a:i}),B(rs,{className:r?a:i}),B(os,{className:r?a:i}),B(as,{className:r?a:i}),B(is,{className:r?a:i}),B(ss,{className:r?a:i}),B(ls,{className:r?a:i}),B(cs,{className:r?a:i})][e]})(o[t],t,n,e,r)};var fs,bs,ps;(bs=fs||(fs={})).assertEqual=e=>e,bs.assertIs=function(e){},bs.assertNever=function(e){throw new Error},bs.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},bs.getValidEnumValues=e=>{const t=bs.objectKeys(e).filter((t=>"number"!=typeof e[e[t]])),n={};for(const r of t)n[r]=e[r];return bs.objectValues(n)},bs.objectValues=e=>bs.objectKeys(e).map((function(t){return e[t]})),bs.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},bs.find=(e,t)=>{for(const n of e)if(t(n))return n},bs.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,bs.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},bs.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(ps||(ps={})).mergeShapes=(e,t)=>({...e,...t});const hs=fs.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ms=e=>{switch(typeof e){case"undefined":return hs.undefined;case"string":return hs.string;case"number":return isNaN(e)?hs.nan:hs.number;case"boolean":return hs.boolean;case"function":return hs.function;case"bigint":return hs.bigint;case"symbol":return hs.symbol;case"object":return Array.isArray(e)?hs.array:null===e?hs.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?hs.promise:"undefined"!=typeof Map&&e instanceof Map?hs.map:"undefined"!=typeof Set&&e instanceof Set?hs.set:"undefined"!=typeof Date&&e instanceof Date?hs.date:hs.object;default:return hs.unknown}},gs=fs.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class vs extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const o of e.issues)if("invalid_union"===o.code)o.unionErrors.map(r);else if("invalid_return_type"===o.code)r(o.returnTypeError);else if("invalid_arguments"===o.code)r(o.argumentsError);else if(0===o.path.length)n._errors.push(t(o));else{let e=n,r=0;for(;r<o.path.length;){const n=o.path[r];r===o.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(o))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof vs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,fs.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}vs.create=e=>new vs(e);const ys=(e,t)=>{let n;switch(e.code){case gs.invalid_type:n=e.received===hs.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case gs.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,fs.jsonStringifyReplacer)}`;break;case gs.unrecognized_keys:n=`Unrecognized key(s) in object: ${fs.joinValues(e.keys,", ")}`;break;case gs.invalid_union:n="Invalid input";break;case gs.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${fs.joinValues(e.options)}`;break;case gs.invalid_enum_value:n=`Invalid enum value. Expected ${fs.joinValues(e.options)}, received '${e.received}'`;break;case gs.invalid_arguments:n="Invalid function arguments";break;case gs.invalid_return_type:n="Invalid function return type";break;case gs.invalid_date:n="Invalid date";break;case gs.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:fs.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case gs.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case gs.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case gs.custom:n="Invalid input";break;case gs.invalid_intersection_types:n="Intersection results could not be merged";break;case gs.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case gs.not_finite:n="Number must be finite";break;default:n=t.defaultError,fs.assertNever(e)}return{message:n}};let ws=ys;function _s(){return ws}const xs=e=>{const{data:t,path:n,errorMaps:r,issueData:o}=e,a=[...n,...o.path||[]],i={...o,path:a};if(void 0!==o.message)return{...o,path:a,message:o.message};let s="";const l=r.filter((e=>!!e)).slice().reverse();for(const c of l)s=c(i,{data:t,defaultError:s}).message;return{...o,path:a,message:s}};function ks(e,t){const n=_s(),r=xs({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===ys?void 0:ys].filter((e=>!!e))});e.common.issues.push(r)}class Cs{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return js;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return Cs.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:o}=r;if("aborted"===t.status)return js;if("aborted"===o.status)return js;"dirty"===t.status&&e.dirty(),"dirty"===o.status&&e.dirty(),"__proto__"===t.value||void 0===o.value&&!r.alwaysSet||(n[t.value]=o.value)}return{status:e.value,value:n}}}const js=Object.freeze({status:"aborted"}),Ss=e=>({status:"dirty",value:e}),Ns=e=>({status:"valid",value:e}),Ls=e=>"aborted"===e.status,Is=e=>"dirty"===e.status,Os=e=>"valid"===e.status,Ts=e=>"undefined"!=typeof Promise&&e instanceof Promise;function Es(e,t,n,r){if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function As(e,t,n,r,o){if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Ds,qs,Ms,$s;"function"==typeof SuppressedError&&SuppressedError,(qs=Ds||(Ds={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},qs.toString=e=>"string"==typeof e?e:null==e?void 0:e.message;class Ps{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Rs=(e,t)=>{if(Os(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new vs(e.common.issues);return this._error=t,this._error}}};function Us(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:o};return{errorMap:(t,o)=>{var a,i;const{message:s}=e;return"invalid_enum_value"===t.code?{message:null!=s?s:o.defaultError}:void 0===o.data?{message:null!==(a=null!=s?s:r)&&void 0!==a?a:o.defaultError}:"invalid_type"!==t.code?{message:o.defaultError}:{message:null!==(i=null!=s?s:n)&&void 0!==i?i:o.defaultError}},description:o}}class Bs{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ms(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ms(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Cs,ctx:{common:e.parent.common,data:e.data,parsedType:ms(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Ts(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ms(e)},o=this._parseSync({data:e,path:r.path,parent:r});return Rs(r,o)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ms(e)},r=this._parse({data:e,path:n.path,parent:n}),o=await(Ts(r)?r:Promise.resolve(r));return Rs(n,o)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const o=e(t),a=()=>r.addIssue({code:gs.custom,...n(t)});return"undefined"!=typeof Promise&&o instanceof Promise?o.then((e=>!!e||(a(),!1))):!!o||(a(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new ql({schema:this,typeName:Ql.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ml.create(this,this._def)}nullable(){return $l.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ml.create(this,this._def)}promise(){return Dl.create(this,this._def)}or(e){return yl.create([this,e],this._def)}and(e){return kl.create(this,e,this._def)}transform(e){return new ql({...Us(this._def),schema:this,typeName:Ql.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new Pl({...Us(this._def),innerType:this,defaultValue:t,typeName:Ql.ZodDefault})}brand(){return new Fl({typeName:Ql.ZodBranded,type:this,...Us(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new Rl({...Us(this._def),innerType:this,catchValue:t,typeName:Ql.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Zl.create(this,e)}readonly(){return zl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Fs=/^c[^\s-]{8,}$/i,Zs=/^[0-9a-z]+$/,zs=/^[0-9A-HJKMNP-TV-Z]{26}$/,Ws=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Hs=/^[a-z0-9_-]{21}$/i,Qs=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Vs=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Ys;const Ks=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Gs=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Xs=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Js="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",el=new RegExp(`^${Js}$`);function tl(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function nl(e){let t=`${Js}T${tl(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}class rl extends Bs{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==hs.string){const t=this._getOrReturnCtx(e);return ks(t,{code:gs.invalid_type,expected:hs.string,received:t.parsedType}),js}const t=new Cs;let n;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),ks(n,{code:gs.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),ks(n,{code:gs.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const r=e.data.length>i.value,o=e.data.length<i.value;(r||o)&&(n=this._getOrReturnCtx(e,n),r?ks(n,{code:gs.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&ks(n,{code:gs.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)Vs.test(e.data)||(n=this._getOrReturnCtx(e,n),ks(n,{validation:"email",code:gs.invalid_string,message:i.message}),t.dirty());else if("emoji"===i.kind)Ys||(Ys=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Ys.test(e.data)||(n=this._getOrReturnCtx(e,n),ks(n,{validation:"emoji",code:gs.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)Ws.test(e.data)||(n=this._getOrReturnCtx(e,n),ks(n,{validation:"uuid",code:gs.invalid_string,message:i.message}),t.dirty());else if("nanoid"===i.kind)Hs.test(e.data)||(n=this._getOrReturnCtx(e,n),ks(n,{validation:"nanoid",code:gs.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)Fs.test(e.data)||(n=this._getOrReturnCtx(e,n),ks(n,{validation:"cuid",code:gs.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)Zs.test(e.data)||(n=this._getOrReturnCtx(e,n),ks(n,{validation:"cuid2",code:gs.invalid_string,message:i.message}),t.dirty());else if("ulid"===i.kind)zs.test(e.data)||(n=this._getOrReturnCtx(e,n),ks(n,{validation:"ulid",code:gs.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(a){n=this._getOrReturnCtx(e,n),ks(n,{validation:"url",code:gs.invalid_string,message:i.message}),t.dirty()}else if("regex"===i.kind){i.regex.lastIndex=0;i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),ks(n,{validation:"regex",code:gs.invalid_string,message:i.message}),t.dirty())}else if("trim"===i.kind)e.data=e.data.trim();else if("includes"===i.kind)e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),ks(n,{code:gs.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),t.dirty());else if("toLowerCase"===i.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===i.kind)e.data=e.data.toUpperCase();else if("startsWith"===i.kind)e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),ks(n,{code:gs.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty());else if("endsWith"===i.kind)e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),ks(n,{code:gs.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty());else if("datetime"===i.kind){nl(i).test(e.data)||(n=this._getOrReturnCtx(e,n),ks(n,{code:gs.invalid_string,validation:"datetime",message:i.message}),t.dirty())}else if("date"===i.kind){el.test(e.data)||(n=this._getOrReturnCtx(e,n),ks(n,{code:gs.invalid_string,validation:"date",message:i.message}),t.dirty())}else if("time"===i.kind){new RegExp(`^${tl(i)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),ks(n,{code:gs.invalid_string,validation:"time",message:i.message}),t.dirty())}else"duration"===i.kind?Qs.test(e.data)||(n=this._getOrReturnCtx(e,n),ks(n,{validation:"duration",code:gs.invalid_string,message:i.message}),t.dirty()):"ip"===i.kind?(r=e.data,("v4"!==(o=i.version)&&o||!Ks.test(r))&&("v6"!==o&&o||!Gs.test(r))&&(n=this._getOrReturnCtx(e,n),ks(n,{validation:"ip",code:gs.invalid_string,message:i.message}),t.dirty())):"base64"===i.kind?Xs.test(e.data)||(n=this._getOrReturnCtx(e,n),ks(n,{validation:"base64",code:gs.invalid_string,message:i.message}),t.dirty()):fs.assertNever(i);var r,o;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:gs.invalid_string,...Ds.errToObj(n)})}_addCheck(e){return new rl({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ds.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ds.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ds.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ds.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ds.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ds.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ds.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ds.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ds.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ds.errToObj(e)})}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n,...Ds.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...Ds.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ds.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Ds.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...Ds.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Ds.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Ds.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Ds.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Ds.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Ds.errToObj(t)})}nonempty(e){return this.min(1,Ds.errToObj(e))}trim(){return new rl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new rl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new rl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function ol(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r;return parseInt(e.toFixed(o).replace(".",""))%parseInt(t.toFixed(o).replace(".",""))/Math.pow(10,o)}rl.create=e=>{var t;return new rl({checks:[],typeName:Ql.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...Us(e)})};class al extends Bs{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==hs.number){const t=this._getOrReturnCtx(e);return ks(t,{code:gs.invalid_type,expected:hs.number,received:t.parsedType}),js}let t;const n=new Cs;for(const r of this._def.checks)if("int"===r.kind)fs.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),ks(t,{code:gs.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),ks(t,{code:gs.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),ks(t,{code:gs.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==ol(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),ks(t,{code:gs.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),ks(t,{code:gs.not_finite,message:r.message}),n.dirty()):fs.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ds.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ds.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ds.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ds.toString(t))}setLimit(e,t,n,r){return new al({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Ds.toString(r)}]})}_addCheck(e){return new al({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ds.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ds.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ds.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ds.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ds.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ds.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Ds.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ds.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ds.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&fs.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}al.create=e=>new al({checks:[],typeName:Ql.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...Us(e)});class il extends Bs{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==hs.bigint){const t=this._getOrReturnCtx(e);return ks(t,{code:gs.invalid_type,expected:hs.bigint,received:t.parsedType}),js}let t;const n=new Cs;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),ks(t,{code:gs.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),ks(t,{code:gs.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),ks(t,{code:gs.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):fs.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ds.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ds.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ds.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ds.toString(t))}setLimit(e,t,n,r){return new il({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Ds.toString(r)}]})}_addCheck(e){return new il({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ds.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ds.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ds.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ds.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ds.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}il.create=e=>{var t;return new il({checks:[],typeName:Ql.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...Us(e)})};class sl extends Bs{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==hs.boolean){const t=this._getOrReturnCtx(e);return ks(t,{code:gs.invalid_type,expected:hs.boolean,received:t.parsedType}),js}return Ns(e.data)}}sl.create=e=>new sl({typeName:Ql.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...Us(e)});class ll extends Bs{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==hs.date){const t=this._getOrReturnCtx(e);return ks(t,{code:gs.invalid_type,expected:hs.date,received:t.parsedType}),js}if(isNaN(e.data.getTime())){return ks(this._getOrReturnCtx(e),{code:gs.invalid_date}),js}const t=new Cs;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),ks(n,{code:gs.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),ks(n,{code:gs.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):fs.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ll({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Ds.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Ds.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}ll.create=e=>new ll({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:Ql.ZodDate,...Us(e)});class cl extends Bs{_parse(e){if(this._getType(e)!==hs.symbol){const t=this._getOrReturnCtx(e);return ks(t,{code:gs.invalid_type,expected:hs.symbol,received:t.parsedType}),js}return Ns(e.data)}}cl.create=e=>new cl({typeName:Ql.ZodSymbol,...Us(e)});class dl extends Bs{_parse(e){if(this._getType(e)!==hs.undefined){const t=this._getOrReturnCtx(e);return ks(t,{code:gs.invalid_type,expected:hs.undefined,received:t.parsedType}),js}return Ns(e.data)}}dl.create=e=>new dl({typeName:Ql.ZodUndefined,...Us(e)});class ul extends Bs{_parse(e){if(this._getType(e)!==hs.null){const t=this._getOrReturnCtx(e);return ks(t,{code:gs.invalid_type,expected:hs.null,received:t.parsedType}),js}return Ns(e.data)}}ul.create=e=>new ul({typeName:Ql.ZodNull,...Us(e)});class fl extends Bs{constructor(){super(...arguments),this._any=!0}_parse(e){return Ns(e.data)}}fl.create=e=>new fl({typeName:Ql.ZodAny,...Us(e)});class bl extends Bs{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ns(e.data)}}bl.create=e=>new bl({typeName:Ql.ZodUnknown,...Us(e)});class pl extends Bs{_parse(e){const t=this._getOrReturnCtx(e);return ks(t,{code:gs.invalid_type,expected:hs.never,received:t.parsedType}),js}}pl.create=e=>new pl({typeName:Ql.ZodNever,...Us(e)});class hl extends Bs{_parse(e){if(this._getType(e)!==hs.undefined){const t=this._getOrReturnCtx(e);return ks(t,{code:gs.invalid_type,expected:hs.void,received:t.parsedType}),js}return Ns(e.data)}}hl.create=e=>new hl({typeName:Ql.ZodVoid,...Us(e)});class ml extends Bs{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==hs.array)return ks(t,{code:gs.invalid_type,expected:hs.array,received:t.parsedType}),js;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,o=t.data.length<r.exactLength.value;(e||o)&&(ks(t,{code:e?gs.too_big:gs.too_small,minimum:o?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(ks(t,{code:gs.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(ks(t,{code:gs.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new Ps(t,e,t.path,n))))).then((e=>Cs.mergeArray(n,e)));const o=[...t.data].map(((e,n)=>r.type._parseSync(new Ps(t,e,t.path,n))));return Cs.mergeArray(n,o)}get element(){return this._def.type}min(e,t){return new ml({...this._def,minLength:{value:e,message:Ds.toString(t)}})}max(e,t){return new ml({...this._def,maxLength:{value:e,message:Ds.toString(t)}})}length(e,t){return new ml({...this._def,exactLength:{value:e,message:Ds.toString(t)}})}nonempty(e){return this.min(1,e)}}function gl(e){if(e instanceof vl){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Ml.create(gl(r))}return new vl({...e._def,shape:()=>t})}return e instanceof ml?new ml({...e._def,type:gl(e.element)}):e instanceof Ml?Ml.create(gl(e.unwrap())):e instanceof $l?$l.create(gl(e.unwrap())):e instanceof Cl?Cl.create(e.items.map((e=>gl(e)))):e}ml.create=(e,t)=>new ml({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ql.ZodArray,...Us(t)});class vl extends Bs{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=fs.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==hs.object){const t=this._getOrReturnCtx(e);return ks(t,{code:gs.invalid_type,expected:hs.object,received:t.parsedType}),js}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof pl&&"strip"===this._def.unknownKeys))for(const s in n.data)o.includes(s)||a.push(s);const i=[];for(const s of o){const e=r[s],t=n.data[s];i.push({key:{status:"valid",value:s},value:e._parse(new Ps(n,t,n.path,s)),alwaysSet:s in n.data})}if(this._def.catchall instanceof pl){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of a)i.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)a.length>0&&(ks(n,{code:gs.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const r=n.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new Ps(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of i){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>Cs.mergeObjectSync(t,e))):Cs.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return Ds.errToObj,new vl({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,o,a,i;const s=null!==(a=null===(o=(r=this._def).errorMap)||void 0===o?void 0:o.call(r,t,n).message)&&void 0!==a?a:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(i=Ds.errToObj(e).message)&&void 0!==i?i:s}:{message:s}}}:{}})}strip(){return new vl({...this._def,unknownKeys:"strip"})}passthrough(){return new vl({...this._def,unknownKeys:"passthrough"})}extend(e){return new vl({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new vl({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ql.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new vl({...this._def,catchall:e})}pick(e){const t={};return fs.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new vl({...this._def,shape:()=>t})}omit(e){const t={};return fs.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new vl({...this._def,shape:()=>t})}deepPartial(){return gl(this)}partial(e){const t={};return fs.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new vl({...this._def,shape:()=>t})}required(e){const t={};return fs.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Ml;)e=e._def.innerType;t[n]=e}})),new vl({...this._def,shape:()=>t})}keyof(){return Tl(fs.objectKeys(this.shape))}}vl.create=(e,t)=>new vl({shape:()=>e,unknownKeys:"strip",catchall:pl.create(),typeName:Ql.ZodObject,...Us(t)}),vl.strictCreate=(e,t)=>new vl({shape:()=>e,unknownKeys:"strict",catchall:pl.create(),typeName:Ql.ZodObject,...Us(t)}),vl.lazycreate=(e,t)=>new vl({shape:e,unknownKeys:"strip",catchall:pl.create(),typeName:Ql.ZodObject,...Us(t)});class yl extends Bs{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new vs(e.ctx.common.issues)));return ks(t,{code:gs.invalid_union,unionErrors:n}),js}));{let e;const r=[];for(const a of n){const n={...t,common:{...t.common,issues:[]},parent:null},o=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===o.status)return o;"dirty"!==o.status||e||(e={result:o,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const o=r.map((e=>new vs(e)));return ks(t,{code:gs.invalid_union,unionErrors:o}),js}}get options(){return this._def.options}}yl.create=(e,t)=>new yl({options:e,typeName:Ql.ZodUnion,...Us(t)});const wl=e=>e instanceof Il?wl(e.schema):e instanceof ql?wl(e.innerType()):e instanceof Ol?[e.value]:e instanceof El?e.options:e instanceof Al?fs.objectValues(e.enum):e instanceof Pl?wl(e._def.innerType):e instanceof dl?[void 0]:e instanceof ul?[null]:e instanceof Ml?[void 0,...wl(e.unwrap())]:e instanceof $l?[null,...wl(e.unwrap())]:e instanceof Fl||e instanceof zl?wl(e.unwrap()):e instanceof Rl?wl(e._def.innerType):[];class _l extends Bs{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==hs.object)return ks(t,{code:gs.invalid_type,expected:hs.object,received:t.parsedType}),js;const n=this.discriminator,r=t.data[n],o=this.optionsMap.get(r);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(ks(t,{code:gs.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),js)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const o of t){const t=wl(o.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const n of t){if(r.has(n))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);r.set(n,o)}}return new _l({typeName:Ql.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...Us(n)})}}function xl(e,t){const n=ms(e),r=ms(t);if(e===t)return{valid:!0,data:e};if(n===hs.object&&r===hs.object){const n=fs.objectKeys(t),r=fs.objectKeys(e).filter((e=>-1!==n.indexOf(e))),o={...e,...t};for(const a of r){const n=xl(e[a],t[a]);if(!n.valid)return{valid:!1};o[a]=n.data}return{valid:!0,data:o}}if(n===hs.array&&r===hs.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const o=xl(e[r],t[r]);if(!o.valid)return{valid:!1};n.push(o.data)}return{valid:!0,data:n}}return n===hs.date&&r===hs.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class kl extends Bs{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(Ls(e)||Ls(r))return js;const o=xl(e.value,r.value);return o.valid?((Is(e)||Is(r))&&t.dirty(),{status:t.value,value:o.data}):(ks(n,{code:gs.invalid_intersection_types}),js)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}kl.create=(e,t,n)=>new kl({left:e,right:t,typeName:Ql.ZodIntersection,...Us(n)});class Cl extends Bs{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==hs.array)return ks(n,{code:gs.invalid_type,expected:hs.array,received:n.parsedType}),js;if(n.data.length<this._def.items.length)return ks(n,{code:gs.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),js;!this._def.rest&&n.data.length>this._def.items.length&&(ks(n,{code:gs.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new Ps(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>Cs.mergeArray(t,e))):Cs.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Cl({...this._def,rest:e})}}Cl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Cl({items:e,typeName:Ql.ZodTuple,rest:null,...Us(t)})};class jl extends Bs{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==hs.object)return ks(n,{code:gs.invalid_type,expected:hs.object,received:n.parsedType}),js;const r=[],o=this._def.keyType,a=this._def.valueType;for(const i in n.data)r.push({key:o._parse(new Ps(n,i,n.path,i)),value:a._parse(new Ps(n,n.data[i],n.path,i)),alwaysSet:i in n.data});return n.common.async?Cs.mergeObjectAsync(t,r):Cs.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new jl(t instanceof Bs?{keyType:e,valueType:t,typeName:Ql.ZodRecord,...Us(n)}:{keyType:rl.create(),valueType:e,typeName:Ql.ZodRecord,...Us(t)})}}class Sl extends Bs{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==hs.map)return ks(n,{code:gs.invalid_type,expected:hs.map,received:n.parsedType}),js;const r=this._def.keyType,o=this._def.valueType,a=[...n.data.entries()].map((([e,t],a)=>({key:r._parse(new Ps(n,e,n.path,[a,"key"])),value:o._parse(new Ps(n,t,n.path,[a,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of a){const r=await n.key,o=await n.value;if("aborted"===r.status||"aborted"===o.status)return js;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of a){const r=n.key,o=n.value;if("aborted"===r.status||"aborted"===o.status)return js;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}}}Sl.create=(e,t,n)=>new Sl({valueType:t,keyType:e,typeName:Ql.ZodMap,...Us(n)});class Nl extends Bs{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==hs.set)return ks(n,{code:gs.invalid_type,expected:hs.set,received:n.parsedType}),js;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(ks(n,{code:gs.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(ks(n,{code:gs.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const o=this._def.valueType;function a(e){const n=new Set;for(const r of e){if("aborted"===r.status)return js;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const i=[...n.data.values()].map(((e,t)=>o._parse(new Ps(n,e,n.path,t))));return n.common.async?Promise.all(i).then((e=>a(e))):a(i)}min(e,t){return new Nl({...this._def,minSize:{value:e,message:Ds.toString(t)}})}max(e,t){return new Nl({...this._def,maxSize:{value:e,message:Ds.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Nl.create=(e,t)=>new Nl({valueType:e,minSize:null,maxSize:null,typeName:Ql.ZodSet,...Us(t)});class Ll extends Bs{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==hs.function)return ks(t,{code:gs.invalid_type,expected:hs.function,received:t.parsedType}),js;function n(e,n){return xs({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,_s(),ys].filter((e=>!!e)),issueData:{code:gs.invalid_arguments,argumentsError:n}})}function r(e,n){return xs({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,_s(),ys].filter((e=>!!e)),issueData:{code:gs.invalid_return_type,returnTypeError:n}})}const o={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof Dl){const e=this;return Ns((async function(...t){const i=new vs([]),s=await e._def.args.parseAsync(t,o).catch((e=>{throw i.addIssue(n(t,e)),i})),l=await Reflect.apply(a,this,s);return await e._def.returns._def.type.parseAsync(l,o).catch((e=>{throw i.addIssue(r(l,e)),i}))}))}{const e=this;return Ns((function(...t){const i=e._def.args.safeParse(t,o);if(!i.success)throw new vs([n(t,i.error)]);const s=Reflect.apply(a,this,i.data),l=e._def.returns.safeParse(s,o);if(!l.success)throw new vs([r(s,l.error)]);return l.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ll({...this._def,args:Cl.create(e).rest(bl.create())})}returns(e){return new Ll({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Ll({args:e||Cl.create([]).rest(bl.create()),returns:t||bl.create(),typeName:Ql.ZodFunction,...Us(n)})}}class Il extends Bs{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Il.create=(e,t)=>new Il({getter:e,typeName:Ql.ZodLazy,...Us(t)});class Ol extends Bs{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return ks(t,{received:t.data,code:gs.invalid_literal,expected:this._def.value}),js}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Tl(e,t){return new El({values:e,typeName:Ql.ZodEnum,...Us(t)})}Ol.create=(e,t)=>new Ol({value:e,typeName:Ql.ZodLiteral,...Us(t)});class El extends Bs{constructor(){super(...arguments),Ms.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return ks(t,{expected:fs.joinValues(n),received:t.parsedType,code:gs.invalid_type}),js}if(Es(this,Ms)||As(this,Ms,new Set(this._def.values)),!Es(this,Ms).has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return ks(t,{received:t.data,code:gs.invalid_enum_value,options:n}),js}return Ns(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return El.create(e,{...this._def,...t})}exclude(e,t=this._def){return El.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}Ms=new WeakMap,El.create=Tl;class Al extends Bs{constructor(){super(...arguments),$s.set(this,void 0)}_parse(e){const t=fs.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==hs.string&&n.parsedType!==hs.number){const e=fs.objectValues(t);return ks(n,{expected:fs.joinValues(e),received:n.parsedType,code:gs.invalid_type}),js}if(Es(this,$s)||As(this,$s,new Set(fs.getValidEnumValues(this._def.values))),!Es(this,$s).has(e.data)){const e=fs.objectValues(t);return ks(n,{received:n.data,code:gs.invalid_enum_value,options:e}),js}return Ns(e.data)}get enum(){return this._def.values}}$s=new WeakMap,Al.create=(e,t)=>new Al({values:e,typeName:Ql.ZodNativeEnum,...Us(t)});class Dl extends Bs{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==hs.promise&&!1===t.common.async)return ks(t,{code:gs.invalid_type,expected:hs.promise,received:t.parsedType}),js;const n=t.parsedType===hs.promise?t.data:Promise.resolve(t.data);return Ns(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Dl.create=(e,t)=>new Dl({type:e,typeName:Ql.ZodPromise,...Us(t)});class ql extends Bs{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ql.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,o={addIssue:e=>{ks(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),"preprocess"===r.type){const e=r.transform(n.data,o);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return js;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?js:"dirty"===r.status||"dirty"===t.value?Ss(r.value):r}));{if("aborted"===t.value)return js;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?js:"dirty"===r.status||"dirty"===t.value?Ss(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,o);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?js:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?js:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Os(e))return e;const a=r.transform(e.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>Os(e)?Promise.resolve(r.transform(e.value,o)).then((e=>({status:t.value,value:e}))):e))}fs.assertNever(r)}}ql.create=(e,t,n)=>new ql({schema:e,typeName:Ql.ZodEffects,effect:t,...Us(n)}),ql.createWithPreprocess=(e,t,n)=>new ql({schema:t,effect:{type:"preprocess",transform:e},typeName:Ql.ZodEffects,...Us(n)});class Ml extends Bs{_parse(e){return this._getType(e)===hs.undefined?Ns(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ml.create=(e,t)=>new Ml({innerType:e,typeName:Ql.ZodOptional,...Us(t)});class $l extends Bs{_parse(e){return this._getType(e)===hs.null?Ns(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$l.create=(e,t)=>new $l({innerType:e,typeName:Ql.ZodNullable,...Us(t)});class Pl extends Bs{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===hs.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Pl.create=(e,t)=>new Pl({innerType:e,typeName:Ql.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...Us(t)});class Rl extends Bs{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ts(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new vs(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new vs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Rl.create=(e,t)=>new Rl({innerType:e,typeName:Ql.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...Us(t)});class Ul extends Bs{_parse(e){if(this._getType(e)!==hs.nan){const t=this._getOrReturnCtx(e);return ks(t,{code:gs.invalid_type,expected:hs.nan,received:t.parsedType}),js}return{status:"valid",value:e.data}}}Ul.create=e=>new Ul({typeName:Ql.ZodNaN,...Us(e)});const Bl=Symbol("zod_brand");class Fl extends Bs{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Zl extends Bs{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?js:"dirty"===e.status?(t.dirty(),Ss(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?js:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Zl({in:e,out:t,typeName:Ql.ZodPipeline})}}class zl extends Bs{_parse(e){const t=this._def.innerType._parse(e),n=e=>(Os(e)&&(e.value=Object.freeze(e.value)),e);return Ts(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function Wl(e,t={},n){return e?fl.create().superRefine(((r,o)=>{var a,i;if(!e(r)){const e="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,s=null===(i=null!==(a=e.fatal)&&void 0!==a?a:n)||void 0===i||i,l="string"==typeof e?{message:e}:e;o.addIssue({code:"custom",...l,fatal:s})}})):fl.create()}zl.create=(e,t)=>new zl({innerType:e,typeName:Ql.ZodReadonly,...Us(t)});const Hl={object:vl.lazycreate};var Ql,Vl;(Vl=Ql||(Ql={})).ZodString="ZodString",Vl.ZodNumber="ZodNumber",Vl.ZodNaN="ZodNaN",Vl.ZodBigInt="ZodBigInt",Vl.ZodBoolean="ZodBoolean",Vl.ZodDate="ZodDate",Vl.ZodSymbol="ZodSymbol",Vl.ZodUndefined="ZodUndefined",Vl.ZodNull="ZodNull",Vl.ZodAny="ZodAny",Vl.ZodUnknown="ZodUnknown",Vl.ZodNever="ZodNever",Vl.ZodVoid="ZodVoid",Vl.ZodArray="ZodArray",Vl.ZodObject="ZodObject",Vl.ZodUnion="ZodUnion",Vl.ZodDiscriminatedUnion="ZodDiscriminatedUnion",Vl.ZodIntersection="ZodIntersection",Vl.ZodTuple="ZodTuple",Vl.ZodRecord="ZodRecord",Vl.ZodMap="ZodMap",Vl.ZodSet="ZodSet",Vl.ZodFunction="ZodFunction",Vl.ZodLazy="ZodLazy",Vl.ZodLiteral="ZodLiteral",Vl.ZodEnum="ZodEnum",Vl.ZodEffects="ZodEffects",Vl.ZodNativeEnum="ZodNativeEnum",Vl.ZodOptional="ZodOptional",Vl.ZodNullable="ZodNullable",Vl.ZodDefault="ZodDefault",Vl.ZodCatch="ZodCatch",Vl.ZodPromise="ZodPromise",Vl.ZodBranded="ZodBranded",Vl.ZodPipeline="ZodPipeline",Vl.ZodReadonly="ZodReadonly";const Yl=rl.create,Kl=al.create,Gl=Ul.create,Xl=il.create,Jl=sl.create,ec=ll.create,tc=cl.create,nc=dl.create,rc=ul.create,oc=fl.create,ac=bl.create,ic=pl.create,sc=hl.create,lc=ml.create,cc=vl.create,dc=vl.strictCreate,uc=yl.create,fc=_l.create,bc=kl.create,pc=Cl.create,hc=jl.create,mc=Sl.create,gc=Nl.create,vc=Ll.create,yc=Il.create,wc=Ol.create,_c=El.create,xc=Al.create,kc=Dl.create,Cc=ql.create,jc=Ml.create,Sc=$l.create,Nc=ql.createWithPreprocess,Lc=Zl.create,Ic={string:e=>rl.create({...e,coerce:!0}),number:e=>al.create({...e,coerce:!0}),boolean:e=>sl.create({...e,coerce:!0}),bigint:e=>il.create({...e,coerce:!0}),date:e=>ll.create({...e,coerce:!0})},Oc=js;var Tc=Object.freeze({__proto__:null,defaultErrorMap:ys,setErrorMap:function(e){ws=e},getErrorMap:_s,makeIssue:xs,EMPTY_PATH:[],addIssueToContext:ks,ParseStatus:Cs,INVALID:js,DIRTY:Ss,OK:Ns,isAborted:Ls,isDirty:Is,isValid:Os,isAsync:Ts,get util(){return fs},get objectUtil(){return ps},ZodParsedType:hs,getParsedType:ms,ZodType:Bs,datetimeRegex:nl,ZodString:rl,ZodNumber:al,ZodBigInt:il,ZodBoolean:sl,ZodDate:ll,ZodSymbol:cl,ZodUndefined:dl,ZodNull:ul,ZodAny:fl,ZodUnknown:bl,ZodNever:pl,ZodVoid:hl,ZodArray:ml,ZodObject:vl,ZodUnion:yl,ZodDiscriminatedUnion:_l,ZodIntersection:kl,ZodTuple:Cl,ZodRecord:jl,ZodMap:Sl,ZodSet:Nl,ZodFunction:Ll,ZodLazy:Il,ZodLiteral:Ol,ZodEnum:El,ZodNativeEnum:Al,ZodPromise:Dl,ZodEffects:ql,ZodTransformer:ql,ZodOptional:Ml,ZodNullable:$l,ZodDefault:Pl,ZodCatch:Rl,ZodNaN:Ul,BRAND:Bl,ZodBranded:Fl,ZodPipeline:Zl,ZodReadonly:zl,custom:Wl,Schema:Bs,ZodSchema:Bs,late:Hl,get ZodFirstPartyTypeKind(){return Ql},coerce:Ic,any:oc,array:lc,bigint:Xl,boolean:Jl,date:ec,discriminatedUnion:fc,effect:Cc,enum:_c,function:vc,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>Wl((t=>t instanceof e),t),intersection:bc,lazy:yc,literal:wc,map:mc,nan:Gl,nativeEnum:xc,never:ic,null:rc,nullable:Sc,number:Kl,object:cc,oboolean:()=>Jl().optional(),onumber:()=>Kl().optional(),optional:jc,ostring:()=>Yl().optional(),pipeline:Lc,preprocess:Nc,promise:kc,record:hc,set:gc,strictObject:dc,string:Yl,symbol:tc,transformer:Cc,tuple:pc,undefined:nc,union:uc,unknown:ac,void:sc,NEVER:Oc,ZodIssueCode:gs,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:vs});Tc.union([Tc.literal("exactMatch"),Tc.literal("contains"),Tc.literal("startsWith"),Tc.literal("endsWith"),Tc.literal("notMatch"),Tc.literal("notContains")]);const Ec=Tc.union([Tc.literal("exactMatch"),Tc.literal("contains"),Tc.literal("startsWith"),Tc.literal("endsWith"),Tc.literal("notMatch"),Tc.literal("notContains")]),Ac=Tc.object({type:Tc.enum(["click","pageView","exitIntent","fiftyPercentScroll"]),urlFilters:Tc.array(Tc.object({value:Tc.string().trim().min(1,{message:"Value must contain atleast 1 character"}),rule:Ec}))}),Dc=Ac.extend({type:Tc.literal("click"),elementSelector:Tc.object({cssSelector:Tc.string().trim().optional(),innerHtml:Tc.string().trim().optional()}).superRefine(((e,t)=>{e.cssSelector||e.innerHtml||t.addIssue({code:Tc.ZodIssueCode.custom,message:"Either cssSelector or innerHtml must be provided"})}))}),qc=Ac.extend({type:Tc.literal("pageView")}),Mc=Ac.extend({type:Tc.literal("exitIntent")}),$c=Ac.extend({type:Tc.literal("fiftyPercentScroll")}),Pc=Tc.union([Dc,qc,Mc,$c]),Rc=Tc.enum(["code","noCode","automatic"]),Uc=Tc.object({id:Tc.string().cuid2(),name:Tc.string().trim().min(1),description:Tc.string().nullable(),type:Rc,key:Tc.string().trim().min(1).nullable(),noCodeConfig:Pc.nullable(),environmentId:Tc.string(),createdAt:Tc.date(),updatedAt:Tc.date()}),Bc=Tc.object({name:Tc.string({message:"Name is required"}).trim().min(1,{message:"Name must be at least 1 character long"}),description:Tc.string().nullable(),environmentId:Tc.string(),type:Rc}),Fc=Bc.extend({type:Tc.literal("code"),key:Tc.string().trim().min(1).nullable()}),Zc=Bc.extend({type:Tc.literal("noCode"),noCodeConfig:Pc.nullable()}),zc=Bc.extend({type:Tc.literal("automatic")});Tc.union([Fc,Zc,zc]),Tc.object({environmentId:Tc.string().cuid2(),userId:Tc.string(),attributes:Tc.record(Tc.union([Tc.string(),Tc.number()]))});const Wc=Tc.record(Tc.string());Tc.string(),Tc.number(),Tc.number().optional(),Tc.string().optional();const Hc=Tc.string().regex(/^#(?:[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/),Qc=Tc.enum(["bottomLeft","bottomRight","topLeft","topRight","center"]),Vc=Tc.enum(["png","jpeg","jpg","webp","pdf","doc","docx","xls","xlsx","ppt","pptx","plain","csv","mp4","mov","avi","mkv","webm","zip","rar","7z","tar"]),Yc=Tc.string().cuid2();Tc.string().uuid();const Kc=Tc.object({id:Tc.string().cuid2(),createdAt:Tc.date(),updatedAt:Tc.date(),type:Tc.enum(["development","production"]),productId:Tc.string(),appSetupCompleted:Tc.boolean()});Tc.object({id:Tc.string()}),Tc.object({type:Tc.enum(["development","production"]),productId:Tc.string(),appSetupCompleted:Tc.boolean()}),Tc.object({type:Tc.enum(["development","production"]).optional(),appSetupCompleted:Tc.boolean().optional()});const Gc=Tc.object({light:Hc,dark:Hc.nullish()}),Xc=Tc.enum(["casual","straight","simple"]),Jc=Tc.object({linkSurveys:Xc,appSurveys:Xc}),ed=Tc.object({bg:Tc.string().nullish(),bgType:Tc.enum(["animation","color","image","upload"]).nullish(),brightness:Tc.number().nullish()}).refine((e=>"upload"!==e.bgType||Boolean(e.bg)),{message:"Invalid background"}),td=Tc.object({brandColor:Gc.nullish(),questionColor:Gc.nullish(),inputColor:Gc.nullish(),inputBorderColor:Gc.nullish(),cardBackgroundColor:Gc.nullish(),cardBorderColor:Gc.nullish(),cardShadowColor:Gc.nullish(),highlightBorderColor:Gc.nullish(),isDarkModeEnabled:Tc.boolean().nullish(),roundness:Tc.number().nullish(),cardArrangement:Jc.nullish(),background:ed.nullish(),hideProgressBar:Tc.boolean().nullish(),isLogoHidden:Tc.boolean().nullish()}),nd=td.extend({allowStyleOverwrite:Tc.boolean()}),rd=Tc.enum(["eCommerce","saas","other"]).nullable(),od=Tc.enum(["link","app","website"]).nullable();Tc.enum(["surveys","cx"]);const ad=Tc.object({channel:od,industry:rd}),id=Tc.object({id:Tc.string().cuid2(),createdAt:Tc.date(),updatedAt:Tc.date(),code:Tc.string(),alias:Tc.string().nullable()});Tc.object({code:Tc.string(),alias:Tc.string().nullable()}),Tc.object({alias:Tc.string().nullable()});const sd=Tc.object({url:Tc.string().optional(),bgColor:Tc.string().optional()});Tc.object({id:Tc.string().cuid2(),createdAt:Tc.date(),updatedAt:Tc.date(),name:Tc.string().trim().min(1,{message:"Product name cannot be empty"}),organizationId:Tc.string(),styling:nd,recontactDays:Tc.number({message:"Recontact days is required"}).int().min(0,{message:"Must be a positive number"}).max(365,{message:"Must be less than 365"}),inAppSurveyBranding:Tc.boolean(),linkSurveyBranding:Tc.boolean(),config:ad,placement:Qc,clickOutsideClose:Tc.boolean(),darkOverlay:Tc.boolean(),environments:Tc.array(Kc),languages:Tc.array(id),logo:sd.nullish()}),Tc.object({name:Tc.string().trim().min(1,{message:"Product name cannot be empty"}).optional(),organizationId:Tc.string().optional(),highlightBorderColor:Hc.nullish(),recontactDays:Tc.number().int().optional(),inAppSurveyBranding:Tc.boolean().optional(),linkSurveyBranding:Tc.boolean().optional(),config:ad.optional(),placement:Qc.optional(),clickOutsideClose:Tc.boolean().optional(),darkOverlay:Tc.boolean().optional(),environments:Tc.array(Kc).optional(),styling:nd.optional(),logo:sd.optional()});const ld=["lessThan","lessEqual","greaterThan","greaterEqual","equals","notEquals"],cd=["lessThan","lessEqual","greaterThan","greaterEqual"],dd=["contains","doesNotContain","startsWith","endsWith"];Tc.enum(ld);const ud=[...ld,"isSet","isNotSet","contains","doesNotContain","startsWith","endsWith"],fd=ud,bd=["userIsIn","userIsNotIn"],pd=Tc.enum(ud),hd=Tc.enum(fd),md=Tc.enum(bd),gd=Tc.enum(["equals","notEquals"]),vd=Tc.union([Tc.string(),Tc.number()]),yd=Tc.enum(["attribute","segment","device","person"]);Tc.discriminatedUnion("type",[Tc.object({type:Tc.literal(yd.Enum.attribute),attributeClassId:Tc.string()}),Tc.object({type:Tc.literal(yd.Enum.person),userId:Tc.string()}),Tc.object({type:Tc.literal(yd.Enum.segment),segmentId:Tc.string()}),Tc.object({type:Tc.literal(yd.Enum.device),deviceType:Tc.string()})]);const wd=Tc.object({id:Tc.string().cuid2(),root:Tc.object({type:Tc.literal("attribute"),attributeClassName:Tc.string()}),value:vd,qualifier:Tc.object({operator:pd})}),_d=Tc.object({id:Tc.string().cuid2(),root:Tc.object({type:Tc.literal("person"),personIdentifier:Tc.string()}),value:vd,qualifier:Tc.object({operator:hd})}),xd=Tc.object({id:Tc.string().cuid2(),root:Tc.object({type:Tc.literal("segment"),segmentId:Tc.string()}),value:vd,qualifier:Tc.object({operator:md})}),kd=Tc.object({id:Tc.string().cuid2(),root:Tc.object({type:Tc.literal("device"),deviceType:Tc.string()}),value:vd,qualifier:Tc.object({operator:gd})}),Cd=Tc.union([wd,_d,xd,kd]).refine((e=>(!cd.includes(e.qualifier.operator)||"number"==typeof e.value)&&(!dd.includes(e.qualifier.operator)||"string"==typeof e.value)),{message:"Value must be a string for string operators and a number for arithmetic operators"}).refine((e=>{const{value:t,qualifier:n}=e,{operator:r}=n;return"isSet"===r||"isNotSet"===r||("string"!=typeof t||t.length>0)}),{message:"Invalid value for filters: please check your filter values"}),jd=Tc.enum(["and","or"]).nullable(),Sd=Tc.lazy((()=>Tc.object({id:Tc.string().cuid2(),connector:jd,resource:Tc.union([Cd,Nd])}))),Nd=Tc.lazy((()=>Tc.array(Sd))),Ld=e=>{let t=!0;for(let n=0;n<e.length;n++){const r=e[n];if(Array.isArray(r.resource))t=Ld(r.resource);else if(0===n&&null!==r.connector){t=!1;break}}return t},Id=Tc.array(Tc.object({id:Tc.string().cuid2(),connector:jd,resource:Tc.union([Cd,Tc.lazy((()=>Id))])})).refine(Ld,{message:"Invalid filters applied"}),Od=Tc.object({id:Tc.string(),title:Tc.string(),description:Tc.string().nullable(),isPrivate:Tc.boolean().default(!0),filters:Id,environmentId:Tc.string(),createdAt:Tc.date(),updatedAt:Tc.date(),surveys:Tc.array(Tc.string())});Tc.object({environmentId:Tc.string(),title:Tc.string(),description:Tc.string().optional(),isPrivate:Tc.boolean().default(!0),filters:Id,surveyId:Tc.string()}),Tc.object({title:Tc.string(),description:Tc.string().nullable(),isPrivate:Tc.boolean().default(!0),filters:Id,surveys:Tc.array(Tc.string())}).partial();const Td=["userId","source","suid","end","start","welcomeCard","hidden","verifiedEmail","multiLanguage","embed"],Ed={headline:"question",subheader:"description",buttonLabel:"next button label",backButtonLabel:"back button label",placeholder:"placeholder",upperLabel:"upper label",lowerLabel:"lower label","consent.label":"checkbox label",dismissButtonLabel:"dismiss button label",html:"description",cardHeadline:"note",welcomeCardHtml:"welcome message",endingCardButtonLabel:"button label"},Ad=e=>e?e.map((e=>e.default?"default":e.language.code)):[],Dd=(e,t)=>{const n=t.filter((e=>e.enabled)),r=Ad(n);return(r.length?r:["default"]).filter((t=>!e[t]||""===e[t].trim())).map((e=>{var n;return"default"===e?(null==(n=t.find((e=>e.default)))?void 0:n.language.code)??"default":e}))},qd=(e,t,n,r,o=!1)=>{for(const u of n)if(!u.default&&void 0===t[u.language.code])return{code:Tc.ZodIssueCode.custom,message:`The ${e} in question ${String(r+1)} is not present for the following languages: ${u.language.code}`,path:["questions",r,e]};const a=Dd(t,n),i=1===a.length&&"default"===a[0],s=o?"":"The ",l=Ed[e]?Ed[e]:e,c=i?" is missing":" is missing for the following languages: ",d=i?`${s}${l} in question ${String(r+1)}${c}`:`${s}${l} in question ${String(r+1)}${c} -fLang- ${a.join()}`;return a.length?{code:Tc.ZodIssueCode.custom,message:d,path:["questions",r,e],params:i?void 0:{invalidLanguageCodes:a}}:null},Md=(e,t,n,r,o,a=!1)=>{const i="welcome"===r?"Welcome card":`Ending card ${((o??-1)+1).toString()}`,s="welcome"===r?["welcomeCard",e]:["endings",o??-1,e];for(const p of n)if(!p.default&&void 0===t[p.language.code])return{code:Tc.ZodIssueCode.custom,message:`The ${e} in ${i} is not present for the following languages: ${p.language.code}`,path:s};const l=Dd(t,n),c=1===l.length&&"default"===l[0],d=a?"":"The ",u=Ed[e]?Ed[e]:e,f=c?" is missing":" is missing for the following languages: ",b=c?`${d}${u} on the ${i}${f}`:`${d}${u} on the ${i}${f} -fLang- ${l.join(", ")}`;return l.length?{code:Tc.ZodIssueCode.custom,message:b,path:s,params:c?void 0:{invalidLanguageCodes:l}}:null},$d=(e,t)=>{const n=t.filter((e=>e.enabled)),r=Ad(n),o=0===r.length?["default"]:r,a=new Set;for(const i of o){const t=e.map((e=>e[i].trim())).filter(Boolean);new Set(t).size!==t.length&&a.add(i)}return Array.from(a)},Pd=e=>e.filter((e=>"jumpToQuestion"===e.objective)),Rd=Tc.record(Tc.string()).refine((e=>"default"in e),{message:"Object must have a 'default' key"}),Ud=Tc.object({id:Tc.string().cuid2()}),Bd=Ud.extend({type:Tc.literal("endScreen"),headline:Rd.optional(),subheader:Rd.optional(),buttonLabel:Rd.optional(),buttonLink:Tc.string().url("Invalid Button Url in Ending card").optional(),imageUrl:Tc.string().optional(),videoUrl:Tc.string().optional()}),Fd=Ud.extend({type:Tc.literal("redirectToUrl"),url:Tc.string().url("Invalid Redirect Url in Ending card").optional(),label:Tc.string().optional()}),Zd=Tc.union([Bd,Fd]),zd=Tc.array(Zd);var Wd=(e=>(e.FileUpload="fileUpload",e.OpenText="openText",e.MultipleChoiceSingle="multipleChoiceSingle",e.MultipleChoiceMulti="multipleChoiceMulti",e.NPS="nps",e.CTA="cta",e.Rating="rating",e.Consent="consent",e.PictureSelection="pictureSelection",e.Cal="cal",e.Date="date",e.Matrix="matrix",e.Address="address",e.Ranking="ranking",e.ContactInfo="contactInfo",e))(Wd||{});const Hd=Tc.string().superRefine(((e,t)=>{Td.includes(e)&&t.addIssue({code:Tc.ZodIssueCode.custom,message:"Question id is not allowed"}),e.includes(" ")&&t.addIssue({code:Tc.ZodIssueCode.custom,message:"Question id not allowed, avoid using spaces."}),/^[a-zA-Z0-9_-]+$/.test(e)||t.addIssue({code:Tc.ZodIssueCode.custom,message:"Question id not allowed, use only alphanumeric characters, hyphens, or underscores."})})),Qd=Tc.object({enabled:Tc.boolean(),headline:Rd.optional(),html:Rd.optional(),fileUrl:Tc.string().optional(),buttonLabel:Rd.optional(),timeToFinish:Tc.boolean().default(!0),showResponseCount:Tc.boolean().default(!1),videoUrl:Tc.string().optional()}).refine((e=>!(e.enabled&&!e.headline)),{message:"Welcome card must have a headline"}),Vd=Tc.object({enabled:Tc.boolean(),fieldIds:Tc.optional(Tc.array(Tc.string().superRefine(((e,t)=>{Td.includes(e)&&t.addIssue({code:Tc.ZodIssueCode.custom,message:"Hidden field id is not allowed"}),e.includes(" ")&&t.addIssue({code:Tc.ZodIssueCode.custom,message:"Hidden field id not allowed, avoid using spaces."}),/^[a-zA-Z0-9_-]+$/.test(e)||t.addIssue({code:Tc.ZodIssueCode.custom,message:"Hidden field id not allowed, use only alphanumeric characters, hyphens, or underscores."})}))))}),Yd=Tc.discriminatedUnion("type",[Tc.object({id:Tc.string().cuid2(),name:Tc.string(),type:Tc.literal("number"),value:Tc.number().default(0)}),Tc.object({id:Tc.string().cuid2(),name:Tc.string(),type:Tc.literal("text"),value:Tc.string().default("")})]).superRefine(((e,t)=>{/^[a-z0-9_]+$/.test(e.name)||t.addIssue({code:Tc.ZodIssueCode.custom,message:"Variable name can only contain lowercase letters, numbers, and underscores",path:["variables"]})})),Kd=Tc.array(Yd),Gd=Tc.object({brandColor:Hc.nullish(),highlightBorderColor:Hc.nullish(),placement:Qc.nullish(),clickOutsideClose:Tc.boolean().nullish(),darkOverlay:Tc.boolean().nullish()});Tc.enum(["animation","color","upload","image"]);const Xd=td.extend({overwriteThemeStyling:Tc.boolean().nullish()}),Jd=Tc.object({enabled:Tc.boolean().optional(),heading:Tc.string().optional(),subheading:Tc.string().optional()}).nullable().optional(),eu=Tc.object({enabled:Tc.boolean(),heading:Tc.optional(Tc.string()),subheading:Tc.optional(Tc.string()),isEncrypted:Tc.boolean()}).nullable(),tu=Tc.object({id:Tc.string(),label:Rd}),nu=Tc.object({id:Tc.string(),imageUrl:Tc.string()}),ru=Tc.enum(["equals","doesNotEqual","contains","doesNotContain","startsWith","doesNotStartWith","endsWith","doesNotEndWith","isSubmitted","isSkipped","isGreaterThan","isLessThan","isGreaterThanOrEqual","isLessThanOrEqual","equalsOneOf","includesAllOf","includesOneOf","isClicked","isAccepted","isBefore","isAfter","isBooked","isPartiallySubmitted","isCompletelySubmitted"]),ou=[ru.Enum.isSubmitted,ru.Enum.isSkipped,ru.Enum.isClicked,ru.Enum.isAccepted,ru.Enum.isBooked,ru.Enum.isPartiallySubmitted,ru.Enum.isCompletelySubmitted],au=Tc.enum(["question","variable","hiddenField"]),iu=Tc.enum(["calculate","requireAnswer","jumpToQuestion"]),su=Tc.enum(["assign","concat"],{message:"Conditional Logic: Invalid operator for a text variable"}),lu=Tc.enum(["add","subtract","multiply","divide","assign"],{message:"Conditional Logic: Invalid operator for a number variable"}),cu=Tc.object({type:Tc.literal("question"),value:Tc.string().min(1,"Conditional Logic: Question id cannot be empty")}),du=Tc.object({type:Tc.literal("variable"),value:Tc.string().cuid2({message:"Conditional Logic: Variable id must be a valid cuid"}).min(1,"Conditional Logic: Variable id cannot be empty")}),uu=Tc.object({type:Tc.literal("hiddenField"),value:Tc.string().min(1,"Conditional Logic: Hidden field id cannot be empty")}),fu=Tc.union([cu,du,uu],{message:"Conditional Logic: Invalid dynamic field value"}),bu=fu,pu=Tc.object({type:Tc.literal("static"),value:Tc.union([Tc.string(),Tc.number(),Tc.array(Tc.string())])}),hu=Tc.union([pu,fu]),mu=Tc.object({id:Yc,leftOperand:bu,operator:ru,rightOperand:hu.optional()}).and(Tc.object({connector:Tc.undefined()})).superRefine(((e,t)=>{ou.includes(e.operator)?void 0!==e.rightOperand&&t.addIssue({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: right operand should not be present for operator "${e.operator}"`,path:["rightOperand"]}):void 0===e.rightOperand?t.addIssue({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: right operand is required for operator "${e.operator}"`,path:["rightOperand"]}):"static"===e.rightOperand.type&&""===e.rightOperand.value&&t.addIssue({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: right operand value cannot be empty for operator "${e.operator}"`})})),gu=Tc.lazy((()=>Tc.object({id:Yc,connector:Tc.enum(["and","or"]),conditions:Tc.array(Tc.union([mu,gu]))})));Tc.union([Tc.literal("static"),au]);const vu=Tc.object({id:Yc,objective:iu}),yu=vu.extend({objective:Tc.literal("calculate"),variableId:Tc.string()}),wu=yu.extend({operator:su,value:Tc.union([Tc.object({type:Tc.literal("static"),value:Tc.string({message:"Conditional Logic: Value must be a string for text variable"}).min(1,"Conditional Logic: Please enter a value in logic field")}),fu])}),_u=yu.extend({operator:lu,value:Tc.union([Tc.object({type:Tc.literal("static"),value:Tc.number({message:"Conditional Logic: Value must be a number for number variable"})}),fu])}).superRefine(((e,t)=>{"divide"===e.operator&&"static"===e.value.type&&0===e.value.value&&t.addIssue({code:Tc.ZodIssueCode.custom,message:"Conditional Logic: Cannot divide by zero",path:["value","value"]})})),xu=Tc.union([wu,_u]),ku=vu.extend({objective:Tc.literal("requireAnswer"),target:Tc.string().min(1,"Conditional Logic: Target question id cannot be empty")}),Cu=vu.extend({objective:Tc.literal("jumpToQuestion"),target:Tc.string().min(1,"Conditional Logic: Target question id cannot be empty")}),ju=Tc.union([xu,ku,Cu]),Su=Tc.array(ju),Nu=Tc.object({id:Yc,conditions:gu,actions:Su}),Lu=Tc.object({id:Hd,type:Tc.string(),headline:Rd,subheader:Rd.optional(),imageUrl:Tc.string().optional(),videoUrl:Tc.string().optional(),required:Tc.boolean(),buttonLabel:Rd.optional(),backButtonLabel:Rd.optional(),scale:Tc.enum(["number","smiley","star"]).optional(),range:Tc.union([Tc.literal(5),Tc.literal(3),Tc.literal(4),Tc.literal(7),Tc.literal(10)]).optional(),logic:Tc.array(Nu).optional(),isDraft:Tc.boolean().optional()}),Iu=Tc.enum(["text","email","url","number","phone"]),Ou=Lu.extend({type:Tc.literal("openText"),placeholder:Rd.optional(),longAnswer:Tc.boolean().optional(),inputType:Iu.optional().default("text")}),Tu=Lu.extend({type:Tc.literal("consent"),html:Rd.optional(),label:Rd,placeholder:Tc.string().optional()}),Eu=Tc.enum(["none","all","exceptLast"]),Au=Lu.extend({type:Tc.union([Tc.literal("multipleChoiceSingle"),Tc.literal("multipleChoiceMulti")]),choices:Tc.array(tu).min(2,{message:"Multiple Choice Question must have at least two choices"}),shuffleOption:Eu.optional(),otherOptionPlaceholder:Rd.optional()}),Du=Lu.extend({type:Tc.literal("nps"),lowerLabel:Rd.optional(),upperLabel:Rd.optional(),isColorCodingEnabled:Tc.boolean().optional().default(!1)}),qu=Lu.extend({type:Tc.literal("cta"),html:Rd.optional(),buttonUrl:Tc.string().optional(),buttonExternal:Tc.boolean(),dismissButtonLabel:Rd.optional()}),Mu=Lu.extend({type:Tc.literal("rating"),scale:Tc.enum(["number","smiley","star"]),range:Tc.union([Tc.literal(5),Tc.literal(3),Tc.literal(4),Tc.literal(7),Tc.literal(10)]),lowerLabel:Rd.optional(),upperLabel:Rd.optional(),isColorCodingEnabled:Tc.boolean().optional().default(!1)}),$u=Lu.extend({type:Tc.literal("date"),html:Rd.optional(),format:Tc.enum(["M-d-y","d-M-y","y-M-d"])}),Pu=Lu.extend({type:Tc.literal("pictureSelection"),allowMulti:Tc.boolean().optional().default(!1),choices:Tc.array(nu).min(2,{message:"Picture Selection question must have atleast 2 choices"})}),Ru=Lu.extend({type:Tc.literal("fileUpload"),allowMultipleFiles:Tc.boolean(),maxSizeInMB:Tc.number().optional(),allowedFileExtensions:Tc.array(Vc).optional()}),Uu=Lu.extend({type:Tc.literal("cal"),calUserName:Tc.string().min(1,{message:"Cal user name is required"}),calHost:Tc.string().optional()}),Bu=Lu.extend({type:Tc.literal("matrix"),rows:Tc.array(Rd),columns:Tc.array(Rd),shuffleOption:Eu.optional().default("none")}),Fu=Tc.object({show:Tc.boolean(),required:Tc.boolean()}),Zu=Lu.extend({type:Tc.literal("address"),addressLine1:Fu,addressLine2:Fu,city:Fu,state:Fu,zip:Fu,country:Fu}),zu=Lu.extend({type:Tc.literal("contactInfo"),firstName:Fu,lastName:Fu,email:Fu,phone:Fu,company:Fu}),Wu=Lu.extend({type:Tc.literal("ranking"),choices:Tc.array(tu).min(2,{message:"Ranking Question must have at least two options"}),otherOptionPlaceholder:Rd.optional(),shuffleOption:Eu.optional()}),Hu=Tc.union([Ou,Tu,Au,Du,qu,Mu,Pu,$u,Ru,Uu,Bu,Zu,Wu,zu]),Qu=Tc.array(Hu);Tc.enum(["address","cta","consent","date","fileUpload","matrix","multipleChoiceMulti","multipleChoiceSingle","nps","openText","pictureSelection","rating","cal","ranking","contactInfo"]);const Vu=Tc.object({language:id,default:Tc.boolean(),enabled:Tc.boolean()});Tc.object({questions:Qu,hiddenFields:Vd});const Yu=Tc.enum(["displayOnce","displayMultiple","respondMultiple","displaySome"]),Ku=Tc.enum(["link","app"]),Gu=Tc.enum(["draft","scheduled","inProgress","paused","completed"]);Tc.object({codeConfig:Tc.object({identifier:Tc.string()}).optional(),noCodeConfig:Pc.optional()});const Xu=Tc.object({id:Tc.string().cuid2(),createdAt:Tc.date(),updatedAt:Tc.date(),name:Tc.string(),type:Ku,environmentId:Tc.string(),createdBy:Tc.string().nullable(),status:Gu,displayOption:Yu,autoClose:Tc.number().nullable(),triggers:Tc.array(Tc.object({actionClass:Uc})),recontactDays:Tc.number().nullable(),displayLimit:Tc.number().nullable(),welcomeCard:Qd,questions:Qu.min(1,{message:"Survey must have at least one question"}).superRefine(((e,t)=>{const n=e.map((e=>e.id));new Set(n).size!==n.length&&t.addIssue({code:Tc.ZodIssueCode.custom,message:"Question IDs must be unique",path:[n.findIndex(((e,t)=>n.indexOf(e)!==t)),"id"]})})),endings:zd.superRefine(((e,t)=>{const n=e.map((e=>e.id));new Set(n).size!==n.length&&t.addIssue({code:Tc.ZodIssueCode.custom,message:"Ending IDs must be unique",path:[n.findIndex(((e,t)=>n.indexOf(e)!==t)),"id"]})})),hiddenFields:Vd,variables:Kd.superRefine(((e,t)=>{const n=e.map((e=>e.id));new Set(n).size!==n.length&&t.addIssue({code:Tc.ZodIssueCode.custom,message:"Variable IDs must be unique",path:["variables"]});const r=e.map((e=>e.name));new Set(r).size!==r.length&&t.addIssue({code:Tc.ZodIssueCode.custom,message:"Variable names must be unique",path:["variables"]})})),delay:Tc.number(),autoComplete:Tc.number().min(1,{message:"Response limit must be greater than 0"}).nullable(),runOnDate:Tc.date().nullable(),closeOnDate:Tc.date().nullable(),productOverwrites:Gd.nullable(),styling:Xd.nullable(),showLanguageSwitch:Tc.boolean().nullable(),surveyClosedMessage:Jd.nullable(),segment:Od.nullable(),singleUse:eu.nullable(),isVerifyEmailEnabled:Tc.boolean(),isSingleResponsePerEmailEnabled:Tc.boolean(),pin:Tc.string().min(4,{message:"PIN must be a four digit number"}).nullish(),resultShareKey:Tc.string().nullable(),displayPercentage:Tc.number().min(.01).max(100).nullable(),languages:Tc.array(Vu)}).superRefine(((e,t)=>{const{questions:n,languages:r,welcomeCard:o,endings:a}=e;let i;o.enabled&&(o.headline&&(i=Md("cardHeadline",o.headline,r,"welcome"),i&&t.addIssue(i)),o.html&&""!==o.html.default.trim()&&(i=Md("welcomeCardHtml",o.html,r,"welcome"),i&&t.addIssue(i)),o.buttonLabel&&""!==o.buttonLabel.default.trim()&&(i=Md("buttonLabel",o.buttonLabel,r,"welcome"),i&&t.addIssue(i))),n.forEach(((n,o)=>{i=qd("headline",n.headline,r,o),i&&t.addIssue(i),n.subheader&&""!==n.subheader.default.trim()&&(i=qd("subheader",n.subheader,r,o),i&&t.addIssue(i));const a="default",s=["html","buttonLabel","upperLabel","lowerLabel","label","placeholder"],l=0===o?s:[...s,"backButtonLabel"];for(const e of l){if("label"===e&&"consent"===n.type)continue;const s=n[e];void 0!==(null==s?void 0:s[a])&&""!==s[a].trim()&&(i=qd(e,s,r,o),i&&t.addIssue(i))}if("openText"===n.type&&n.placeholder&&""!==n.placeholder[a].trim()&&r.length>1&&(i=qd("placeholder",n.placeholder,r,o),i&&t.addIssue(i)),"multipleChoiceSingle"===n.type||"multipleChoiceMulti"===n.type||"ranking"===n.type){n.choices.forEach(((e,n)=>{i=qd(`Choice ${String(n+1)}`,e.label,r,o,!0),i&&t.addIssue(i)}));const e=$d(n.choices.map((e=>e.label)),r);if(e.length>0){const n=e.map((e=>{var t;return"default"===e?(null==(t=r.find((e=>e.default)))?void 0:t.language.code)??"default":e})),a=1===n.length&&"default"===n[0];t.addIssue({code:Tc.ZodIssueCode.custom,message:`Question ${String(o+1)} has duplicate choice labels ${a?"":"for the following languages:"}`,path:["questions",o,"choices"],params:a?void 0:{invalidLanguageCodes:n}})}}if("consent"===n.type&&(i=qd("consent.label",n.label,r,o),i&&t.addIssue(i)),"cta"===n.type&&(!n.required&&n.dismissButtonLabel&&(i=qd("dismissButtonLabel",n.dismissButtonLabel,r,o),i&&t.addIssue(i)),n.buttonExternal)){Tc.string().url().safeParse(n.buttonUrl).success||t.addIssue({code:Tc.ZodIssueCode.custom,message:`Question ${String(o+1)} has an invalid button URL`,path:["questions",o,"buttonUrl"]})}if("matrix"===n.type){n.rows.forEach(((e,n)=>{i=qd(`Row ${String(n+1)}`,e,r,o,!0),i&&t.addIssue(i)})),n.columns.forEach(((e,n)=>{i=qd(`Column ${String(n+1)}`,e,r,o,!0),i&&t.addIssue(i)}));const e=$d(n.rows,r),a=$d(n.columns,r);if(e.length>0){const n=e.map((e=>{var t;return"default"===e?(null==(t=r.find((e=>e.default)))?void 0:t.language.code)??"default":e})),a=1===n.length&&"default"===n[0];t.addIssue({code:Tc.ZodIssueCode.custom,message:`Question ${String(o+1)} has duplicate row labels ${a?"":"for the following languages:"}`,path:["questions",o,"rows"],params:a?void 0:{invalidLanguageCodes:n}})}if(a.length>0){const e=a.map((e=>{var t;return"default"===e?(null==(t=r.find((e=>e.default)))?void 0:t.language.code)??"default":e})),n=1===e.length&&"default"===e[0];t.addIssue({code:Tc.ZodIssueCode.custom,message:`Question ${String(o+1)} has duplicate column labels ${n?"":"for the following languages:"}`,path:["questions",o,"columns"],params:n?void 0:{invalidLanguageCodes:e}})}}if("fileUpload"===n.type&&n.allowedFileExtensions&&0===n.allowedFileExtensions.length&&t.addIssue({code:Tc.ZodIssueCode.custom,message:`Question ${String(o+1)} must have atleast one allowed file extension`,path:["questions",o,"allowedFileExtensions"]}),"cal"===n.type&&void 0!==n.calHost){/^[a-zA-Z0-9]+(?<domain>\.[a-zA-Z0-9]+)+$/.test(n.calHost)||t.addIssue({code:Tc.ZodIssueCode.custom,message:`Question ${String(o+1)} must have a valid host name`,path:["questions",o,"calHost"]})}if("contactInfo"===n.type){const{company:e,email:r,firstName:a,lastName:i,phone:s}=n;[e,r,a,i,s].every((e=>!e.show))&&t.addIssue({code:Tc.ZodIssueCode.custom,message:"At least one field must be shown in the Contact Info question",path:["questions",o]})}if("address"===n.type){const{addressLine1:e,addressLine2:r,city:a,state:i,zip:s,country:l}=n;[e,r,a,i,s,l].every((e=>!e.show))&&t.addIssue({code:Tc.ZodIssueCode.custom,message:"At least one field must be shown in the Address question",path:["questions",o]})}if(n.logic){tf(e,o,n.logic).forEach((e=>{t.addIssue(e)}))}}));const s=(e=>{const t={},n={},r=new Set,o=a=>{if(!t[a]){t[a]=!0,n[a]=!0;const i=e.find((e=>e.id===a));if((null==i?void 0:i.logic)&&i.logic.length>0)for(const e of i.logic){const i=Pd(e.actions);for(const e of i){const i=e.target;if(!t[i]&&o(i))return r.add(a),!0;if(n[i])return r.add(a),!0}}const s=e.findIndex((e=>e.id===a))+1,l=e[s];if(l&&!t[l.id]&&o(l.id))return!0}return n[a]=!1,!1};for(const a of e)o(a.id);return Array.from(r)})(n);s.length>0&&s.forEach((e=>{const r=n.findIndex((t=>t.id===e));t.addIssue({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Cyclic logic detected 🔃 Please check the logic of question ${String(r+1)}.`,path:["questions",r,"logic"]})})),a.forEach(((e,n)=>{if("endScreen"===e.type){const o=Md("cardHeadline",e.headline??{},r,"end",n);if(o&&t.addIssue(o),e.subheader){const o=Md("subheader",e.subheader,r,"end",n);o&&t.addIssue(o)}if(e.buttonLabel){const o=Md("endingCardButtonLabel",e.buttonLabel,r,"end",n);o&&t.addIssue(o)}}"redirectToUrl"===e.type&&(e.label&&""!==e.label.trim()||t.addIssue({code:Tc.ZodIssueCode.custom,message:`Redirect Url label cannot be empty for ending Card ${String(n+1)}.`,path:["endings",n,"label"]}))}))})),Ju=(e,t,n,r)=>{const o=[],a=r=>{r.conditions.forEach((r=>{(e=>"conditions"in e)(r)?a(r):(r=>{var a,i,s,l,c;const{leftOperand:d,operator:u,rightOperand:f}=r;if("question"===d.type){const s=d.value,l=e.questions.findIndex((e=>e.id===s)),c=-1!==l?e.questions[l]:void 0;if(!c)return void o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Question ID ${s} does not exist in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]});if(t<l)return void o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Question ${String(t+1)} cannot refer to a question ${String(l+1)} that appears later in the survey`,path:["questions",t,"logic",n,"conditions"]});const b=((e,t)=>{let n=!1;const r=e.type;if(e.required&&"isSkipped"===t)return!0;switch(r){case"openText":switch(e.inputType){case"email":case"phone":case"text":case"url":["equals","doesNotEqual","contains","doesNotContain","startsWith","doesNotStartWith","endsWith","doesNotEndWith","isSubmitted","isSkipped"].includes(t)||(n=!0);break;case"number":["equals","doesNotEqual","isGreaterThan","isLessThan","isGreaterThanOrEqual","isLessThanOrEqual","isSubmitted","isSkipped"].includes(t)||(n=!0)}break;case"multipleChoiceSingle":["equals","doesNotEqual","equalsOneOf","isSubmitted","isSkipped"].includes(t)||(n=!0);break;case"multipleChoiceMulti":case"pictureSelection":["equals","doesNotEqual","includesAllOf","includesOneOf","isSubmitted","isSkipped"].includes(t)||(n=!0);break;case"nps":case"rating":["equals","doesNotEqual","isGreaterThan","isLessThan","isGreaterThanOrEqual","isLessThanOrEqual","isSubmitted","isSkipped"].includes(t)||(n=!0);break;case"cta":["isClicked","isSkipped"].includes(t)||(n=!0);break;case"consent":["isAccepted","isSkipped"].includes(t)||(n=!0);break;case"date":["equals","doesNotEqual","isBefore","isAfter","isSubmitted","isSkipped"].includes(t)||(n=!0);break;case"fileUpload":case"address":case"ranking":["isSubmitted","isSkipped"].includes(t)||(n=!0);break;case"cal":["isBooked","isSkipped"].includes(t)||(n=!0);break;case"matrix":["isPartiallySubmitted","isCompletelySubmitted","isSkipped"].includes(t)||(n=!0);break;default:n=!0}return n})(c,u);if(b&&o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Invalid operator "${u}" for question type "${c.type}" in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]}),["isSubmitted","isSkipped","isClicked","isAccepted","isBooked","isPartiallySubmitted","isCompletelySubmitted"].includes(u))return void(void 0!==f&&o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Right operand should not be defined for operator "${u}" in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]}));if("openText"===c.type)if("question"===(null==f?void 0:f.type)){const a=f.value,i=e.questions.find((e=>e.id===a));if(i){const e=["openText"];"number"===c.inputType&&e.push("rating","nps"),["equals","doesNotEqual"].includes(r.operator)&&"number"!==c.inputType&&e.push("date","multipleChoiceSingle","multipleChoiceMulti"),e.includes(i.type)||o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Invalid question type "${i.type}" for right operand in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}else o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Question ID ${s} does not exist in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}else if("variable"===(null==f?void 0:f.type)){const r=f.value;e.variables.find((e=>e.id===r))||o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Variable ID ${r} does not exist in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}else if("hiddenField"===(null==f?void 0:f.type)){const r=f.value;(null==(a=e.hiddenFields.fieldIds)?void 0:a.find((e=>e===r)))||o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Hidden field ID ${r} does not exist in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}else"static"===(null==f?void 0:f.type)&&(f.value||o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Static value is required in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]}));else if("multipleChoiceSingle"===c.type){if("static"!==(null==f?void 0:f.type))o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Right operand should be a static value for "${u}" in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]});else if("equals"===r.operator||"doesNotEqual"===r.operator)"string"!=typeof f.value?o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Right operand should be a string for "${u}" in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]}):c.choices.find((e=>e.id===f.value))||o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Choice with label "${f.value}" does not exist in question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]});else if("equalsOneOf"===r.operator)if(Array.isArray(f.value)){f.value.forEach((e=>{"string"!=typeof e&&o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Right operand should be an array of strings for "${u}" in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}));const e=c.choices.map((e=>e.id));f.value.some((t=>!e.includes(t)))&&o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Choices selected in right operand does not exist in the choices of the question in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}else o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Right operand should be an array for "${u}" in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}else if("multipleChoiceMulti"===c.type||"pictureSelection"===c.type){if("static"!==(null==f?void 0:f.type))o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Right operand should be amongst the choice values for "${u}" in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]});else if("equals"===r.operator||"doesNotEqual"===r.operator)"string"!=typeof f.value?o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Right operand should be a string for "${u}" in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]}):c.choices.find((e=>e.id===f.value))||o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Choice with label "${f.value}" does not exist in question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]});else if("includesAllOf"===r.operator||"includesOneOf"===r.operator)if(Array.isArray(f.value)){f.value.forEach((e=>{"string"!=typeof e&&o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Right operand should be an array of strings for "${u}" in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}));const e=c.choices.map((e=>e.id));f.value.some((t=>!e.includes(t)))&&o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Choices selected in right operand does not exist in the choices of the question in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}else o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Right operand should be an array for "${u}" in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}else if("nps"===c.type||"rating"===c.type)if("variable"===(null==f?void 0:f.type)){const r=f.value,a=e.variables.find((e=>e.id===r));a?"number"!==a.type&&o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Variable type should be number in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]}):o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Variable ID ${r} does not exist in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}else"static"===(null==f?void 0:f.type)?"number"!=typeof f.value?o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Right operand should be a number for "${u}" in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]}):"nps"===c.type?(f.value<0||f.value>10)&&o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: NPS score should be between 0 and 10 for "${u}" in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]}):(f.value<1||f.value>c.range)&&o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Rating value should be between 1 and ${String(c.range)} for "${u}" in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]}):o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Right operand should be a variable or a static value for "${u}" in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]});else if("date"===c.type)if("question"===(null==f?void 0:f.type)){const r=f.value;e.questions.find((e=>e.id===r))?["openText","date"].includes(c.type)||o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Invalid question type "${c.type}" for right operand in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]}):o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Question ID ${s} does not exist in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}else if("variable"===(null==f?void 0:f.type)){const r=f.value,a=e.variables.find((e=>e.id===r));a?"text"!==a.type&&o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Variable type should be text in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]}):o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Variable ID ${r} does not exist in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}else if("hiddenField"===(null==f?void 0:f.type)){const r=f.value;(null==(i=e.hiddenFields.fieldIds)?void 0:i.includes(r))||o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Hidden field ID ${r} does not exist in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}else if("static"===(null==f?void 0:f.type)){const e=f.value;e?isNaN(new Date(e).getTime())&&o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Invalid date format for right operand in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]}):o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Please select a date value in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}}else if("variable"===d.type){const r=d.value,a=e.variables.find((e=>e.id===r));if(a){const i=((e,t)=>{let n=!1;switch(e){case"text":["equals","doesNotEqual","contains","doesNotContain","startsWith","doesNotStartWith","endsWith","doesNotEndWith"].includes(t)||(n=!0);break;case"number":["equals","doesNotEqual","isGreaterThan","isLessThan","isGreaterThanOrEqual","isLessThanOrEqual"].includes(t)||(n=!0)}return n})(a.type,u);if(i&&o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Invalid operator "${u}" for variable ${a.name} of type "${a.type}" in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]}),"question"===(null==f?void 0:f.type)){const r=f.value,i=e.questions.find((e=>e.id===r));if(i)if("number"===a.type)["rating","nps"].includes(i.type)||o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Invalid question type "${i.type}" for right operand in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]});else{const e=["openText","multipleChoiceSingle"];["equals","doesNotEqual"].includes(u)&&e.push("multipleChoiceMulti","date"),e.includes(i.type)||o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Invalid question type "${i.type}" for right operand in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}else o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Question ID ${r} does not exist in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}else if("variable"===(null==f?void 0:f.type)){const i=f.value,s=e.variables.find((e=>e.id===i));s?a.type!==s.type&&o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Variable type mismatch in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]}):o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Variable ID ${r} does not exist in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}else if("hiddenField"===(null==f?void 0:f.type)){const r=f.value;(null==(s=e.hiddenFields.fieldIds)?void 0:s.find((e=>e===r)))||o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Hidden field ID ${r} does not exist in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}}else o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Variable ID ${r} does not exist in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}else{const a=d.value;(null==(l=e.hiddenFields.fieldIds)?void 0:l.find((e=>e===a)))||o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Hidden field ID ${a} does not exist in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]});const i=(e=>{let t=!1;return["equals","doesNotEqual","contains","doesNotContain","startsWith","doesNotStartWith","endsWith","doesNotEndWith"].includes(e)||(t=!0),t})(u);if(i&&o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Invalid operator "${u}" for hidden field in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]}),"question"===(null==f?void 0:f.type)){const a=f.value,i=e.questions.find((e=>e.id===a));if(i){const e=["openText","multipleChoiceSingle"];["equals","doesNotEqual"].includes(r.operator)&&e.push("multipleChoiceMulti","date"),e.includes(i.type)||o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Invalid question type "${i.type}" for right operand in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}else o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Question ID ${a} does not exist in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}else if("variable"===(null==f?void 0:f.type)){const r=f.value,a=e.variables.find((e=>e.id===r));a?"text"!==a.type&&o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Variable type should be text in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]}):o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Variable ID ${r} does not exist in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}else if("hiddenField"===(null==f?void 0:f.type)){const r=f.value;(null==(c=e.hiddenFields.fieldIds)?void 0:c.find((e=>e===r)))||o.push({code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Hidden field ID ${r} does not exist in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n,"conditions"]})}}})(r)}))};return a(r),o},ef=(e,t,n,r)=>{const o=e.questions.map((e=>e.id));return r.map((r=>{if("calculate"===r.objective){const o=e.variables.find((e=>e.id===r.variableId));if(!o)return{code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Variable ID ${r.variableId} does not exist in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n]};if("variable"===r.value.type){const a=e.variables.find((e=>e.id===r.value.value));if(!a||a.type!==o.type)return{code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Invalid variable type for variable in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n]}}if("text"===o.type){const o=wu.safeParse(r);if(!o.success)return{code:Tc.ZodIssueCode.custom,message:o.error.errors[0].message,path:["questions",t,"logic",n]};if("question"===r.value.type){const o=["openText","multipleChoiceSingle","rating","nps","date"],a=e.questions.find((e=>e.id===r.value.value));if(!a||!o.includes(a.type))return{code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Invalid question type for text variable in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n]}}return}const a=_u.safeParse(r);if(!a.success)return{code:Tc.ZodIssueCode.custom,message:a.error.errors[0].message,path:["questions",t,"logic",n]};if("question"===r.value.type){const o=["rating","nps"],a=e.questions.find((e=>e.id===r.value.value));if(!a||!o.includes(a.type))return{code:Tc.ZodIssueCode.custom,message:`Conditional Logic: Invalid question type for number variable in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n]}}}else{const a=e.endings.map((e=>e.id));if(!("jumpToQuestion"===r.objective?[...o,...a]:o).includes(r.target))return{code:Tc.ZodIssueCode.custom,message:`Question ID ${r.target} does not exist in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic"]};if("requireAnswer"===r.objective){if(!e.questions.filter((e=>!e.required)).map((e=>e.id)).includes(r.target)){const o=e.questions.findIndex((e=>e.id===r.target));return{code:Tc.ZodIssueCode.custom,message:`Question ${String(o+1)} is already required in logic no: ${String(n+1)} of question ${String(t+1)}`,path:["questions",t,"logic",n]}}}}})).filter((e=>void 0!==e))},tf=(e,t,n)=>n.map(((n,r)=>[...Ju(e,t,r,n.conditions),...ef(e,t,r,n.actions)])).flat();Xu.innerType().omit({createdAt:!0,updatedAt:!0}).and(Tc.object({createdAt:Tc.coerce.date(),updatedAt:Tc.coerce.date()})).superRefine("refinement"===Xu._def.effect.type?Xu._def.effect.refinement:()=>{});var nf;(nf=Xu.innerType(),nf.extend(Object.fromEntries(Object.entries(nf.shape).map((([e,t])=>[e,t.optional()]))))).omit({id:!0,createdAt:!0,updatedAt:!0,productOverwrites:!0,languages:!0}).extend({name:Tc.string(),questions:Xu.innerType().shape.questions,languages:Tc.array(Vu).default([]),welcomeCard:Qd.default({enabled:!1}),endings:zd.default([]),type:Ku.default("link")}).superRefine("refinement"===Xu._def.effect.type?Xu._def.effect.refinement:()=>null);const rf=Tc.object({type:Tc.literal("openText"),question:Ou,responseCount:Tc.number(),samples:Tc.array(Tc.object({id:Tc.string(),updatedAt:Tc.date(),value:Tc.string(),person:Tc.object({id:Yc,userId:Tc.string()}).nullable(),personAttributes:Wc.nullable()}))}),of=Tc.object({type:Tc.union([Tc.literal("multipleChoiceMulti"),Tc.literal("multipleChoiceSingle")]),question:Au,responseCount:Tc.number(),choices:Tc.array(Tc.object({value:Tc.string(),count:Tc.number(),percentage:Tc.number(),others:Tc.array(Tc.object({value:Tc.string(),person:Tc.object({id:Yc,userId:Tc.string()}).nullable(),personAttributes:Wc.nullable()})).optional()}))}),af=Tc.object({type:Tc.literal("pictureSelection"),question:Pu,responseCount:Tc.number(),choices:Tc.array(Tc.object({id:Tc.string(),imageUrl:Tc.string(),count:Tc.number(),percentage:Tc.number()}))}),sf=Tc.object({type:Tc.literal("rating"),question:Mu,responseCount:Tc.number(),average:Tc.number(),choices:Tc.array(Tc.object({rating:Tc.number(),count:Tc.number(),percentage:Tc.number()})),dismissed:Tc.object({count:Tc.number()})}),lf=Tc.object({type:Tc.literal("nps"),question:Du,responseCount:Tc.number(),total:Tc.number(),score:Tc.number(),promoters:Tc.object({count:Tc.number(),percentage:Tc.number()}),passives:Tc.object({count:Tc.number(),percentage:Tc.number()}),detractors:Tc.object({count:Tc.number(),percentage:Tc.number()}),dismissed:Tc.object({count:Tc.number(),percentage:Tc.number()})}),cf=Tc.object({type:Tc.literal("cta"),question:qu,impressionCount:Tc.number(),clickCount:Tc.number(),skipCount:Tc.number(),responseCount:Tc.number(),ctr:Tc.object({count:Tc.number(),percentage:Tc.number()})}),df=Tc.object({type:Tc.literal("consent"),question:Tu,responseCount:Tc.number(),accepted:Tc.object({count:Tc.number(),percentage:Tc.number()}),dismissed:Tc.object({count:Tc.number(),percentage:Tc.number()})}),uf=Tc.object({type:Tc.literal("date"),question:$u,responseCount:Tc.number(),samples:Tc.array(Tc.object({id:Tc.string(),updatedAt:Tc.date(),value:Tc.string(),person:Tc.object({id:Yc,userId:Tc.string()}).nullable(),personAttributes:Wc.nullable()}))}),ff=Tc.object({type:Tc.literal("fileUpload"),question:Ru,responseCount:Tc.number(),files:Tc.array(Tc.object({id:Tc.string(),updatedAt:Tc.date(),value:Tc.array(Tc.string()),person:Tc.object({id:Yc,userId:Tc.string()}).nullable(),personAttributes:Wc.nullable()}))}),bf=Tc.object({type:Tc.literal("cal"),question:Uu,responseCount:Tc.number(),booked:Tc.object({count:Tc.number(),percentage:Tc.number()}),skipped:Tc.object({count:Tc.number(),percentage:Tc.number()})}),pf=Tc.object({type:Tc.literal("matrix"),question:Bu,responseCount:Tc.number(),data:Tc.array(Tc.object({rowLabel:Tc.string(),columnPercentages:Tc.record(Tc.string(),Tc.number()),totalResponsesForRow:Tc.number()}))}),hf=Tc.object({type:Tc.literal("hiddenField"),id:Tc.string(),responseCount:Tc.number(),samples:Tc.array(Tc.object({updatedAt:Tc.date(),value:Tc.string(),person:Tc.object({id:Yc,userId:Tc.string()}).nullable(),personAttributes:Wc.nullable()}))}),mf=Tc.object({type:Tc.literal("address"),question:Zu,responseCount:Tc.number(),samples:Tc.array(Tc.object({id:Tc.string(),updatedAt:Tc.date(),value:Tc.array(Tc.string()),person:Tc.object({id:Yc,userId:Tc.string()}).nullable(),personAttributes:Wc.nullable()}))}),gf=Tc.object({type:Tc.literal("contactInfo"),question:zu,responseCount:Tc.number(),samples:Tc.array(Tc.object({id:Tc.string(),updatedAt:Tc.date(),value:Tc.array(Tc.string()),person:Tc.object({id:Yc,userId:Tc.string()}).nullable(),personAttributes:Wc.nullable()}))}),vf=Tc.object({type:Tc.literal("ranking"),question:Wu,responseCount:Tc.number(),choices:Tc.array(Tc.object({value:Tc.string(),count:Tc.number(),avgRanking:Tc.number(),others:Tc.array(Tc.object({value:Tc.string(),person:Tc.object({id:Yc,userId:Tc.string()}).nullable(),personAttributes:Wc.nullable()})).optional()}))}),yf=Tc.union([rf,of,af,sf,lf,cf,df,uf,ff,bf,pf,mf,vf,gf]);Tc.object({meta:Tc.object({displayCount:Tc.number(),totalResponses:Tc.number(),startsPercentage:Tc.number(),completedResponses:Tc.number(),completedPercentage:Tc.number(),dropOffCount:Tc.number(),dropOffPercentage:Tc.number(),ttcAverage:Tc.number()}),dropOff:Tc.array(Tc.object({questionId:Tc.string().cuid2(),headline:Tc.string(),ttc:Tc.number(),impressions:Tc.number(),dropOffCount:Tc.number(),dropOffPercentage:Tc.number()})),summary:Tc.array(Tc.union([yf,hf]))}),Tc.object({name:Tc.string().optional(),status:Tc.array(Gu).optional(),type:Tc.array(Ku).optional(),createdBy:Tc.object({userId:Tc.string(),value:Tc.array(Tc.enum(["you","others"]))}).optional(),sortBy:Tc.enum(["createdAt","updatedAt","name","relevance"]).optional()}),Tc.object({name:Tc.string(),createdBy:Tc.array(Tc.enum(["you","others"])),status:Tc.array(Gu),type:Tc.array(Ku),sortBy:Tc.enum(["createdAt","updatedAt","name","relevance"])}),Tc.object({label:Tc.string(),value:Tc.string()}),Tc.object({label:Tc.string(),value:Tc.enum(["createdAt","updatedAt","name","relevance"])}),Tc.object({id:Tc.string(),label:Tc.string(),type:Tc.enum(["question","hiddenField","attributeClass","variable"])}),Tc.object({products:Tc.array(Tc.object({product:Tc.string(),environments:Tc.array(Tc.string())}))});const wf=({question:e,value:t,onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,prefilledQuestionValue:l,skipPrefilled:c,ttc:d,setTtc:u,surveyId:f,onFileUpload:b,autoFocusEnabled:p,currentQuestionId:h})=>{return t||!l&&""!==l||(c?r({[e.id]:l},{[e.id]:0}):n({[e.id]:l})),e.type===Wd.OpenText?B(Gi,{question:e,value:"string"==typeof t?t:"",onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:d,setTtc:u,autoFocusEnabled:p,currentQuestionId:h},e.id):e.type===Wd.MultipleChoiceSingle?B(Yi,{question:e,value:"string"==typeof t?t:void 0,onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:d,setTtc:u,autoFocusEnabled:p,currentQuestionId:h},e.id):e.type===Wd.MultipleChoiceMulti?B(Vi,{question:e,value:Array.isArray(t)?t:[],onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:d,setTtc:u,autoFocusEnabled:p,currentQuestionId:h},e.id):e.type===Wd.NPS?B(Ki,{question:e,value:"number"==typeof t?t:void 0,onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:d,setTtc:u,autoFocusEnabled:p,currentQuestionId:h},e.id):e.type===Wd.CTA?B(Ft,{question:e,value:"string"==typeof t?t:"",onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:d,setTtc:u,autoFocusEnabled:p,currentQuestionId:h},e.id):e.type===Wd.Rating?B(ds,{question:e,value:"number"==typeof t?t:void 0,onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:d,setTtc:u,autoFocusEnabled:p,currentQuestionId:h},e.id):e.type===Wd.Consent?B(Ht,{question:e,value:"string"==typeof t?t:"",onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:d,setTtc:u,autoFocusEnabled:p,currentQuestionId:h},e.id):e.type===Wd.Date?B(si,{question:e,value:"string"==typeof t?t:"",onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:d,setTtc:u,autoFocusEnabled:p,currentQuestionId:h},e.id):e.type===Wd.PictureSelection?B(Xi,{question:e,value:Array.isArray(t)?t:[],onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:d,setTtc:u,autoFocusEnabled:p,currentQuestionId:h},e.id):e.type===Wd.FileUpload?B(Hi,{surveyId:f,question:e,value:Array.isArray(t)?t:[],onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,onFileUpload:b,languageCode:s,ttc:d,setTtc:u,autoFocusEnabled:p,currentQuestionId:h},e.id):e.type===Wd.Cal?B(Wt,{question:e,value:"string"==typeof t?t:"",onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:d,autoFocusEnabled:p,setTtc:u,currentQuestionId:h},e.id):e.type===Wd.Matrix?B(Qi,{question:e,value:"object"!=typeof t||Array.isArray(t)?{}:t,onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:d,setTtc:u,currentQuestionId:h}):e.type===Wd.Address?B(Ut,{question:e,value:Array.isArray(t)?t:void 0,onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:d,setTtc:u,currentQuestionId:h}):e.type===Wd.Ranking?B(Ji,{question:e,value:Array.isArray(t)?(m=t,g=e.choices,m.map((e=>{var t;return null==(t=g.find((t=>Ue(t.label,s)===e)))?void 0:t.id})).filter((e=>void 0!==e))):[],onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:d,setTtc:u,autoFocusEnabled:p,currentQuestionId:h}):e.type===Wd.ContactInfo?B(Qt,{question:e,value:Array.isArray(t)?t:void 0,onChange:n,onSubmit:r,onBack:o,isFirstQuestion:a,isLastQuestion:i,languageCode:s,ttc:d,setTtc:u,currentQuestionId:h}):null;var m,g},_f=e=>{switch(typeof e){case"string":return e;case"number":return e.toString();case"object":if(Array.isArray(e))return e=e.filter((e=>null!=e&&""!==e)).join(", ");return Object.entries(e).filter((([e,t])=>""!==t)).map((([e,t])=>`${e}: ${t}`)).join("\n");default:return""}},xf=({questions:e,responseData:t,onRetry:n})=>B("div",{className:"fb-flex fb-flex-col fb-bg-white fb-p-4s",children:[B("span",{className:"fb-mb-1.5 fb-text-base fb-font-bold fb-leading-6 fb-text-slate-900",children:"Your feedback is stuck :("}),B("p",{className:"fb-max-w-md fb-text-sm fb-font-normal fb-leading-6 fb-text-slate-600",children:["The servers cannot be reached at the moment.",B("br",{}),"Please retry now or try again later."]}),B("div",{className:"fb-mt-4 fb-rounded-lg fb-border fb-border-slate-200 fb-bg-slate-100 fb-px-4 fb-py-5",children:B("div",{className:"fb-flex fb-max-h-36 fb-flex-1 fb-flex-col fb-space-y-3 fb-overflow-y-scroll",children:e.map(((e,n)=>{const r=t[e.id];if(r)return B("div",{className:"fb-flex fb-flex-col",children:[B("span",{className:"fb-text-sm fb-leading-6 fb-text-slate-900",children:`Question ${n+1}`}),B("span",{className:"fb-mt-1 fb-text-sm fb-font-semibold fb-leading-6 fb-text-slate-900",children:_f(r)})]})}))})}),B("div",{className:"fb-mt-4 fb-flex fb-flex-1 fb-flex-row fb-items-center fb-justify-end fb-space-x-2",children:B(he,{tabIndex:2,buttonLabel:"Retry",isLastQuestion:!1,onClick:()=>n()})})]}),kf=({onClose:e})=>B("div",{class:"fb-z-[1001] fb-flex fb-w-fit fb-items-center even:fb-border-l even:fb-pl-1",children:B("button",{type:"button",onClick:e,class:"fb-text-heading fb-relative fb-h-5 fb-w-5 fb-rounded-md hover:fb-bg-black/5 focus:fb-outline-none focus:fb-ring-2 focus:fb-ring-offset-2",children:B("svg",{class:"fb-h-5 fb-w-5 fb-p-0.5",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1",stroke:"currentColor","aria-hidden":"true",children:B("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4L20 20M4 20L20 4"})})})}),Cf=()=>B("div",{className:"fb-mr-1",children:B("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-stopwatch",viewBox:"0 0 16 16",children:[B("path",{d:"M8.5 5.6a.5.5 0 1 0-1 0v2.9h-3a.5.5 0 0 0 0 1H8a.5.5 0 0 0 .5-.5V5.6z"}),B("path",{d:"M6.5 1A.5.5 0 0 1 7 .5h2a.5.5 0 0 1 0 1v.57c1.36.196 2.594.78 3.584 1.64a.715.715 0 0 1 .012-.013l.354-.354-.354-.353a.5.5 0 0 1 .707-.708l1.414 1.415a.5.5 0 1 1-.707.707l-.353-.354-.354.354a.512.512 0 0 1-.013.012A7 7 0 1 1 7 2.071V1.5a.5.5 0 0 1-.5-.5zM8 3a6 6 0 1 0 .001 12A6 6 0 0 0 8 3z"})]})}),jf=()=>B("div",{className:"fb-mr-1",children:B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",class:"fb-h-4 fb-w-4",children:B("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})})}),Sf=({headline:e,html:t,fileUrl:n,buttonLabel:r,onSubmit:o,languageCode:a,survey:i,responseCount:s,autoFocusEnabled:l,isCurrent:c,responseData:d,variablesData:u})=>{const f=()=>{let e=we(i,0);.5===e&&(e=1);const t=i.questions.length/e*15;if(t>360)return"6+ minutes";const n=Math.floor(t/60);return t%60>0?0===n?"less than 1 minute":`less than ${n+1} minutes`:`${n} minutes`},b=i.welcomeCard.timeToFinish,p=i.welcomeCard.showResponseCount,h=()=>{o({welcomeCard:"clicked"},{})};return re((()=>{const e=e=>{"Enter"===e.key&&h()};return c&&"link"===i.type?document.addEventListener("keydown",e):document.removeEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[c]),B("div",{children:[B(Ie,{children:B("div",{children:[n&&B("img",{src:n,className:"fb-mb-8 fb-max-h-96 fb-w-1/3 fb-rounded-lg fb-object-contain",alt:"Company Logo"}),B(me,{headline:Ye(Ue(e,a),d,u),questionId:"welcomeCard"}),B(Bt,{htmlString:Ye(Ue(t,a),d,u),questionId:"welcomeCard"})]})}),B("div",{className:"fb-mx-6 fb-mt-4 fb-flex fb-gap-4 fb-py-4",children:B(he,{buttonLabel:Ue(r,a),isLastQuestion:!1,focus:l,onClick:h,type:"button",onKeyDown:e=>"Enter"===e.key&&e.preventDefault()})}),b&&!p?B("div",{className:"fb-items-center fb-text-subheading fb-my-4 fb-ml-6 fb-flex",children:[B(Cf,{}),B("p",{className:"fb-pt-1 fb-text-xs",children:B("span",{children:[" Takes ",f()," "]})})]}):p&&!b&&s&&s>3?B("div",{className:"fb-items-center fb-text-subheading fb-my-4 fb-ml-6 fb-flex",children:[B(jf,{}),B("p",{className:"fb-pt-1 fb-text-xs",children:B("span",{children:`${s} people responded`})})]}):b&&p?B("div",{className:"fb-items-center fb-text-subheading fb-my-4 fb-ml-6 fb-flex",children:[B(Cf,{}),B("p",{className:"fb-pt-1 fb-text-xs",children:[B("span",{children:[" Takes ",f()," "]}),B("span",{children:s&&s>3?`⋅ ${s} people responded`:""})]})]}):null]})},Nf=({autoCloseTimeout:e})=>B("div",{className:"fb-bg-accent-bg fb-h-2 fb-w-full fb-overflow-hidden fb-rounded-full",children:B("div",{className:"fb-bg-brand fb-z-20 fb-h-2 fb-rounded-full",style:{animation:`shrink-width-to-zero ${e}s linear forwards`}},e)}),Lf=({survey:e,onClose:t,children:n,offset:r})=>{const[o,a]=ne(!0),i=ae(null),s="app"===e.type,l=o&&s&&0===r,c=()=>{a(!1),i.current&&(clearTimeout(i.current),i.current=null)};return re((()=>(e.autoClose&&(i.current&&c(),a(!0),i.current=setTimeout((()=>{t(),a(!1)}),1e3*e.autoClose)),c)),[e.autoClose]),B("div",{className:"fb-h-full fb-w-full",children:[e.autoClose&&l&&B(Nf,{autoCloseTimeout:e.autoClose}),B("div",{onClick:c,onMouseOver:c,className:"fb-h-full fb-w-full",children:n})]})},If=({cardArrangement:e,currentQuestionId:t,survey:n,getCardContent:r,styling:o,setQuestionId:a,shouldResetQuestionId:i=!0,fullSizeCards:s=!1})=>{var l,c,d,u,f,b;const[p,h]=ne(!1),m=(null==(c=null==(l=n.styling)?void 0:l.highlightBorderColor)?void 0:c.light)||(null==(d=o.highlightBorderColor)?void 0:d.light),g=(null==(f=null==(u=n.styling)?void 0:u.cardBorderColor)?void 0:f.light)||(null==(b=o.cardBorderColor)?void 0:b.light),v=ae([]),y=ae(null),[w,_]=ne("auto"),[x,k]=ne(0),C=ie((()=>"start"===t?n.welcomeCard.enabled?-1:0:n.questions.map((e=>e.id)).includes(t)?n.questions.findIndex((e=>e.id===t)):n.questions.length),[t,n.welcomeCard.enabled,n.questions.length]),[j,S]=ne(C-1),[N,L]=ne(C),[I,O]=ne(C+1),[T,E]=ne([]);re((()=>{C>N?(S(N),L(C),O(C+1),E((e=>[...e,N]))):C<N&&(O(N),L(C),S(T[T.length-2]),E((e=>{if(e.length>0){return e.slice(0,-1)}return e})))}),[C]);const A=ie((()=>({border:"1px solid",borderRadius:"var(--fb-border-radius)",borderColor:"link"!==n.type&&m?m:g})),[n.type,g,m]),D=ie((()=>{const t=x>=1e3?1.5:x>650?2:3;return n=>{switch(e){case"casual":return n<0?"translateX(33%)":`translateX(0) rotate(-${(p?t:t-.5)*n}deg)`;case"straight":return n<0?"translateY(25%)":`translateY(-${(p?12:10)*n}px)`;default:return"translateX(0)"}}}),[e,p,x]),q=t=>{if("straight"===e)return{width:(100-5*t>=100?100:100-5*t)+"%",margin:"auto"}};re((()=>{const e=setTimeout((()=>{const e=v.current[C];e&&(y.current&&y.current.disconnect(),y.current=new ResizeObserver((e=>{for(const t of e)_(t.contentRect.height+"px"),k(t.contentRect.width)})),y.current.observe(e))}),0);return()=>{var t;null==(t=y.current)||t.disconnect(),clearTimeout(e)}}),[C,e,v]),re((()=>{var e;i&&a(n.welcomeCard.enabled?"start":null==(e=null==n?void 0:n.questions[0])?void 0:e.id)}),[e]);const M=e=>0===e?"auto":e<0?"initial":w,$=()=>{if("link"!==n.type)return{bottom:0}};return B("div",{className:"fb-relative fb-flex fb-h-full fb-items-end fb-justify-center md:fb-items-center",onMouseEnter:()=>{h(!0)},onMouseLeave:()=>h(!1),children:[B("div",{style:{height:w}}),"simple"===e?B("div",{id:`questionCard-${C}`,className:ge("fb-w-full fb-bg-survey-bg",s?"fb-h-full":""),style:{...A},children:r(C,0)}):void 0!==C&&[j,N,I,I+1].map(((e,t)=>{const o=n.endings.length>0;if(e>n.questions.length+(o?0:-1))return;const a=t-1,i=a<0;return B("div",{ref:t=>v.current[e]=t,id:`questionCard-${e}`,style:{zIndex:1e3-e,transform:`${D(a)}`,opacity:i?0:(100-0*a)/100,height:s?"100%":M(a),transitionDuration:"600ms",pointerEvents:0===a?"auto":"none",...A,...q(a),...$()},className:"fb-pointer fb-rounded-custom fb-bg-survey-bg fb-absolute fb-inset-x-0 fb-backdrop-blur-md fb-transition-all fb-ease-in-out",children:r(e,a)},e)}))]})};var Of={},Tf={};function Ef(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function Af(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function Df(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function qf(e,...t){if(!Df(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Mf(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Ef(e.outputLen),Ef(e.blockLen)}function $f(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Pf(e,t){qf(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.isBytes=Df,Tf.number=Ef,Tf.bool=Af,Tf.bytes=qf,Tf.hash=Mf,Tf.exists=$f,Tf.output=Pf;const Rf={number:Ef,bool:Af,bytes:qf,hash:Mf,exists:$f,output:Pf};Tf.default=Rf;var Uf={};Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.add5L=Uf.add5H=Uf.add4H=Uf.add4L=Uf.add3H=Uf.add3L=Uf.rotlBL=Uf.rotlBH=Uf.rotlSL=Uf.rotlSH=Uf.rotr32L=Uf.rotr32H=Uf.rotrBL=Uf.rotrBH=Uf.rotrSL=Uf.rotrSH=Uf.shrSL=Uf.shrSH=Uf.toBig=void 0,Uf.fromBig=Zf,Uf.split=zf,Uf.add=ob;const Bf=BigInt(2**32-1),Ff=BigInt(32);function Zf(e,t=!1){return t?{h:Number(e&Bf),l:Number(e>>Ff&Bf)}:{h:0|Number(e>>Ff&Bf),l:0|Number(e&Bf)}}function zf(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:a,l:i}=Zf(e[o],t);[n[o],r[o]]=[a,i]}return[n,r]}const Wf=(e,t)=>BigInt(e>>>0)<<Ff|BigInt(t>>>0);Uf.toBig=Wf;const Hf=(e,t,n)=>e>>>n;Uf.shrSH=Hf;const Qf=(e,t,n)=>e<<32-n|t>>>n;Uf.shrSL=Qf;const Vf=(e,t,n)=>e>>>n|t<<32-n;Uf.rotrSH=Vf;const Yf=(e,t,n)=>e<<32-n|t>>>n;Uf.rotrSL=Yf;const Kf=(e,t,n)=>e<<64-n|t>>>n-32;Uf.rotrBH=Kf;const Gf=(e,t,n)=>e>>>n-32|t<<64-n;Uf.rotrBL=Gf;const Xf=(e,t)=>t;Uf.rotr32H=Xf;const Jf=(e,t)=>e;Uf.rotr32L=Jf;const eb=(e,t,n)=>e<<n|t>>>32-n;Uf.rotlSH=eb;const tb=(e,t,n)=>t<<n|e>>>32-n;Uf.rotlSL=tb;const nb=(e,t,n)=>t<<n-32|e>>>64-n;Uf.rotlBH=nb;const rb=(e,t,n)=>e<<n-32|t>>>64-n;function ob(e,t,n,r){const o=(t>>>0)+(r>>>0);return{h:e+n+(o/2**32|0)|0,l:0|o}}Uf.rotlBL=rb;const ab=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0);Uf.add3L=ab;const ib=(e,t,n,r)=>t+n+r+(e/2**32|0)|0;Uf.add3H=ib;const sb=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0);Uf.add4L=sb;const lb=(e,t,n,r,o)=>t+n+r+o+(e/2**32|0)|0;Uf.add4H=lb;const cb=(e,t,n,r,o)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(o>>>0);Uf.add5L=cb;const db=(e,t,n,r,o,a)=>t+n+r+o+a+(e/2**32|0)|0;Uf.add5H=db;const ub={fromBig:Zf,split:zf,toBig:Wf,shrSH:Hf,shrSL:Qf,rotrSH:Vf,rotrSL:Yf,rotrBH:Kf,rotrBL:Gf,rotr32H:Xf,rotr32L:Jf,rotlSH:eb,rotlSL:tb,rotlBH:nb,rotlBL:rb,add:ob,add3L:ab,add3H:ib,add4L:sb,add4H:lb,add5H:db,add5L:cb};Uf.default=ub;var fb={},bb={};Object.defineProperty(bb,"__esModule",{value:!0}),bb.crypto=void 0,bb.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(e,"__esModule",{value:!0}),e.Hash=e.nextTick=e.byteSwapIfBE=e.byteSwap=e.isLE=e.rotl=e.rotr=e.createView=e.u32=e.u8=void 0,e.isBytes=function(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name},e.byteSwap32=function(t){for(let n=0;n<t.length;n++)t[n]=(0,e.byteSwap)(t[n])},e.bytesToHex=function(e){(0,n.bytes)(e);let t="";for(let n=0;n<e.length;n++)t+=r[e[n]];return t},e.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let o=0,i=0;o<n;o++,i+=2){const t=a(e.charCodeAt(i)),n=a(e.charCodeAt(i+1));if(void 0===t||void 0===n){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[o]=16*t+n}return r},e.asyncLoop=async function(t,n,r){let o=Date.now();for(let a=0;a<t;a++){r(a);const t=Date.now()-o;t>=0&&t<n||(await(0,e.nextTick)(),o+=t)}},e.utf8ToBytes=i,e.toBytes=s,e.concatBytes=function(...e){let t=0;for(let o=0;o<e.length;o++){const r=e[o];(0,n.bytes)(r),t+=r.length}const r=new Uint8Array(t);for(let n=0,o=0;n<e.length;n++){const t=e[n];r.set(t,o),o+=t.length}return r},e.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==l.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},e.wrapConstructor=function(e){const t=t=>e().update(s(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},e.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(s(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},e.wrapXOFConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(s(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},e.randomBytes=function(e=32){if(t.crypto&&"function"==typeof t.crypto.getRandomValues)return t.crypto.getRandomValues(new Uint8Array(e));if(t.crypto&&"function"==typeof t.crypto.randomBytes)return t.crypto.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")};const t=bb,n=Tf;e.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);e.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));e.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);e.rotr=(e,t)=>e<<32-t|e>>>t;e.rotl=(e,t)=>e<<t|e>>>32-t>>>0,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];e.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,e.byteSwapIfBE=e.isLE?e=>e:t=>(0,e.byteSwap)(t);const r=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));const o={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(e){return e>=o._0&&e<=o._9?e-o._0:e>=o._A&&e<=o._F?e-(o._A-10):e>=o._a&&e<=o._f?e-(o._a-10):void 0}function i(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function s(e){return"string"==typeof e&&(e=i(e)),(0,n.bytes)(e),e}e.nextTick=async()=>{};e.Hash=class{clone(){return this._cloneInto()}};const l={}.toString}(fb),Object.defineProperty(Of,"__esModule",{value:!0}),Of.shake256=Of.shake128=Of.keccak_512=Of.keccak_384=Of.keccak_256=Of.keccak_224=Of.sha3_512=Of.sha3_384=Of.sha3_256=Of.sha3_224=Of.Keccak=void 0,Of.keccakP=Ob;const pb=Tf,hb=Uf,mb=fb,gb=[],vb=[],yb=[],wb=BigInt(0),_b=BigInt(1),xb=BigInt(2),kb=BigInt(7),Cb=BigInt(256),jb=BigInt(113);for(let op=0,ap=_b,ip=1,sp=0;op<24;op++){[ip,sp]=[sp,(2*ip+3*sp)%5],gb.push(2*(5*sp+ip)),vb.push((op+1)*(op+2)/2%64);let e=wb;for(let t=0;t<7;t++)ap=(ap<<_b^(ap>>kb)*jb)%Cb,ap&xb&&(e^=_b<<(_b<<BigInt(t))-_b);yb.push(e)}const[Sb,Nb]=(0,hb.split)(yb,!0),Lb=(e,t,n)=>n>32?(0,hb.rotlBH)(e,t,n):(0,hb.rotlSH)(e,t,n),Ib=(e,t,n)=>n>32?(0,hb.rotlBL)(e,t,n):(0,hb.rotlSL)(e,t,n);function Ob(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,o=(r+2)%10,a=n[o],i=n[o+1],s=Lb(a,i,1)^n[t],l=Ib(a,i,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=s,e[r+n+1]^=l}let t=e[2],o=e[3];for(let n=0;n<24;n++){const r=vb[n],a=Lb(t,o,r),i=Ib(t,o,r),s=gb[n];t=e[s],o=e[s+1],e[s]=a,e[s+1]=i}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=Sb[r],e[1]^=Nb[r]}n.fill(0)}class Tb extends mb.Hash{constructor(e,t,n,r=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,pb.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,mb.u32)(this.state)}keccak(){mb.isLE||(0,mb.byteSwap32)(this.state32),Ob(this.state32,this.rounds),mb.isLE||(0,mb.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,pb.exists)(this);const{blockLen:t,state:n}=this,r=(e=(0,mb.toBytes)(e)).length;for(let o=0;o<r;){const a=Math.min(t-this.pos,r-o);for(let t=0;t<a;t++)n[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){(0,pb.exists)(this,!1),(0,pb.bytes)(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,o=e.length;r<o;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,o-r);e.set(t.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,pb.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,pb.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:o,enableXOF:a}=this;return e||(e=new Tb(t,n,r,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=r,e.enableXOF=a,e.destroyed=this.destroyed,e}}Of.Keccak=Tb;const Eb=(e,t,n)=>(0,mb.wrapConstructor)((()=>new Tb(t,e,n)));Of.sha3_224=Eb(6,144,28),Of.sha3_256=Eb(6,136,32),Of.sha3_384=Eb(6,104,48),Of.sha3_512=Eb(6,72,64),Of.keccak_224=Eb(1,144,28),Of.keccak_256=Eb(1,136,32),Of.keccak_384=Eb(1,104,48),Of.keccak_512=Eb(1,72,64);const Ab=(e,t,n)=>(0,mb.wrapXOFConstructorWithOpts)(((r={})=>new Tb(t,e,void 0===r.dkLen?n:r.dkLen,!0)));Of.shake128=Ab(31,168,16),Of.shake256=Ab(31,136,32);const{sha3_512:Db}=Of;Array.from({length:26},((e,t)=>String.fromCharCode(t+97)));const qb=(e,t,n,r,o)=>{const a=r=>{const i=r.conditions.map((r=>(e=>void 0!==e.connector)(r)?a(r):Mb(e,t,n,r,o)));return"or"===r.connector?i.some((e=>e)):i.every((e=>e))};return a(r)},Mb=(e,t,n,r,o)=>{var a,i,s,l,c,d,u,f,b;try{let p,h,m=Pb(e,t,n,r.leftOperand,o),g=r.rightOperand?Rb(e,t,n,r.rightOperand):void 0;switch(p="question"===(null==(a=r.leftOperand)?void 0:a.type)?e.questions.find((e=>{var t;return e.id===(null==(t=r.leftOperand)?void 0:t.value)})):"variable"===(null==(i=r.leftOperand)?void 0:i.type)?e.variables.find((e=>{var t;return e.id===(null==(t=r.leftOperand)?void 0:t.value)})):"hiddenField"===(null==(s=r.leftOperand)?void 0:s.type)?r.leftOperand.value:"",h="question"===(null==(l=r.rightOperand)?void 0:l.type)?e.questions.find((e=>{var t;return e.id===(null==(t=r.rightOperand)?void 0:t.value)})):"variable"===(null==(c=r.rightOperand)?void 0:c.type)?e.variables.find((e=>{var t;return e.id===(null==(t=r.rightOperand)?void 0:t.value)})):"hiddenField"===(null==(d=r.rightOperand)?void 0:d.type)?r.rightOperand.value:"","variable"===r.leftOperand.type&&"number"===p.type&&"hiddenField"===(null==(u=r.rightOperand)?void 0:u.type)&&(g=Number(g)),r.operator){case"equals":if("question"===r.leftOperand.type&&p.type===Wd.Date&&"string"==typeof m&&"string"==typeof g)return new Date(m).getTime()===new Date(g).getTime();if("question"===(null==(f=r.rightOperand)?void 0:f.type)){if(h.type===Wd.MultipleChoiceMulti)return!(!Array.isArray(g)||"string"!=typeof m||1!==g.length)&&g.includes(m);if(h.type===Wd.Date&&"string"==typeof m&&"string"==typeof g)return new Date(m).getTime()===new Date(g).getTime()}return Array.isArray(m)&&1===m.length&&"string"==typeof g&&m.includes(g)||m===g;case"doesNotEqual":if("question"===r.leftOperand.type&&p.type===Wd.PictureSelection&&Array.isArray(m)&&m.length>0&&"string"==typeof g)return!m.includes(g);if("question"===r.leftOperand.type&&p.type===Wd.Date&&"string"==typeof m&&"string"==typeof g)return new Date(m).getTime()!==new Date(g).getTime();if("question"===(null==(b=r.rightOperand)?void 0:b.type)){if(h.type===Wd.MultipleChoiceMulti)return!(!Array.isArray(g)||"string"!=typeof m||1!==g.length)&&!g.includes(m);if(h.type===Wd.Date&&"string"==typeof m&&"string"==typeof g)return new Date(m).getTime()!==new Date(g).getTime()}return Array.isArray(m)&&1===m.length&&"string"==typeof g&&!m.includes(g)||m!==g;case"contains":return String(m).includes(String(g));case"doesNotContain":return!String(m).includes(String(g));case"startsWith":return String(m).startsWith(String(g));case"doesNotStartWith":return!String(m).startsWith(String(g));case"endsWith":return String(m).endsWith(String(g));case"doesNotEndWith":return!String(m).endsWith(String(g));case"isSubmitted":return"string"==typeof m?"question"===r.leftOperand.type&&p.type===Wd.FileUpload&&m?"skipped"!==m:""!==m&&null!==m:Array.isArray(m)?m.length>0:"number"==typeof m&&null!==m;case"isSkipped":return Array.isArray(m)&&0===m.length||""===m||null==m||"object"==typeof m&&0===Object.entries(m).length;case"isGreaterThan":return Number(m)>Number(g);case"isLessThan":return Number(m)<Number(g);case"isGreaterThanOrEqual":return Number(m)>=Number(g);case"isLessThanOrEqual":return Number(m)<=Number(g);case"equalsOneOf":return Array.isArray(g)&&"string"==typeof m&&g.includes(m);case"includesAllOf":return Array.isArray(m)&&Array.isArray(g)&&g.every((e=>m.includes(e)));case"includesOneOf":return Array.isArray(m)&&Array.isArray(g)&&g.some((e=>m.includes(e)));case"isAccepted":return"accepted"===m;case"isClicked":return"clicked"===m;case"isAfter":return new Date(String(m))>new Date(String(g));case"isBefore":return new Date(String(m))<new Date(String(g));case"isBooked":return"booked"===m||!(!m||""===m);case"isPartiallySubmitted":return"object"==typeof m&&Object.values(m).includes("");case"isCompletelySubmitted":if("object"==typeof m){const e=Object.values(m);return e.length>0&&!e.includes("")}return!1;default:return!1}}catch(p){return!1}},$b=(e,t,n)=>{const r=e.find((e=>e.id===t));if(!r)return;const o=n[t];return"number"===r.type?Number(o)||0:o||""},Pb=(e,t,n,r,o)=>{var a;switch(r.type){case"question":const i=e.questions.find((e=>e.id===r.value));if(!i)return;const s=t[r.value];if("openText"===i.type&&"number"===i.inputType)return Number(s)||void 0;if("multipleChoiceSingle"===i.type||"multipleChoiceMulti"===i.type){const e="other"===(null==(a=i.choices.at(-1))?void 0:a.id);if("string"==typeof s){const t=i.choices.find((e=>Ue(e.label,o)===s));return t?t.id:e?"other":void 0}if(Array.isArray(s)){let t=[];if(s.forEach((n=>{const r=i.choices.find((e=>Ue(e.label,o)===n));r?t.push(r.id):e&&t.push("other")})),t)return Array.from(new Set(t))}}return t[r.value];case"variable":const l=e.variables||[];return $b(l,r.value,n);case"hiddenField":return t[r.value];default:return}},Rb=(e,t,n,r)=>{if(r)switch(r.type){case"question":case"hiddenField":return t[r.value];case"variable":const o=e.variables||[];return $b(o,r.value,n);case"static":return r.value;default:return}},Ub=(e,t,n,r)=>{let o;const a=[],i={...r};return t.forEach((t=>{switch(t.objective){case"calculate":const r=Bb(e,t,n,i);void 0!==r&&(i[t.variableId]=r);break;case"requireAnswer":a.push(t.target);break;case"jumpToQuestion":o||(o=t.target)}})),{jumpTarget:o,requiredQuestionIds:a,calculations:i}},Bb=(e,t,n,r)=>{const o=(e.variables||[]).find((e=>e.id===t.variableId));if(!o)return;let a,i,s=r[t.variableId];switch(void 0===s&&(s="number"===o.type?0:""),t.value.type){case"static":a=t.value.value;break;case"variable":const e=r[t.value.value];"number"!=typeof e&&"string"!=typeof e||(a=e);break;case"question":case"hiddenField":const i=n[t.value.value];"number"!=typeof i&&"string"!=typeof i||("number"!==o.type||isNaN(Number(i))||(a=Number(i)),a=i)}if(null!=a){switch(t.operator){case"add":i=Number(s)+Number(a);break;case"subtract":i=Number(s)-Number(a);break;case"multiply":i=Number(s)*Number(a);break;case"divide":if(0===Number(a))return;i=Number(s)/Number(a);break;case"assign":i=a;break;case"concat":i=String(s)+String(a)}return i}},Fb=({survey:e,styling:t,isBrandingEnabled:n,onDisplay:r=()=>{},onResponse:o=()=>{},onClose:a=()=>{},onFinished:i=()=>{},onRetry:s=()=>{},isRedirectDisabled:l=!1,prefillResponseData:c,skipPrefilled:d,languageCode:u,getSetIsError:f,getSetIsResponseSendingFinished:b,getSetQuestionId:p,getSetResponseData:h,onFileUpload:m,responseCount:g,startAtQuestionId:v,hiddenFieldsRecord:y,clickOutside:_,shouldResetQuestionId:x,fullSizeCards:k=!1,autoFocus:C})=>{var j,S;const[N,L]=ne(e);re((()=>{L(e)}),[e]);const I=void 0!==C?C:window.self===window.top,[O,T]=ne((()=>{var e;return v||(N.welcomeCard.enabled?"start":null==(e=null==N?void 0:N.questions[0])?void 0:e.id)})),[E,A]=ne(!1),[D,q]=ne(!b),[M,$]=ne(u),[P,R]=ne(!1),[U,F]=ne([]),[Z,z]=ne(y??{}),[W,H]=ne([]),[Q,V]=ne((()=>N.variables.reduce(((e,t)=>(e[t.id]=t.value,e)),{}))),[Y,K]=ne({}),G=ie((()=>N.questions.map((e=>e.id))),[N.questions]),X=ie((()=>{var e,n;return"link"===N.type?(null==(e=t.cardArrangement)?void 0:e.linkSurveys)??"straight":(null==(n=t.cardArrangement)?void 0:n.appSurveys)??"straight"}),[N.type,null==(j=t.cardArrangement)?void 0:j.linkSurveys,null==(S=t.cardArrangement)?void 0:S.appSurveys]),J=N.questions.findIndex((e=>e.id===O)),ee=ie((()=>{if(G.includes(O))return N.questions.find((e=>e.id===O));{const e=[...U].pop();return N.questions.find((t=>t.id===e))}}),[O,N,U]),te=ae(null),oe=!t.hideProgressBar,se=e=>0===e&&"link"!==N.type&&(void 0===_||_),le=e=>N.showLanguageSwitch&&N.languages.length>0&&e<=0;re((()=>{te.current&&(te.current.scrollTop=0)}),[O]),re((()=>{r()}),[]),re((()=>{f&&f((e=>{A(e)}))}),[f]),re((()=>{p&&p((e=>{T(e)}))}),[p]),re((()=>{h&&h((e=>{z(e)}))}),[h]),re((()=>{b&&b((e=>{q(e)}))}),[b]),re((()=>{$(u)}),[u]);let ce=J,de=ee;const ue=e=>{const t={...Z,...e};z(t)},fe=t=>{var n,r;const o=e.questions,a=e.endings.length>0?e.endings[0].id:void 0;if("start"===O)return{nextQuestionId:(null==(n=o[0])?void 0:n.id)||a,calculatedVariables:{}};if(!de)throw new Error("Question not found");let i;const s=[];let l={...Q};const c={...Z,...t};if(de.logic&&de.logic.length>0)for(const e of de.logic)if(qb(N,c,l,e.conditions,M)){const{jumpTarget:t,requiredQuestionIds:n,calculations:r}=Ub(N,e.actions,c,l);t&&!i&&(i=t),s.push(...n),l={...l,...r}}var d;s.length>0&&(d=s,L((e=>({...e,questions:e.questions.map((e=>d.includes(e.id)?{...e,required:!0}:e))}))));return{nextQuestionId:i||(null==(r=o[J+1])?void 0:r.id)||a,calculatedVariables:l}},be=(e,t)=>{const n=Object.keys(e)[0];R(!0),(e=>{H((t=>[...t,{questionId:e,variables:{...Q}}]))})(n);const{nextQuestionId:r,calculatedVariables:a}=fe(e),s=void 0===r||!N.questions.map((e=>e.id)).includes(r);ue(e),(e=>{const t={...Q,...e};V(t)})(a),o({data:e,ttc:t,finished:s,variables:a,language:M}),s&&(window.parent.postMessage("formbricksSurveyCompleted","*"),i()),r&&T(r),F([...U,n]),R(!1)},pe=()=>{var e;let t;if((null==U?void 0:U.length)>0){const e=[...U];t=e.pop(),F(e)}else t=null==(e=N.questions[ce-1])?void 0:e.id;if(H((e=>{const t=[...e],n=t.pop();return n&&V(n.variables),t})),!t)throw new Error("Question not found");T(t)},he=(e,t)=>{if(0===t&&c)return c[e]};return B(w,{children:B(If,{cardArrangement:X,currentQuestionId:O,getCardContent:(e,t)=>{if(E)return B(xf,{responseData:Z,questions:N.questions,onRetry:s});return B(Lf,{survey:N,onClose:a,offset:t,children:B("div",{className:ge("fb-no-scrollbar md:fb-rounded-custom fb-rounded-t-custom fb-bg-survey-bg fb-flex fb-h-full fb-w-full fb-flex-col fb-justify-between fb-overflow-hidden fb-transition-all fb-duration-1000 fb-ease-in-out","simple"===X?"fb-survey-shadow":"",0===t||"simple"===X?"fb-opacity-100":"fb-opacity-0"),children:[B("div",{className:"fb-flex fb-h-6 fb-justify-end fb-pr-2 fb-pt-2",children:[le(t)&&B(At,{surveyLanguages:N.languages,setSelectedLanguageCode:$}),se(t)&&B(kf,{onClose:a})]}),B("div",{ref:te,className:ge(P?"fb-animate-pulse fb-opacity-60":"",k?"":"fb-my-auto"),children:(()=>{var n;if(-1===e)return B(Sf,{headline:N.welcomeCard.headline,html:N.welcomeCard.html,fileUrl:N.welcomeCard.fileUrl,buttonLabel:N.welcomeCard.buttonLabel,onSubmit:be,survey:N,languageCode:M,responseCount:g,autoFocusEnabled:I,isCurrent:0===t,responseData:Z,variablesData:Q},"start");if(!(e>=N.questions.length)){const r=N.questions[e];return r&&B(wf,{surveyId:N.id,question:Ke(r,M,Z,Q),value:Z[r.id],onChange:ue,onSubmit:be,onBack:pe,ttc:Y,setTtc:K,onFileUpload:m,isFirstQuestion:r.id===(null==(n=null==N?void 0:N.questions[0])?void 0:n.id),skipPrefilled:d,prefilledQuestionValue:he(r.id,t),isLastQuestion:r.id===N.questions[N.questions.length-1].id,languageCode:M,autoFocusEnabled:I,currentQuestionId:O},r.id)}{const e=N.endings.find((e=>e.id===O));if(e)return B(Ge,{survey:N,endingCard:e,isRedirectDisabled:l,autoFocusEnabled:I,isCurrent:0===t,languageCode:M,isResponseSendingFinished:D,responseData:Z,variablesData:Q})}})()}),B("div",{className:"fb-mx-6 fb-mb-10 fb-mt-2 fb-space-y-3 md:fb-mb-6 md:fb-mt-6",children:[n&&B(Xe,{}),oe&&B(qt,{survey:N,questionId:O})]})]})})},survey:N,styling:t,setQuestionId:T,shouldResetQuestionId:x,fullSizeCards:k})})},Zb=e=>B("div",{id:"fbjs",className:"fb-formbricks-form",style:{height:"100%",width:"100%"},children:B(Fb,{...e})}),zb=({children:e,isOpen:t,placement:n,clickOutside:r,darkOverlay:o,onClose:a})=>{const[i,s]=ne(!1),l="center"===n,c=ae(null);re((()=>{s(t)}),[t]),re((()=>{if(!l)return;const e=e=>{r&&i&&c.current&&!c.current.contains(e.target)&&a()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[i,r,a,l]);return i?B("div",{"aria-live":"assertive",className:ge(l?"fb-pointer-events-auto":"fb-pointer-events-none","fb-z-999999 fb-fixed fb-inset-0 fb-flex fb-items-end"),children:B("div",{className:ge("fb-relative fb-h-full fb-w-full",l?o?"fb-bg-gray-700/80":"fb-bg-white/50":"fb-bg-none fb-transition-all fb-duration-500 fb-ease-in-out"),children:B("div",{ref:c,className:ge((e=>{switch(e){case"bottomRight":default:return"sm:fb-bottom-3 sm:fb-right-3";case"topRight":return"sm:fb-top-3 sm:fb-right-3 sm:fb-bottom-3";case"topLeft":return"sm:fb-top-3 sm:fb-left-3 sm:fb-bottom-3";case"bottomLeft":return"sm:fb-bottom-3 sm:fb-left-3";case"center":return"sm:fb-top-1/2 sm:fb-left-1/2 sm:fb-transform sm:-fb-translate-x-1/2 sm:-fb-translate-y-1/2"}})(n),i?"fb-opacity-100":"fb-opacity-0","fb-rounded-custom fb-pointer-events-auto fb-absolute fb-bottom-0 fb-h-fit fb-w-full fb-overflow-visible fb-bg-white fb-shadow-lg fb-transition-all fb-duration-500 fb-ease-in-out sm:fb-m-4 sm:fb-max-w-sm"),children:B("div",{children:e})})})}):null},Wb=({survey:e,isBrandingEnabled:t,getSetIsError:n,placement:r,clickOutside:o,darkOverlay:a,onDisplay:i,getSetIsResponseSendingFinished:s,onResponse:l,onClose:c,onFinished:d=()=>{},onFileUpload:u,onRetry:f,isRedirectDisabled:b=!1,languageCode:p,responseCount:h,styling:m,hiddenFieldsRecord:g})=>{var v;const[y,w]=ne(!0),_=()=>{w(!1),setTimeout((()=>{c&&c()}),1e3)},x=(null==(v=null==m?void 0:m.highlightBorderColor)?void 0:v.light)||null;return B("div",{id:"fbjs",className:"fb-formbricks-form",children:B(zb,{placement:r,clickOutside:o,darkOverlay:a,highlightBorderColor:x,isOpen:y,onClose:_,children:B(Fb,{survey:e,isBrandingEnabled:t,onDisplay:i,getSetIsResponseSendingFinished:s,onResponse:l,languageCode:p,onClose:_,onFinished:()=>{d(),setTimeout((()=>{const t=e.endings[0];"redirectToUrl"!==(null==t?void 0:t.type)&&_()}),e.endings.length?3e3:0)},onRetry:f,getSetIsError:n,onFileUpload:u,isRedirectDisabled:b,responseCount:h,styling:m,isCardBorderVisible:!x,clickOutside:"center"===r?o:void 0,hiddenFieldsRecord:g})})})},Hb=(e,t)=>{if(!e||""===e)return;e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,n,r)=>t+t+n+n+r+r));let n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?`rgba(${parseInt(n[1],16)}, ${parseInt(n[2],16)}, ${parseInt(n[3],16)}, ${t})`:""},Qb=(e,t,n)=>{var r,o;const a=Hb(e,1)||"",i=Hb(t,1)||"",[s,l,c]=(null==(r=a.match(/\d+/g))?void 0:r.map(Number))||[0,0,0],[d,u,f]=(null==(o=i.match(/\d+/g))?void 0:o.map(Number))||[0,0,0];return`#${((1<<24)+(Math.round(s*(1-n)+d*n)<<16)+(Math.round(l*(1-n)+u*n)<<8)+Math.round(c*(1-n)+f*n)).toString(16).slice(1)}`},Vb=e=>{let t,n,r;if(4===e.length?(t=parseInt(e[1]+e[1],16),n=parseInt(e[2]+e[2],16),r=parseInt(e[3]+e[3],16)):7===e.length&&(t=parseInt(e[1]+e[2],16),n=parseInt(e[3]+e[4],16),r=parseInt(e[5]+e[6],16)),void 0===t||void 0===n||void 0===r)throw new Error("Invalid color");return.299*t+.587*n+.114*r>128},Yb=()=>{if(null===document.getElementById("formbricks__css")){const e=document.createElement("style");e.id="formbricks__css",e.innerHTML='#fbjs *,#fbjs :before,#fbjs :after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb;font-family:Inter,Helvetica,Arial,sans-serif;font-size:1em}#fbjs :before,#fbjs :after{--tw-content: ""}#fbjs html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4}#fbjs body{margin:0;line-height:inherit}#fbjs hr{height:0;color:inherit;border-top-width:1px}#fbjs abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}#fbjs h1,#fbjs h2,#fbjs h3,#fbjs h4,#fbjs h5,#fbjs h6{font-size:inherit;font-weight:inherit}#fbjs a{color:inherit;text-decoration:inherit}#fbjs b,#fbjs strong{font-weight:bolder}#fbjs code,#fbjs kbd,#fbjs samp,#fbjs pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}#fbjs small{font-size:80%}#fbjs sub,#fbjs sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}#fbjs sub{bottom:-.25em}#fbjs sup{top:-.5em}#fbjs table{text-indent:0;border-color:inherit;border-collapse:collapse}#fbjs button,#fbjs input,#fbjs optgroup,#fbjs select,#fbjs textarea{font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}#fbjs button,#fbjs select{text-transform:none}#fbjs button,#fbjs [type=button],#fbjs [type=reset],#fbjs [type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}#fbjs :-moz-focusring{outline:auto}#fbjs :-moz-ui-invalid{box-shadow:none}#fbjs progress{vertical-align:baseline}#fbjs ::-webkit-inner-spin-button,#fbjs ::-webkit-outer-spin-button{height:auto}#fbjs [type=search]{-webkit-appearance:textfield;outline-offset:-2px}#fbjs ::-webkit-search-decoration{-webkit-appearance:none}#fbjs ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}#fbjs summary{display:list-item}#fbjs blockquote,#fbjs dl,#fbjs dd,#fbjs h1,#fbjs h2,#fbjs h3,#fbjs h4,#fbjs h5,#fbjs h6,#fbjs hr,#fbjs figure,#fbjs p,#fbjs pre{margin:0}#fbjs fieldset{margin:0;padding:0}#fbjs legend{padding:0}#fbjs ol,#fbjs ul,#fbjs menu{list-style:none;margin:0;padding:0}#fbjs textarea{resize:vertical}#fbjs input::-moz-placeholder,#fbjs textarea::-moz-placeholder{opacity:1;color:#9ca3af}#fbjs input::placeholder,#fbjs textarea::placeholder{opacity:1;color:#9ca3af}#fbjs button,#fbjs [role=button]{cursor:pointer}#fbjs :disabled{cursor:default}#fbjs img,#fbjs svg,#fbjs video,#fbjs canvas,#fbjs audio,#fbjs iframe,#fbjs embed,#fbjs object{display:block;vertical-align:middle}#fbjs img,#fbjs video{max-width:100%;height:auto}#fbjs [hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }#fbjs .fb-sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}#fbjs .fb-pointer-events-none{pointer-events:none}#fbjs .fb-pointer-events-auto{pointer-events:auto}#fbjs .fb-invisible{visibility:hidden}#fbjs .fb-fixed{position:fixed}#fbjs .fb-absolute{position:absolute}#fbjs .fb-relative{position:relative}#fbjs .fb-sticky{position:sticky}#fbjs .fb-inset-0{top:0;right:0;bottom:0;left:0}#fbjs .fb-inset-auto{inset:auto}#fbjs .fb-inset-x-0{left:0;right:0}#fbjs .-fb-bottom-2{bottom:-.5em}#fbjs .fb-bottom-0{bottom:0}#fbjs .fb-bottom-2{bottom:.5em}#fbjs .fb-left-0{left:0}#fbjs .fb-right-0{right:0}#fbjs .fb-right-2{right:.5em}#fbjs .fb-right-8{right:2em}#fbjs .fb-top-0{top:0}#fbjs .fb-top-10{top:2.5em}#fbjs .fb-top-2{top:.5em}#fbjs .fb-z-10{z-index:10}#fbjs .fb-z-20{z-index:20}#fbjs .fb-z-999999{z-index:999999}#fbjs .fb-z-\\[1001\\]{z-index:1001}#fbjs .fb-m-2{margin:.5em}#fbjs .fb-mx-2{margin-left:.5em;margin-right:.5em}#fbjs .fb-mx-6{margin-left:1.5em;margin-right:1.5em}#fbjs .fb-my-2{margin-top:.5em;margin-bottom:.5em}#fbjs .fb-my-3{margin-top:.75em;margin-bottom:.75em}#fbjs .fb-my-4{margin-top:1em;margin-bottom:1em}#fbjs .fb-my-auto{margin-top:auto;margin-bottom:auto}#fbjs .fb-mb-1\\.5{margin-bottom:.375em}#fbjs .fb-mb-10{margin-bottom:2.5em}#fbjs .fb-mb-2{margin-bottom:.5em}#fbjs .fb-mb-4{margin-bottom:1em}#fbjs .fb-mb-8{margin-bottom:2em}#fbjs .fb-mb-\\[10px\\]{margin-bottom:10px}#fbjs .fb-ml-3{margin-left:.75em}#fbjs .fb-ml-6{margin-left:1.5em}#fbjs .fb-mr-1{margin-right:.25em}#fbjs .fb-mr-3{margin-right:.75em}#fbjs .fb-mr-4{margin-right:1em}#fbjs .fb-mt-1{margin-top:.25em}#fbjs .fb-mt-10{margin-top:2.5em}#fbjs .fb-mt-2{margin-top:.5em}#fbjs .fb-mt-3{margin-top:.75em}#fbjs .fb-mt-4{margin-top:1em}#fbjs .fb-mt-6{margin-top:1.5em}#fbjs .fb-block{display:block}#fbjs .fb-inline-block{display:inline-block}#fbjs .fb-flex{display:flex}#fbjs .fb-grid{display:grid}#fbjs .fb-hidden{display:none}#fbjs .fb-aspect-\\[4\\/3\\]{aspect-ratio:4/3}#fbjs .fb-aspect-video{aspect-ratio:16 / 9}#fbjs .fb-h-1{height:.25em}#fbjs .fb-h-10{height:2.5em}#fbjs .fb-h-12{height:3em}#fbjs .fb-h-2{height:.5em}#fbjs .fb-h-24{height:6em}#fbjs .fb-h-4{height:1em}#fbjs .fb-h-5{height:1.25em}#fbjs .fb-h-6{height:1.5em}#fbjs .fb-h-8{height:2em}#fbjs .fb-h-9{height:2.25em}#fbjs .fb-h-\\[12dvh\\]{height:12dvh}#fbjs .fb-h-\\[46dvh\\]{height:46dvh}#fbjs .fb-h-\\[46px\\]{height:46px}#fbjs .fb-h-\\[6px\\]{height:6px}#fbjs .fb-h-fit{height:-moz-fit-content;height:fit-content}#fbjs .fb-h-full{height:100%}#fbjs .fb-max-h-16{max-height:4em}#fbjs .fb-max-h-36{max-height:9em}#fbjs .fb-max-h-96{max-height:24em}#fbjs .fb-max-h-\\[50vh\\]{max-height:50vh}#fbjs .fb-min-h-40{min-height:10em}#fbjs .fb-min-h-9{min-height:2.25em}#fbjs .fb-min-h-\\[41px\\]{min-height:41px}#fbjs .fb-min-h-\\[47px\\]{min-height:47px}#fbjs .fb-min-h-\\[7rem\\]{min-height:7em}#fbjs .fb-w-1\\/2{width:50%}#fbjs .fb-w-1\\/3{width:33.333333%}#fbjs .fb-w-16{width:4em}#fbjs .fb-w-24{width:6em}#fbjs .fb-w-4{width:1em}#fbjs .fb-w-5{width:1.25em}#fbjs .fb-w-6{width:1.5em}#fbjs .fb-w-fit{width:-moz-fit-content;width:fit-content}#fbjs .fb-w-full{width:100%}#fbjs .fb-min-w-full{min-width:100%}#fbjs .fb-max-w-40{max-width:10em}#fbjs .fb-max-w-\\[74px\\]{max-width:74px}#fbjs .fb-max-w-md{max-width:28em}#fbjs .fb-flex-1{flex:1 1 0%}#fbjs .fb-shrink{flex-shrink:1}#fbjs .fb-grow{flex-grow:1}#fbjs .fb-grow-0{flex-grow:0}#fbjs .fb-table-auto{table-layout:auto}#fbjs .fb-border-collapse{border-collapse:collapse}#fbjs .fb-transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes fb-pulse{50%{opacity:.5}}#fbjs .fb-animate-pulse{animation:fb-pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes fb-spin{to{transform:rotate(360deg)}}#fbjs .fb-animate-spin{animation:fb-spin 1s linear infinite}#fbjs .fb-cursor-not-allowed{cursor:not-allowed}#fbjs .fb-cursor-pointer{cursor:pointer}#fbjs .fb-appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}#fbjs .fb-grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}#fbjs .fb-flex-row{flex-direction:row}#fbjs .fb-flex-col{flex-direction:column}#fbjs .fb-items-end{align-items:flex-end}#fbjs .fb-items-center{align-items:center}#fbjs .fb-justify-end{justify-content:flex-end}#fbjs .fb-justify-center{justify-content:center}#fbjs .fb-justify-between{justify-content:space-between}#fbjs .fb-gap-2{gap:.5em}#fbjs .fb-gap-4{gap:1em}#fbjs .fb-gap-x-4{-moz-column-gap:1em;column-gap:1em}#fbjs :is(.fb-space-x-2>:not([hidden])~:not([hidden])){--tw-space-x-reverse: 0;margin-right:calc(.5em * var(--tw-space-x-reverse));margin-left:calc(.5em * calc(1 - var(--tw-space-x-reverse)))}#fbjs :is(.fb-space-y-2>:not([hidden])~:not([hidden])){--tw-space-y-reverse: 0;margin-top:calc(.5em * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5em * var(--tw-space-y-reverse))}#fbjs :is(.fb-space-y-3>:not([hidden])~:not([hidden])){--tw-space-y-reverse: 0;margin-top:calc(.75em * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75em * var(--tw-space-y-reverse))}#fbjs :is(.fb-space-y-4>:not([hidden])~:not([hidden])){--tw-space-y-reverse: 0;margin-top:calc(1em * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1em * var(--tw-space-y-reverse))}#fbjs .fb-self-start{align-self:flex-start}#fbjs .fb-overflow-auto{overflow:auto}#fbjs .fb-overflow-hidden{overflow:hidden}#fbjs .fb-overflow-visible{overflow:visible}#fbjs .fb-overflow-x-auto{overflow-x:auto}#fbjs .fb-overflow-y-scroll{overflow-y:scroll}#fbjs .fb-overflow-ellipsis{text-overflow:ellipsis}#fbjs .fb-whitespace-nowrap{white-space:nowrap}#fbjs .fb-break-words{overflow-wrap:break-word}#fbjs .fb-rounded-\\[100\\%\\]{border-radius:100%}#fbjs .fb-rounded-custom{border-radius:var(--fb-border-radius)}#fbjs .fb-rounded-full{border-radius:9999px}#fbjs .fb-rounded-lg{border-radius:.5em}#fbjs .fb-rounded-md{border-radius:.375em}#fbjs .fb-rounded-l-custom{border-top-left-radius:var(--fb-border-radius);border-bottom-left-radius:var(--fb-border-radius)}#fbjs .fb-rounded-r-custom{border-top-right-radius:var(--fb-border-radius);border-bottom-right-radius:var(--fb-border-radius)}#fbjs .fb-rounded-t-custom{border-top-left-radius:var(--fb-border-radius);border-top-right-radius:var(--fb-border-radius)}#fbjs .fb-rounded-br-custom{border-bottom-right-radius:var(--fb-border-radius)}#fbjs .fb-rounded-tr-custom{border-top-right-radius:var(--fb-border-radius)}#fbjs .fb-border{border-width:1px}#fbjs .fb-border-2{border-width:2px}#fbjs .fb-border-4{border-width:4px}#fbjs .fb-border-b{border-bottom-width:1px}#fbjs .fb-border-l{border-left-width:1px}#fbjs .fb-border-r{border-right-width:1px}#fbjs .fb-border-t{border-top-width:1px}#fbjs .fb-border-dashed{border-style:dashed}#fbjs .\\!fb-border-border-highlight{border-color:var(--fb-border-color-highlight)!important}#fbjs .fb-border-back-button-border{border-color:var(--fb-back-btn-border)}#fbjs .fb-border-border{border-color:var(--fb-border-color)}#fbjs .fb-border-border-highlight{border-color:var(--fb-border-color-highlight)}#fbjs .fb-border-brand{border-color:var(--fb-brand-color)}#fbjs .fb-border-red-500{--tw-border-opacity: 1;border-color:rgb(239 68 68 / var(--tw-border-opacity))}#fbjs .fb-border-slate-200{--tw-border-opacity: 1;border-color:rgb(226 232 240 / var(--tw-border-opacity))}#fbjs .fb-border-submit-button-border{border-color:var(--fb-submit-btn-border)}#fbjs .\\!fb-bg-brand{background-color:var(--fb-brand-color)!important}#fbjs .\\!fb-bg-input-bg{background-color:var(--fb-input-background-color)!important}#fbjs .fb-bg-accent-bg{background-color:var(--fb-accent-background-color)}#fbjs .fb-bg-accent-selected-bg{background-color:var(--fb-accent-background-color-selected)}#fbjs .fb-bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}#fbjs .fb-bg-brand{background-color:var(--fb-brand-color)}#fbjs .fb-bg-emerald-100{--tw-bg-opacity: 1;background-color:rgb(209 250 229 / var(--tw-bg-opacity))}#fbjs .fb-bg-gray-700\\/80{background-color:#374151cc}#fbjs .fb-bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}#fbjs .fb-bg-input-bg{background-color:var(--fb-input-background-color)}#fbjs .fb-bg-input-bg-selected{background-color:var(--fb-input-background-color-selected)}#fbjs .fb-bg-orange-100{--tw-bg-opacity: 1;background-color:rgb(255 237 213 / var(--tw-bg-opacity))}#fbjs .fb-bg-rose-100{--tw-bg-opacity: 1;background-color:rgb(255 228 230 / var(--tw-bg-opacity))}#fbjs .fb-bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}#fbjs .fb-bg-slate-200{--tw-bg-opacity: 1;background-color:rgb(226 232 240 / var(--tw-bg-opacity))}#fbjs .fb-bg-survey-bg{background-color:var(--fb-survey-background-color)}#fbjs .fb-bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}#fbjs .fb-bg-white\\/50{background-color:#ffffff80}#fbjs .fb-bg-opacity-40{--tw-bg-opacity: .4}#fbjs .fb-bg-gradient-to-b{background-image:linear-gradient(to bottom,var(--tw-gradient-stops))}#fbjs .fb-bg-gradient-to-t{background-image:linear-gradient(to top,var(--tw-gradient-stops))}#fbjs .fb-bg-none{background-image:none}#fbjs .fb-from-survey-bg{--tw-gradient-from: var(--fb-survey-background-color) var(--tw-gradient-from-position);--tw-gradient-to: rgb(255 255 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}#fbjs .fb-to-transparent{--tw-gradient-to: transparent var(--tw-gradient-to-position)}#fbjs .fb-fill-emerald-100{fill:#d1fae5}#fbjs .fb-fill-emerald-300{fill:#6ee7b7}#fbjs .fb-fill-none{fill:none}#fbjs .fb-fill-orange-100{fill:#ffedd5}#fbjs .fb-fill-orange-300{fill:#fdba74}#fbjs .fb-fill-rating-fill{fill:var(--fb-rating-fill)}#fbjs .fb-fill-rose-100{fill:#ffe4e6}#fbjs .fb-fill-rose-300{fill:#fda4af}#fbjs .fb-stroke-heading{stroke:var(--fb-heading-color)}#fbjs .fb-stroke-rating-selected{stroke:var(--fb-rating-selected)}#fbjs .fb-object-contain{-o-object-fit:contain;object-fit:contain}#fbjs .fb-object-cover{-o-object-fit:cover;object-fit:cover}#fbjs .fb-p-0{padding:0}#fbjs .fb-p-0\\.5{padding:.125em}#fbjs .fb-p-1\\.5{padding:.375em}#fbjs .fb-p-2{padding:.5em}#fbjs .fb-p-3{padding:.75em}#fbjs .fb-p-4{padding:1em}#fbjs .fb-px-1{padding-left:.25em;padding-right:.25em}#fbjs .fb-px-1\\.5{padding-left:.375em;padding-right:.375em}#fbjs .fb-px-2{padding-left:.5em;padding-right:.5em}#fbjs .fb-px-3{padding-left:.75em;padding-right:.75em}#fbjs .fb-px-4{padding-left:1em;padding-right:1em}#fbjs .fb-px-6{padding-left:1.5em;padding-right:1.5em}#fbjs .fb-py-1{padding-top:.25em;padding-bottom:.25em}#fbjs .fb-py-2{padding-top:.5em;padding-bottom:.5em}#fbjs .fb-py-3{padding-top:.75em;padding-bottom:.75em}#fbjs .fb-py-4{padding-top:1em;padding-bottom:1em}#fbjs .fb-py-5{padding-top:1.25em;padding-bottom:1.25em}#fbjs .fb-py-6{padding-top:1.5em;padding-bottom:1.5em}#fbjs .fb-pb-1{padding-bottom:.25em}#fbjs .fb-pl-2{padding-left:.5em}#fbjs .fb-pr-2{padding-right:.5em}#fbjs .fb-pr-4{padding-right:1em}#fbjs .fb-pt-1{padding-top:.25em}#fbjs .fb-pt-2{padding-top:.5em}#fbjs .fb-text-left{text-align:left}#fbjs .fb-text-center{text-align:center}#fbjs .fb-text-right{text-align:right}#fbjs .fb-text-base{font-size:1em;line-height:1.5em}#fbjs .fb-text-sm{font-size:.875em;line-height:1.25em}#fbjs .fb-text-xs{font-size:.75em;line-height:1em}#fbjs .fb-font-bold{font-weight:700}#fbjs .fb-font-medium{font-weight:500}#fbjs .fb-font-normal{font-weight:400}#fbjs .fb-font-semibold{font-weight:600}#fbjs .fb-leading-10{line-height:2.5em}#fbjs .fb-leading-4{line-height:1em}#fbjs .fb-leading-5{line-height:1.25em}#fbjs .fb-leading-6{line-height:1.5em}#fbjs .fb-leading-7{line-height:1.75em}#fbjs .fb-leading-\\[3\\.5em\\]{line-height:3.5em}#fbjs .\\!fb-text-heading{color:var(--fb-heading-color)!important}#fbjs .fb-text-\\[\\#8696AC\\]{--tw-text-opacity: 1;color:rgb(134 150 172 / var(--tw-text-opacity))}#fbjs .fb-text-amber-400{--tw-text-opacity: 1;color:rgb(251 191 36 / var(--tw-text-opacity))}#fbjs .fb-text-brand{color:var(--fb-brand-color)}#fbjs .fb-text-branding-text{color:var(--fb-branding-text-color)}#fbjs .fb-text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}#fbjs .fb-text-heading{color:var(--fb-heading-color)}#fbjs .fb-text-on-brand{color:var(--fb-brand-text-color)}#fbjs .fb-text-placeholder{color:var(--fb-placeholder-color)}#fbjs .fb-text-rating-selected{color:var(--fb-rating-selected)}#fbjs .fb-text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity))}#fbjs .fb-text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity))}#fbjs .fb-text-signature{color:var(--fb-signature-text-color)}#fbjs .fb-text-slate-600{--tw-text-opacity: 1;color:rgb(71 85 105 / var(--tw-text-opacity))}#fbjs .fb-text-slate-900{--tw-text-opacity: 1;color:rgb(15 23 42 / var(--tw-text-opacity))}#fbjs .fb-text-subheading{color:var(--fb-subheading-color)}#fbjs .fb-text-transparent{color:transparent}#fbjs .fb-text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}#fbjs .fb-opacity-0{opacity:0}#fbjs .fb-opacity-100{opacity:1}#fbjs .fb-opacity-25{opacity:.25}#fbjs .fb-opacity-30{opacity:.3}#fbjs .fb-opacity-60{opacity:.6}#fbjs .fb-opacity-75{opacity:.75}#fbjs .fb-shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}#fbjs .fb-shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}#fbjs .fb-outline-brand{outline-color:var(--fb-brand-color)}#fbjs .fb-backdrop-blur-lg{--tw-backdrop-blur: blur(16px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}#fbjs .fb-backdrop-blur-md{--tw-backdrop-blur: blur(12px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}#fbjs .fb-transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}#fbjs .fb-transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}#fbjs .fb-transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}#fbjs .fb-duration-1000{transition-duration:1s}#fbjs .fb-duration-300{transition-duration:.3s}#fbjs .fb-duration-500{transition-duration:.5s}#fbjs .fb-ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}#fbjs{font-size:16px}#fbjs *::-webkit-scrollbar{width:6px;background:transparent}#fbjs *::-webkit-scrollbar-track{background:transparent}#fbjs *::-webkit-scrollbar-thumb{background-color:var(--fb-brand-color);border:none;border-radius:10px}#fbjs *{scrollbar-width:thin;scrollbar-color:var(--fb-brand-color) transparent}.fb-htmlbody{display:block;font-size:.875em;font-weight:400;line-height:1.5em;color:var(--fb-subheading-color)!important}p.fb-editor-paragraph{overflow-wrap:break-word}.fb-survey-shadow{box-shadow:0 0 90px -40px var(--fb-survey-shadow-color)}:root{--brand-default: #64748b;--slate-50: rgb(248, 250, 252);--slate-100: rgb(241 245 249);--slate-200: rgb(226 232 240);--slate-300: rgb(203, 213, 225);--slate-400: rgb(148 163 184);--slate-500: rgb(100 116 139);--slate-600: rgb(71 85 105);--slate-700: rgb(51 65 85);--slate-800: rgb(30 41 59);--slate-900: rgb(15 23 42);--gray-100: rgb(243 244 246);--gray-200: rgb(229 231 235);--yellow-100: rgb(254 249 195);--yellow-300: rgb(253 224 71);--yellow-500: rgb(234 179 8);--fb-brand-color: var(--brand-default);--fb-brand-text-color: black;--fb-border-color: var(--slate-300);--fb-border-color-highlight: var(--slate-500);--fb-focus-color: var(--slate-500);--fb-heading-color: var(--slate-900);--fb-subheading-color: var(--slate-700);--fb-placeholder-color: var(--slate-300);--fb-info-text-color: var(--slate-500);--fb-signature-text-color: var(--slate-400);--fb-branding-text-color: var(--slate-500);--fb-survey-background-color: white;--fb-survey-border-color: var(--slate-50);--fb-survey-shadow-color: rgba(0, 0, 0, .4);--fb-accent-background-color: var(--slate-200);--fb-accent-background-color-selected: var(--slate-100);--fb-input-background-color: var(--slate-50);--fb-input-background-color-selected: var(--slate-200);--fb-placeholder-color: var(--slate-400);--fb-shadow-color: var(--slate-300);--fb-rating-fill: var(--yellow-100);--fb-rating-hover: var(--yellow-500);--fb-back-btn-border: transparent;--fb-submit-btn-border: transparent;--fb-rating-selected: black;--fb-close-btn-color: var(--slate-500);--fb-close-btn-color-hover: var(--slate-700);--fb-border-radius: 8px}@keyframes shrink-width-to-zero{0%{width:100%}to{width:0%}}.fb-no-scrollbar{-ms-overflow-style:none!important;scrollbar-width:thin!important;scrollbar-color:transparent transparent!important}.fb-no-scrollbar::-webkit-scrollbar{width:0!important;background:transparent!important}.fb-no-scrollbar::-webkit-scrollbar-thumb{background:transparent!important}#fbjs .placeholder\\:fb-text-placeholder::-moz-placeholder{color:var(--fb-placeholder-color)}#fbjs .placeholder\\:fb-text-placeholder::placeholder{color:var(--fb-placeholder-color)}#fbjs .first\\:fb-rounded-l-custom:first-child{border-top-left-radius:var(--fb-border-radius);border-bottom-left-radius:var(--fb-border-radius)}#fbjs .last\\:fb-rounded-r-custom:last-child{border-top-right-radius:var(--fb-border-radius);border-bottom-right-radius:var(--fb-border-radius)}#fbjs .last\\:fb-border-r:last-child{border-right-width:1px}#fbjs .even\\:fb-border-l:nth-child(2n){border-left-width:1px}#fbjs .even\\:fb-pl-1:nth-child(2n){padding-left:.25em}#fbjs .even\\:fb-pr-1:nth-child(2n){padding-right:.25em}#fbjs .focus-within\\:fb-border-brand:focus-within{border-color:var(--fb-brand-color)}#fbjs .focus-within\\:fb-bg-input-bg-selected:focus-within{background-color:var(--fb-input-background-color-selected)}#fbjs .hover\\:fb-cursor-pointer:hover{cursor:pointer}#fbjs .hover\\:fb-bg-black\\/5:hover{background-color:#0000000d}#fbjs .hover\\:fb-bg-input-bg-selected:hover{background-color:var(--fb-input-background-color-selected)}#fbjs .hover\\:fb-bg-opacity-65:hover{--tw-bg-opacity: .65}#fbjs .hover\\:fb-text-signature:hover{color:var(--fb-signature-text-color)}#fbjs .hover\\:fb-opacity-80:hover{opacity:.8}#fbjs .hover\\:fb-opacity-90:hover{opacity:.9}#fbjs .focus\\:fb-border-2:focus{border-width:2px}#fbjs .focus\\:fb-border-4:focus{border-width:4px}#fbjs .focus\\:fb-border-accent-bg:focus{border-color:var(--fb-accent-background-color)}#fbjs .focus\\:fb-border-brand:focus{border-color:var(--fb-brand-color)}#fbjs .focus\\:fb-bg-input-bg-selected:focus{background-color:var(--fb-input-background-color-selected)}#fbjs .focus\\:fb-bg-slate-200:focus{--tw-bg-opacity: 1;background-color:rgb(226 232 240 / var(--tw-bg-opacity))}#fbjs .focus\\:fb-outline-none:focus{outline:2px solid transparent;outline-offset:2px}#fbjs .focus\\:fb-outline-brand:focus{outline-color:var(--fb-brand-color)}#fbjs .focus\\:fb-ring-0:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}#fbjs .focus\\:fb-ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}#fbjs .focus\\:fb-ring-brand:focus{--tw-ring-color: var(--fb-brand-color)}#fbjs .focus\\:fb-ring-focus:focus{--tw-ring-color: var(--fb-focus-color)}#fbjs .focus\\:fb-ring-offset-0:focus{--tw-ring-offset-width: 0px}#fbjs .focus\\:fb-ring-offset-2:focus{--tw-ring-offset-width: 2px}#fbjs .disabled\\:fb-cursor-not-allowed:disabled{cursor:not-allowed}#fbjs .disabled\\:fb-opacity-50:disabled{opacity:.5}#fbjs :is(.fb-group:hover .group-hover\\:fb-bg-white){--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}#fbjs :is(.fb-group:hover .group-hover\\:fb-text-heading){color:var(--fb-heading-color)}#fbjs :is(.fb-group\\/image:hover .group-hover\\/image\\:fb-opacity-100){opacity:1}#fbjs .aria-selected\\:fb-opacity-100[aria-selected=true]{opacity:1}#fbjs .dark\\:fb-border-slate-500:is(.fb-dark *){--tw-border-opacity: 1;border-color:rgb(100 116 139 / var(--tw-border-opacity))}#fbjs .dark\\:fb-border-slate-600:is(.fb-dark *){--tw-border-opacity: 1;border-color:rgb(71 85 105 / var(--tw-border-opacity))}#fbjs .dark\\:fb-bg-slate-700:is(.fb-dark *){--tw-bg-opacity: 1;background-color:rgb(51 65 85 / var(--tw-bg-opacity))}#fbjs .dark\\:fb-text-slate-300:is(.fb-dark *){--tw-text-opacity: 1;color:rgb(203 213 225 / var(--tw-text-opacity))}#fbjs .dark\\:fb-text-slate-400:is(.fb-dark *){--tw-text-opacity: 1;color:rgb(148 163 184 / var(--tw-text-opacity))}#fbjs .dark\\:hover\\:fb-border-slate-500:hover:is(.fb-dark *){--tw-border-opacity: 1;border-color:rgb(100 116 139 / var(--tw-border-opacity))}#fbjs .dark\\:hover\\:fb-bg-slate-800:hover:is(.fb-dark *){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}@media (min-width: 640px){#fbjs .sm\\:fb-bottom-3{bottom:.75em}#fbjs .sm\\:fb-left-1\\/2{left:50%}#fbjs .sm\\:fb-left-3{left:.75em}#fbjs .sm\\:fb-right-3{right:.75em}#fbjs .sm\\:fb-top-1\\/2{top:50%}#fbjs .sm\\:fb-top-3{top:.75em}#fbjs .sm\\:fb-m-4{margin:1em}#fbjs .sm\\:fb-h-\\[33dvh\\]{height:33dvh}#fbjs .sm\\:fb-h-\\[34dvh\\]{height:34dvh}#fbjs .sm\\:fb-max-w-sm{max-width:24em}#fbjs .sm\\:-fb-translate-x-1\\/2{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}#fbjs .sm\\:-fb-translate-y-1\\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}#fbjs .sm\\:fb-transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}#fbjs .sm\\:fb-text-sm{font-size:.875em;line-height:1.25em}}@media (min-width: 768px){#fbjs .md\\:fb-mb-6{margin-bottom:1.5em}#fbjs .md\\:fb-mt-6{margin-top:1.5em}#fbjs .md\\:fb-items-center{align-items:center}#fbjs .md\\:fb-rounded-custom{border-radius:var(--fb-border-radius)}}.fb-editor-text-bold{font-weight:700!important}.fb-editor-text-italic{font-style:italic!important}.fb-editor-link{text-decoration:underline!important}.editor-tokenFunction{color:#dd4a68!important}.fb-editor-paragraph{margin:0!important;position:relative!important}.fb-editor-paragraph:last-child{margin-bottom:0!important}.fb-editor-heading-h1{font-size:25px!important;font-weight:400!important;margin-bottom:20px!important;font-weight:700!important}.fb-editor-heading-h2{font-size:20px!important;font-weight:700!important;margin-bottom:20px!important}.fb-editor-list-ul,.fb-editor-list-ol{margin-bottom:12px!important}.fb-editor-listitem{margin:0 32px!important}.fb-editor-nested-listitem{list-style-type:none!important}.fb-editor-rtl{text-align:right!important}.fb-editor-ltr{text-align:left!important}.react-date-picker{display:inline-flex;position:relative}.react-date-picker,.react-date-picker *,.react-date-picker *:before,.react-date-picker *:after{box-sizing:border-box}.react-date-picker--disabled{background-color:#f0f0f0;color:#6d6d6d}.react-date-picker__wrapper{display:flex;flex-grow:1;flex-shrink:0;border:thin solid gray}.react-date-picker__inputGroup{min-width:calc((4px * 3) + .54em * 8 + .217em * 2);flex-grow:1;padding:0 2px;box-sizing:content-box}.react-date-picker__inputGroup__divider{padding:1px 0;white-space:pre}.react-date-picker__inputGroup__divider,.react-date-picker__inputGroup__leadingZero{display:inline-block;font:inherit}.react-date-picker__inputGroup__input{min-width:.54em;height:100%;position:relative;padding:0 1px;border:0;background:none;color:currentColor;font:inherit;box-sizing:content-box;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.react-date-picker__inputGroup__input::-webkit-outer-spin-button,.react-date-picker__inputGroup__input::-webkit-inner-spin-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;margin:0}.react-date-picker__inputGroup__input:invalid{background:#ff00001a}.react-date-picker__inputGroup__input--hasLeadingZero{margin-left:-.54em;padding-left:calc(1px + .54em)}.react-date-picker__button{border:0;background:transparent;padding:4px 6px}.react-date-picker__button:enabled{cursor:pointer}.react-date-picker__button:enabled:hover .react-date-picker__button__icon,.react-date-picker__button:enabled:focus .react-date-picker__button__icon{stroke:#0078d7}.react-date-picker__button:disabled .react-date-picker__button__icon{stroke:#6d6d6d}.react-date-picker__button svg{display:inherit}.react-date-picker__calendar{width:350px;max-width:100vw;z-index:1}.react-date-picker__calendar--closed{display:none}.react-date-picker__calendar .react-calendar{border-width:thin}.react-calendar{width:350px;max-width:100%;background:#fff;border:1px solid #a0a096;font-family:Arial,Helvetica,sans-serif;line-height:1.125em}.react-calendar--doubleView{width:700px}.react-calendar--doubleView .react-calendar__viewContainer{display:flex;margin:-.5em}.react-calendar--doubleView .react-calendar__viewContainer>*{width:50%;margin:.5em}.react-calendar,.react-calendar *,.react-calendar *:before,.react-calendar *:after{box-sizing:border-box}.react-calendar button{margin:0;border:0;outline:none}.react-calendar button:enabled:hover{cursor:pointer}.react-calendar__navigation{display:flex;height:44px;margin-bottom:1em}.react-calendar__navigation button{min-width:44px;background:none}.react-calendar__navigation button:disabled{background-color:#f0f0f0}.react-calendar__navigation button:enabled:hover,.react-calendar__navigation button:enabled:focus{background-color:#e6e6e6}.react-calendar__month-view__weekdays{text-align:center;text-transform:uppercase;font:inherit;font-size:.75em;font-weight:700}.react-calendar__month-view__weekdays__weekday{padding:.5em}.react-calendar__month-view__weekNumbers .react-calendar__tile{display:flex;align-items:center;justify-content:center;font:inherit;font-size:.75em;font-weight:700}.react-calendar__month-view__days__day--weekend{color:#d10000}.react-calendar__month-view__days__day--neighboringMonth,.react-calendar__decade-view__years__year--neighboringDecade,.react-calendar__century-view__decades__decade--neighboringCentury{color:#757575}.react-calendar__year-view .react-calendar__tile,.react-calendar__decade-view .react-calendar__tile,.react-calendar__century-view .react-calendar__tile{padding:2em .5em}.react-calendar__tile{max-width:100%;padding:10px 6.6667px;background:none;text-align:center;line-height:16px;font:inherit;font-size:.833em}.react-calendar__tile:disabled{background-color:#f0f0f0;color:#ababab}.react-calendar__month-view__days__day--neighboringMonth:disabled,.react-calendar__decade-view__years__year--neighboringDecade:disabled,.react-calendar__century-view__decades__decade--neighboringCentury:disabled{color:#cdcdcd}.react-calendar__tile:enabled:hover,.react-calendar__tile:enabled:focus{background-color:#e6e6e6}.react-calendar__tile--now{background:#ffff76}.react-calendar__tile--now:enabled:hover,.react-calendar__tile--now:enabled:focus{background:#ffffa9}.react-calendar__tile--hasActive{background:#76baff}.react-calendar__tile--hasActive:enabled:hover,.react-calendar__tile--hasActive:enabled:focus{background:#a9d4ff}.react-calendar__tile--active{background:#006edc;color:#fff}.react-calendar__tile--active:enabled:hover,.react-calendar__tile--active:enabled:focus{background:#1087ff}.react-calendar--selectRange .react-calendar__tile--hover{background-color:#e6e6e6}.dp-input-root{width:100%}.dp-input-root [class$=wrapper]{height:160px;display:flex;background:#f8fafc;background:var(--fb-survey-background-color);flex-direction:row-reverse;gap:8px;justify-content:center;align-items:center;border-radius:8px;border:1px solid rgb(203 213 225)!important;padding:8px 24px;margin-bottom:8px}.dp-input-root [class$=inputGroup]{flex:none;font-size:16px}.wrapper-hide .react-date-picker__inputGroup{display:none}.dp-input-root .react-date-picker__inputGroup__input{background:#f1f5f9!important;border-radius:2px}.dp-input-root .react-date-picker__inputGroup__input:invalid{background:#fecaca!important;border-radius:2px}.hide-invalid .react-date-picker__inputGroup__input:invalid{background:#f1f5f9!important}.wrapper-hide .react-date-picker__wrapper{display:none}.react-date-picker__calendar--open{position:absolute!important;top:0!important;width:100%!important}.calendar-root{position:absolute!important;top:0!important;background:var(--fb-survey-background-color)!important;width:100%!important}.calendar-root [class$=navigation]{height:36px;margin-bottom:0}.calendar-root [class$=navigation] button{border-radius:8px}.calendar-root [class$=navigation] button:hover{background:#e2e8f0!important}.calendar-root [class$=navigation] button:focus{background:#e2e8f0!important;box-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color)}.calendar-root [class$=navigation] [class$=navigation__label]{font-size:14px;font-weight:500;white-space:nowrap}.react-calendar__month-view__weekdays__weekday{color:#64748b;font-weight:400;text-transform:capitalize}.react-calendar__month-view__weekdays__weekday>abbr{text-decoration:none}.react-calendar{width:100%;line-height:2em}.react-calendar__tile--active{background:var(--fb-brand-color)!important;border-radius:6px}.react-calendar button:hover{background:#e2e8f0!important;border-radius:10%}.react-calendar button:focus{outline:2px solid rgb(226 232 240)!important;border-radius:6px}',document.head.appendChild(e)}},Kb=({styling:e})=>{var t,n,r,o,a,i,s,l,c,d,u,f,b,p,h,m,g,v,y,w,_,x,k,C;let j=document.getElementById("formbricks__css__custom");j||(j=document.createElement("style"),j.id="formbricks__css__custom",document.head.appendChild(j));let S=":root {\n";const N=(e,t)=>{void 0!==t&&(S+=`--fb-${e}: ${t};\n`)},L=e.roundness??8;if(N("brand-color",null==(t=e.brandColor)?void 0:t.light),N("focus-color",null==(n=e.brandColor)?void 0:n.light),(null==(r=e.brandColor)?void 0:r.light)?N("brand-text-color",Vb(null==(o=e.brandColor)?void 0:o.light)?"black":"white"):N("brand-text-color","#ffffff"),(null==(a=e.cardShadowColor)?void 0:a.light)&&N("survey-shadow-color",Qb(e.cardShadowColor.light,"#ffffff",.4)),N("heading-color",null==(i=e.questionColor)?void 0:i.light),N("subheading-color",null==(s=e.questionColor)?void 0:s.light),(null==(l=e.questionColor)?void 0:l.light)&&N("placeholder-color",Qb(null==(c=e.questionColor)?void 0:c.light,"#ffffff",.3)),N("border-color",null==(d=e.inputBorderColor)?void 0:d.light),(null==(u=e.inputBorderColor)?void 0:u.light)&&N("border-color-highlight",Qb(null==(f=e.inputBorderColor)?void 0:f.light,"#000000",.1)),N("survey-background-color",null==(b=e.cardBackgroundColor)?void 0:b.light),N("survey-border-color",null==(p=e.cardBorderColor)?void 0:p.light),N("border-radius",`${L}px`),N("input-background-color",null==(h=e.inputColor)?void 0:h.light),null==(m=e.questionColor)?void 0:m.light){let t="",n="";Vb(null==(g=e.questionColor)?void 0:g.light)?(t=Qb(null==(v=e.questionColor)?void 0:v.light,"#000000",.2),n=Qb(null==(y=e.questionColor)?void 0:y.light,"#000000",.3)):(t=Qb(null==(w=e.questionColor)?void 0:w.light,"#ffffff",.2),n=Qb(null==(_=e.questionColor)?void 0:_.light,"#ffffff",.3)),N("signature-text-color",t),N("branding-text-color",n)}if((null==(x=e.inputColor)?void 0:x.light)&&("#fff"===e.inputColor.light||"#ffffff"===e.inputColor.light||"white"===e.inputColor.light?N("input-background-color-selected","var(--slate-50)"):N("input-background-color-selected",Qb(null==(k=e.inputColor)?void 0:k.light,"#000000",.025))),null==(C=e.brandColor)?void 0:C.light){const t=e.brandColor.light,n=Qb(t,"#ffffff",.8),r=Qb(t,"#ffffff",.7);N("accent-background-color",n),N("accent-background-color-selected",r)}S+="}",j.innerHTML=S},Gb=e=>{Yb(),Kb({styling:e.styling});const t=document.getElementById(e.containerId);if(!t)throw new Error(`renderSurvey: Element with id ${e.containerId} not found.`);P(v(Zb,e),t)},Xb=e=>{Yb(),Kb({styling:e.styling});const t=document.createElement("div");t.id="formbricks-modal-container",document.body.appendChild(t),P(v(Wb,e),t)};"undefined"!=typeof window&&(window.formbricksSurveys={renderSurveyInline:Gb,renderSurveyModal:Xb});var Jb,ep={exports:{}};
/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */function tp(){return Jb||(Jb=1,ep.exports=function(){const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:o}=Object;let{freeze:a,seal:i,create:s}=Object,{apply:l,construct:c}="undefined"!=typeof Reflect&&Reflect;a||(a=function(e){return e}),i||(i=function(e){return e}),l||(l=function(e,t,n){return e.apply(t,n)}),c||(c=function(e,t){return new e(...t)});const d=x(Array.prototype.forEach),u=x(Array.prototype.pop),f=x(Array.prototype.push),b=x(String.prototype.toLowerCase),p=x(String.prototype.toString),h=x(String.prototype.match),m=x(String.prototype.replace),g=x(String.prototype.indexOf),v=x(String.prototype.trim),y=x(Object.prototype.hasOwnProperty),w=x(RegExp.prototype.test),_=k(TypeError);function x(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return l(e,t,r)}}function k(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return c(e,n)}}function C(e,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;t&&t(e,null);let a=r.length;for(;a--;){let t=r[a];if("string"==typeof t){const e=o(t);e!==t&&(n(r)||(r[a]=e),t=e)}e[t]=!0}return e}function j(e){for(let t=0;t<e.length;t++)y(e,t)||(e[t]=null);return e}function S(t){const n=s(null);for(const[r,o]of e(t))y(t,r)&&(Array.isArray(o)?n[r]=j(o):o&&"object"==typeof o&&o.constructor===Object?n[r]=S(o):n[r]=o);return n}function N(e,t){for(;null!==e;){const n=o(e,t);if(n){if(n.get)return x(n.get);if("function"==typeof n.value)return x(n.value)}e=r(e)}function n(){return null}return n}const L=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),I=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),O=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),T=a(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),E=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),A=a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),D=a(["#text"]),q=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),M=a(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),P=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),R=i(/\{\{[\w\W]*|[\w\W]*\}\}/gm),U=i(/<%[\w\W]*|[\w\W]*%>/gm),B=i(/\${[\w\W]*}/gm),F=i(/^data-[\-\w.\u00B7-\uFFFF]/),Z=i(/^aria-[\-\w]+$/),z=i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),W=i(/^(?:\w+script|data):/i),H=i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Q=i(/^html$/i),V=i(/^[a-z][.\w]*(-[.\w]+)+$/i);var Y=Object.freeze({__proto__:null,MUSTACHE_EXPR:R,ERB_EXPR:U,TMPLIT_EXPR:B,DATA_ATTR:F,ARIA_ATTR:Z,IS_ALLOWED_URI:z,IS_SCRIPT_OR_DATA:W,ATTR_WHITESPACE:H,DOCTYPE_NAME:Q,CUSTOM_ELEMENT:V});const K={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},G=function(){return"undefined"==typeof window?null:window},X=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(a){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function J(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G();const n=e=>J(e);if(n.version="3.1.7",n.removed=[],!t||!t.document||t.document.nodeType!==K.document)return n.isSupported=!1,n;let{document:r}=t;const o=r,i=o.currentScript,{DocumentFragment:l,HTMLTemplateElement:c,Node:x,Element:k,NodeFilter:j,NamedNodeMap:R=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:U,DOMParser:B,trustedTypes:F}=t,Z=k.prototype,W=N(Z,"cloneNode"),H=N(Z,"remove"),V=N(Z,"nextSibling"),ee=N(Z,"childNodes"),te=N(Z,"parentNode");if("function"==typeof c){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let ne,re="";const{implementation:oe,createNodeIterator:ae,createDocumentFragment:ie,getElementsByTagName:se}=r,{importNode:le}=o;let ce={};n.isSupported="function"==typeof e&&"function"==typeof te&&oe&&void 0!==oe.createHTMLDocument;const{MUSTACHE_EXPR:de,ERB_EXPR:ue,TMPLIT_EXPR:fe,DATA_ATTR:be,ARIA_ATTR:pe,IS_SCRIPT_OR_DATA:he,ATTR_WHITESPACE:me,CUSTOM_ELEMENT:ge}=Y;let{IS_ALLOWED_URI:ve}=Y,ye=null;const we=C({},[...L,...I,...O,...E,...D]);let _e=null;const xe=C({},[...q,...M,...$,...P]);let ke=Object.seal(s(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ce=null,je=null,Se=!0,Ne=!0,Le=!1,Ie=!0,Oe=!1,Te=!0,Ee=!1,Ae=!1,De=!1,qe=!1,Me=!1,$e=!1,Pe=!0,Re=!1;const Ue="user-content-";let Be=!0,Fe=!1,Ze={},ze=null;const We=C({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let He=null;const Qe=C({},["audio","video","img","source","image","track"]);let Ve=null;const Ye=C({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ke="http://www.w3.org/1998/Math/MathML",Ge="http://www.w3.org/2000/svg",Xe="http://www.w3.org/1999/xhtml";let Je=Xe,et=!1,tt=null;const nt=C({},[Ke,Ge,Xe],p);let rt=null;const ot=["application/xhtml+xml","text/html"],at="text/html";let it=null,st=null;const lt=r.createElement("form"),ct=function(e){return e instanceof RegExp||e instanceof Function},dt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!st||st!==e){if(e&&"object"==typeof e||(e={}),e=S(e),rt=-1===ot.indexOf(e.PARSER_MEDIA_TYPE)?at:e.PARSER_MEDIA_TYPE,it="application/xhtml+xml"===rt?p:b,ye=y(e,"ALLOWED_TAGS")?C({},e.ALLOWED_TAGS,it):we,_e=y(e,"ALLOWED_ATTR")?C({},e.ALLOWED_ATTR,it):xe,tt=y(e,"ALLOWED_NAMESPACES")?C({},e.ALLOWED_NAMESPACES,p):nt,Ve=y(e,"ADD_URI_SAFE_ATTR")?C(S(Ye),e.ADD_URI_SAFE_ATTR,it):Ye,He=y(e,"ADD_DATA_URI_TAGS")?C(S(Qe),e.ADD_DATA_URI_TAGS,it):Qe,ze=y(e,"FORBID_CONTENTS")?C({},e.FORBID_CONTENTS,it):We,Ce=y(e,"FORBID_TAGS")?C({},e.FORBID_TAGS,it):{},je=y(e,"FORBID_ATTR")?C({},e.FORBID_ATTR,it):{},Ze=!!y(e,"USE_PROFILES")&&e.USE_PROFILES,Se=!1!==e.ALLOW_ARIA_ATTR,Ne=!1!==e.ALLOW_DATA_ATTR,Le=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ie=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Oe=e.SAFE_FOR_TEMPLATES||!1,Te=!1!==e.SAFE_FOR_XML,Ee=e.WHOLE_DOCUMENT||!1,qe=e.RETURN_DOM||!1,Me=e.RETURN_DOM_FRAGMENT||!1,$e=e.RETURN_TRUSTED_TYPE||!1,De=e.FORCE_BODY||!1,Pe=!1!==e.SANITIZE_DOM,Re=e.SANITIZE_NAMED_PROPS||!1,Be=!1!==e.KEEP_CONTENT,Fe=e.IN_PLACE||!1,ve=e.ALLOWED_URI_REGEXP||z,Je=e.NAMESPACE||Xe,ke=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ct(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ke.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ct(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ke.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ke.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Oe&&(Ne=!1),Me&&(qe=!0),Ze&&(ye=C({},D),_e=[],!0===Ze.html&&(C(ye,L),C(_e,q)),!0===Ze.svg&&(C(ye,I),C(_e,M),C(_e,P)),!0===Ze.svgFilters&&(C(ye,O),C(_e,M),C(_e,P)),!0===Ze.mathMl&&(C(ye,E),C(_e,$),C(_e,P))),e.ADD_TAGS&&(ye===we&&(ye=S(ye)),C(ye,e.ADD_TAGS,it)),e.ADD_ATTR&&(_e===xe&&(_e=S(_e)),C(_e,e.ADD_ATTR,it)),e.ADD_URI_SAFE_ATTR&&C(Ve,e.ADD_URI_SAFE_ATTR,it),e.FORBID_CONTENTS&&(ze===We&&(ze=S(ze)),C(ze,e.FORBID_CONTENTS,it)),Be&&(ye["#text"]=!0),Ee&&C(ye,["html","head","body"]),ye.table&&(C(ye,["tbody"]),delete Ce.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw _('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw _('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ne=e.TRUSTED_TYPES_POLICY,re=ne.createHTML("")}else void 0===ne&&(ne=X(F,i)),null!==ne&&"string"==typeof re&&(re=ne.createHTML(""));a&&a(e),st=e}},ut=C({},["mi","mo","mn","ms","mtext"]),ft=C({},["annotation-xml"]),bt=C({},["title","style","font","a","script"]),pt=C({},[...I,...O,...T]),ht=C({},[...E,...A]),mt=function(e){let t=te(e);t&&t.tagName||(t={namespaceURI:Je,tagName:"template"});const n=b(e.tagName),r=b(t.tagName);return!!tt[e.namespaceURI]&&(e.namespaceURI===Ge?t.namespaceURI===Xe?"svg"===n:t.namespaceURI===Ke?"svg"===n&&("annotation-xml"===r||ut[r]):Boolean(pt[n]):e.namespaceURI===Ke?t.namespaceURI===Xe?"math"===n:t.namespaceURI===Ge?"math"===n&&ft[r]:Boolean(ht[n]):e.namespaceURI===Xe?!(t.namespaceURI===Ge&&!ft[r])&&!(t.namespaceURI===Ke&&!ut[r])&&!ht[n]&&(bt[n]||!pt[n]):!("application/xhtml+xml"!==rt||!tt[e.namespaceURI]))},gt=function(e){f(n.removed,{element:e});try{te(e).removeChild(e)}catch(t){H(e)}},vt=function(e,t){try{f(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(r){f(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!_e[e])if(qe||Me)try{gt(t)}catch(r){}else try{t.setAttribute(e,"")}catch(r){}},yt=function(e){let t=null,n=null;if(De)e="<remove></remove>"+e;else{const t=h(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===rt&&Je===Xe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const o=ne?ne.createHTML(e):e;if(Je===Xe)try{t=(new B).parseFromString(o,rt)}catch(i){}if(!t||!t.documentElement){t=oe.createDocument(Je,"template",null);try{t.documentElement.innerHTML=et?re:o}catch(i){}}const a=t.body||t.documentElement;return e&&n&&a.insertBefore(r.createTextNode(n),a.childNodes[0]||null),Je===Xe?se.call(t,Ee?"html":"body")[0]:Ee?t.documentElement:a},wt=function(e){return ae.call(e.ownerDocument||e,e,j.SHOW_ELEMENT|j.SHOW_COMMENT|j.SHOW_TEXT|j.SHOW_PROCESSING_INSTRUCTION|j.SHOW_CDATA_SECTION,null)},_t=function(e){return e instanceof U&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof R)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},xt=function(e){return"function"==typeof x&&e instanceof x},kt=function(e,t,r){ce[e]&&d(ce[e],(e=>{e.call(n,t,r,st)}))},Ct=function(e){let t=null;if(kt("beforeSanitizeElements",e,null),_t(e))return gt(e),!0;const r=it(e.nodeName);if(kt("uponSanitizeElement",e,{tagName:r,allowedTags:ye}),e.hasChildNodes()&&!xt(e.firstElementChild)&&w(/<[/\w]/g,e.innerHTML)&&w(/<[/\w]/g,e.textContent))return gt(e),!0;if(e.nodeType===K.progressingInstruction)return gt(e),!0;if(Te&&e.nodeType===K.comment&&w(/<[/\w]/g,e.data))return gt(e),!0;if(!ye[r]||Ce[r]){if(!Ce[r]&&St(r)){if(ke.tagNameCheck instanceof RegExp&&w(ke.tagNameCheck,r))return!1;if(ke.tagNameCheck instanceof Function&&ke.tagNameCheck(r))return!1}if(Be&&!ze[r]){const t=te(e)||e.parentNode,n=ee(e)||e.childNodes;if(n&&t)for(let r=n.length-1;r>=0;--r){const o=W(n[r],!0);o.__removalCount=(e.__removalCount||0)+1,t.insertBefore(o,V(e))}}return gt(e),!0}return e instanceof k&&!mt(e)?(gt(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!w(/<\/no(script|embed|frames)/i,e.innerHTML)?(Oe&&e.nodeType===K.text&&(t=e.textContent,d([de,ue,fe],(e=>{t=m(t,e," ")})),e.textContent!==t&&(f(n.removed,{element:e.cloneNode()}),e.textContent=t)),kt("afterSanitizeElements",e,null),!1):(gt(e),!0)},jt=function(e,t,n){if(Pe&&("id"===t||"name"===t)&&(n in r||n in lt))return!1;if(Ne&&!je[t]&&w(be,t));else if(Se&&w(pe,t));else if(!_e[t]||je[t]){if(!(St(e)&&(ke.tagNameCheck instanceof RegExp&&w(ke.tagNameCheck,e)||ke.tagNameCheck instanceof Function&&ke.tagNameCheck(e))&&(ke.attributeNameCheck instanceof RegExp&&w(ke.attributeNameCheck,t)||ke.attributeNameCheck instanceof Function&&ke.attributeNameCheck(t))||"is"===t&&ke.allowCustomizedBuiltInElements&&(ke.tagNameCheck instanceof RegExp&&w(ke.tagNameCheck,n)||ke.tagNameCheck instanceof Function&&ke.tagNameCheck(n))))return!1}else if(Ve[t]);else if(w(ve,m(n,me,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==g(n,"data:")||!He[e])if(Le&&!w(he,m(n,me,"")));else if(n)return!1;return!0},St=function(e){return"annotation-xml"!==e&&h(e,ge)},Nt=function(e){kt("beforeSanitizeAttributes",e,null);const{attributes:t}=e;if(!t)return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_e};let o=t.length;for(;o--;){const i=t[o],{name:s,namespaceURI:l,value:c}=i,f=it(s);let b="value"===s?c:v(c);if(r.attrName=f,r.attrValue=b,r.keepAttr=!0,r.forceKeepAttr=void 0,kt("uponSanitizeAttribute",e,r),b=r.attrValue,r.forceKeepAttr)continue;if(vt(s,e),!r.keepAttr)continue;if(!Ie&&w(/\/>/i,b)){vt(s,e);continue}Oe&&d([de,ue,fe],(e=>{b=m(b,e," ")}));const p=it(e.nodeName);if(jt(p,f,b))if(!Re||"id"!==f&&"name"!==f||(vt(s,e),b=Ue+b),Te&&w(/((--!?|])>)|<\/(style|title)/i,b))vt(s,e);else{if(ne&&"object"==typeof F&&"function"==typeof F.getAttributeType)if(l);else switch(F.getAttributeType(p,f)){case"TrustedHTML":b=ne.createHTML(b);break;case"TrustedScriptURL":b=ne.createScriptURL(b)}try{l?e.setAttributeNS(l,s,b):e.setAttribute(s,b),_t(e)?gt(e):u(n.removed)}catch(a){}}}kt("afterSanitizeAttributes",e,null)},Lt=function e(t){let n=null;const r=wt(t);for(kt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)kt("uponSanitizeShadowNode",n,null),Ct(n)||(n.content instanceof l&&e(n.content),Nt(n));kt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,a=null,i=null,s=null;if(et=!e,et&&(e="\x3c!--\x3e"),"string"!=typeof e&&!xt(e)){if("function"!=typeof e.toString)throw _("toString is not a function");if("string"!=typeof(e=e.toString()))throw _("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Ae||dt(t),n.removed=[],"string"==typeof e&&(Fe=!1),Fe){if(e.nodeName){const t=it(e.nodeName);if(!ye[t]||Ce[t])throw _("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof x)r=yt("\x3c!----\x3e"),a=r.ownerDocument.importNode(e,!0),a.nodeType===K.element&&"BODY"===a.nodeName||"HTML"===a.nodeName?r=a:r.appendChild(a);else{if(!qe&&!Oe&&!Ee&&-1===e.indexOf("<"))return ne&&$e?ne.createHTML(e):e;if(r=yt(e),!r)return qe?null:$e?re:""}r&&De&&gt(r.firstChild);const c=wt(Fe?e:r);for(;i=c.nextNode();)Ct(i)||(i.content instanceof l&&Lt(i.content),Nt(i));if(Fe)return e;if(qe){if(Me)for(s=ie.call(r.ownerDocument);r.firstChild;)s.appendChild(r.firstChild);else s=r;return(_e.shadowroot||_e.shadowrootmode)&&(s=le.call(o,s,!0)),s}let u=Ee?r.outerHTML:r.innerHTML;return Ee&&ye["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&w(Q,r.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+u),Oe&&d([de,ue,fe],(e=>{u=m(u,e," ")})),ne&&$e?ne.createHTML(u):u},n.setConfig=function(){dt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Ae=!0},n.clearConfig=function(){st=null,Ae=!1},n.isValidAttribute=function(e,t,n){st||dt({});const r=it(e),o=it(t);return jt(r,o,n)},n.addHook=function(e,t){"function"==typeof t&&(ce[e]=ce[e]||[],f(ce[e],t))},n.removeHook=function(e){if(ce[e])return u(ce[e])},n.removeHooks=function(e){ce[e]&&(ce[e]=[])},n.removeAllHooks=function(){ce={}},n}return J()}()),ep.exports}var np=window.DOMPurify||(window.DOMPurify=tp().default||tp());const rp=t({__proto__:null,default:Jt(np)},[np]);e.renderSurveyInline=Gb,e.renderSurveyModal=Xb,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
